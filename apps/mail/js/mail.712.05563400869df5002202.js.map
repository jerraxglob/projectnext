{"version":3,"file":"mail.712.05563400869df5002202.js","mappings":";yGAAA,IAAIA,EAAM,CACT,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,QAAS,MACT,WAAY,MACZ,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,IACR,UAAW,IACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,YAAa,MACb,eAAgB,MAChB,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,MACX,aAAc,MACd,UAAW,MAIZ,SAASC,EAAoBC,GAC5B,OAAOC,EAA2BD,GAAKE,MAAK,SAASC,GACpD,OAAOC,EAAoBC,EAAEF,EAAI,GAClC,GACD,CACA,SAASF,EAA2BD,GACnC,OAAOI,EAAoBE,EAA0B,KAAKJ,MAAK,WAC9D,IAAIE,EAAoBG,EAAET,EAAKE,GAAM,CACpC,IAAIM,EAAI,IAAIE,MAAM,uBAAyBR,EAAM,KAEjD,MADAM,EAAEG,KAAO,mBACHH,CACP,CACA,OAAOR,EAAIE,EACZ,GACD,CACAD,EAAoBW,KAAO,WAAa,OAAOC,OAAOD,KAAKZ,EAAM,EACjEC,EAAoBa,QAAUX,EAC9BF,EAAoBI,GAAK,MACzBU,EAAOC,QAAUf,iqECvIV,IAAMgB,EAAuB,eACvBC,EAAuB,eAEfC,EAAsB,gwBAqJzC,SArJyC,0CAQ1C,SAAuBC,EAAQC,GAE9B,IAKsD,EADtD,IAJcD,EAAOE,MAAMC,cAC1BH,EAAOE,MAAME,SAASC,WAIGC,UAAU,CAAEC,SAAS,KAAO,IAAtD,IAAK,EAAL,qBAAwD,KAA7CC,EAAK,QACXA,EAAMC,KAAKC,GAAG,YAAkC,cAApBF,EAAMC,KAAKE,MAC1CV,EAAOW,OAAOJ,EAAMC,KAEtB,CAAC,+BACF,GAEA,oCAQA,SAAuBT,EAAQC,EAAQY,EAAWC,GAEjD,GAAyB,IAArBD,EAAUE,OAAd,CAKA,IAAMC,EAAehB,EAAOiB,KAAKC,UAAUC,OAAON,GAU5CO,EAAgBpB,EAAOiB,KAAKI,QAAQL,GAEpCM,EAAmBrB,EAAOsB,cAAc,aAC9CtB,EAAOuB,OAAOvB,EAAOwB,WAAW,OAAQH,GACxCrB,EAAOuB,OAAOvB,EAAOsB,cAAc,aAAcD,GACjDrB,EAAOuB,OAAOJ,EAAeE,GACzBR,GACHb,EAAOuB,OAAOvB,EAAOsB,cAAc,aAAcD,GAGlD,IAAMI,EAAoBC,KAAKC,aAAa5B,EAAQC,EAAQa,GAC5Dd,EAAOE,MAAM2B,cAAcP,EAAkBI,EAxB7C,CAyBD,GAEA,0BAWA,SAAa1B,EAAQC,EAAQa,GAC5B,GAAIA,EAAqB,CAExB,IAKsD,EADtD,IAJcd,EAAOE,MAAMC,cAC1BH,EAAOE,MAAME,SAASC,WAIGC,UAAU,CAAEC,SAAS,KAAO,IAAtD,IAAK,EAAL,qBAAwD,KAA7CC,EAAK,QACf,GAAIA,EAAMC,KAAKC,GAAG,YAAkC,UAApBF,EAAMC,KAAKE,KAC1C,OAAOV,EAAO6B,qBAAqBtB,EAAMC,KAE3C,CAAC,+BACF,CAEA,OAAOR,EAAO8B,iBAAiB/B,EAAOE,MAAME,SAASC,UAAW,MACjE,GAEA,iCAMA,SAAoBL,GAEnB,IAKsD,EADtD,IAJcA,EAAOE,MAAMC,cAC1BH,EAAOE,MAAME,SAASC,WAIGC,UAAU,CAAEC,SAAS,KAAO,IAAtD,IAAK,EAAL,qBAAwD,KAA7CC,EAAK,QACf,GAAIA,EAAMC,KAAKC,GAAG,WAAY,CAC7B,GAAwB,UAApBF,EAAMC,KAAKE,KACd,SAED,GAAwB,cAApBH,EAAMC,KAAKE,KACd,OAAO,CAET,CACD,CAAC,+BAED,OAAO,CACR,GAEA,qBAKA,SAAQqB,EAASnB,EAAWC,GAAqB,WAChDa,KAAK3B,OAAOE,MAAM+B,QAAO,SAAAhC,GAapB+B,IAAYnC,IACf,EAAKqC,uBAAuB,EAAKlC,OAAQC,GACzC,EAAKkC,uBAAuB,EAAKnC,OAAQC,EAAQY,EAAWC,IAGzDkB,IAAYlC,GAAyB,EAAKsC,oBAAoB,EAAKpC,SACtE,EAAKmC,uBAAuB,EAAKnC,OAAQC,EAAQY,EAAWC,EAE9D,GACD,GAAC,qBAED,WACCa,KAAKU,WAAY,CAClB,0EAAC,EArJyC,CAASC,EAAAA,2CCvB9CC,EAAe,aAAIC,IACzB,wFCiEaC,EAAY,SAACC,GACzB,GAAIA,EAAQC,WAAW5B,OAAS,EAC/B,IACC,OA/CsB,SAAC2B,GACzB,GAAIA,EAAQC,WAAWC,SAAS,OAE/B,OAAOzD,EAAAA,EAAAA,WAAE,OAAQ,OAElB,GAAIuD,EAAQC,WAAWC,SAAS,WAE/B,OAAOzD,EAAAA,EAAAA,WAAE,OAAQ,WAElB,GAAIuD,EAAQC,WAAWC,SAAS,UAE/B,OAAOzD,EAAAA,EAAAA,WAAE,OAAQ,UAElB,GAAIuD,EAAQC,WAAWC,SAAS,WAE/B,OAAOzD,EAAAA,EAAAA,WAAE,OAAQ,aAElB,GAAIuD,EAAQC,WAAWC,SAAS,SAC/B,OAAIF,EAAQG,iBAEJ1D,EAAAA,EAAAA,WAAE,OAAQ,kBACPuD,EAAQI,WAEX3D,EAAAA,EAAAA,WAAE,OAAQ,gBAGVA,EAAAA,EAAAA,WAAE,OAAQ,SAGnB,GAAIuD,EAAQC,WAAWC,SAAS,QAE/B,OAAOzD,EAAAA,EAAAA,WAAE,OAAQ,QAElB,GAAIuD,EAAQC,WAAWC,SAAS,QAE/B,OAAOzD,EAAAA,EAAAA,WAAE,OAAQ,QAElB,GAAIuD,EAAQC,WAAWC,SAAS,SAE/B,OAAOzD,EAAAA,EAAAA,WAAE,OAAQ,SAElB,MAAM,IAAIG,MAAM,uBAAD,OAAwBoD,EAAQC,YAChD,CAKUI,CAAiBL,EAGzB,CAFE,MAAOtD,GACR4D,QAAQC,MAAM,sCAAuC7D,EACtD,CAED,OAAOsD,EAAQQ,WAChB,0WC3EA,knGAAAC,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBAEO,SAAeC,EAAY,EAAD,oCAWhC,kCAXM,WAA2BC,EAAOC,EAAMC,GAAS,uEAIrD,GAHIC,GAAMC,EAAAA,EAAAA,aAAY,oDAAqD,CAC5EJ,MAAAA,EACAC,KAAAA,KAGGC,EAAW,CAAF,+BACNG,EAAAA,EAAAA,IAAUF,GAAI,6CAEdE,EAAAA,EAAAA,OAAaF,GAAI,4CAExB,sBACM,SAAeG,IAAmB,+BAIxC,kCAJM,sFACkD,OAAlDH,GAAMC,EAAAA,EAAAA,aAAY,iCAAgC,SACjCC,EAAAA,EAAAA,IAAUF,GAAI,OAAvB,OAARI,EAAW,EAAH,uBACPA,EAAS3C,KAAKA,MAAI,4CACzB,8FChBG4C,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,8LAA+L,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,0DAA0D,MAAQ,GAAG,SAAW,uDAAuD,eAAiB,CAAC,qJAAqJ,WAAa,MAE9jB,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,mhBAAohB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,8CAA8C,MAAQ,GAAG,SAAW,sKAAsK,eAAiB,CAAC,8hBAA8hB,WAAa,MAE/3C,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,4sBAA6sB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kDAAkD,MAAQ,GAAG,SAAW,6OAA6O,eAAiB,CAAC,qvBAAqvB,WAAa,MAE11D,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,kjBAAmjB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,4CAA4C,MAAQ,GAAG,SAAW,2KAA2K,eAAiB,CAAC,+gBAA+gB,WAAa,MAEl5C,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,ofAAqf,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gDAAgD,MAAQ,GAAG,SAAW,uKAAuK,eAAiB,CAAC,+dAA+d,WAAa,MAEpyC,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,+5BAAg6B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kDAAkD,MAAQ,GAAG,SAAW,4RAA4R,eAAiB,CAAC,27BAA27B,WAAa,MAElyE,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,6CAA8C,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,iDAAiD,MAAQ,GAAG,SAAW,mBAAmB,eAAiB,CAAC,4CAA4C,WAAa,MAEvR,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,ixDAAkxD,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gDAAgD,MAAQ,GAAG,SAAW,2xBAA2xB,eAAiB,CAAC,g+DAAg+D,WAAa,MAEtrJ,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,qtBAAstB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6CAA6C,MAAQ,GAAG,SAAW,0RAA0R,eAAiB,CAAC,iwBAAiwB,WAAa,MAEv5D,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,sFAAuF,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kEAAkE,MAAQ,GAAG,SAAW,mBAAmB,eAAiB,CAAC,yFAAyF,WAAa,MAE9X,4ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,wKAAyK,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,oDAAoD,MAAQ,GAAG,SAAW,mDAAmD,eAAiB,CAAC,yIAAyI,WAAa,MAElhB,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,gNAAiN,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mDAAmD,MAAQ,GAAG,SAAW,mDAAmD,eAAiB,CAAC,sMAAsM,WAAa,MAEtnB,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,0TAA2T,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,yDAAyD,MAAQ,GAAG,SAAW,yGAAyG,eAAiB,CAAC,oUAAoU,WAAa,MAE15B,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,0uBAA2uB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kDAAkD,MAAQ,GAAG,SAAW,6PAA6P,eAAiB,CAAC,gtBAAgtB,WAAa,MAEn2D,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,8PAA+P,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kDAAkD,MAAQ,GAAG,SAAW,8GAA8G,eAAiB,CAAC,oQAAoQ,WAAa,MAE5xB,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,25BAA45B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,oDAAoD,MAAQ,GAAG,SAAW,6TAA6T,eAAiB,CAAC,25BAA25B,WAAa,MAEjyE,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,sFAAuF,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6CAA6C,MAAQ,GAAG,SAAW,6CAA6C,eAAiB,CAAC,gGAAgG,WAAa,MAE1Y,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,iEAAkE,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,iDAAiD,MAAQ,GAAG,SAAW,mBAAmB,eAAiB,CAAC,oEAAoE,WAAa,MAEnU,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,qQAAsQ,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+CAA+C,MAAQ,GAAG,SAAW,kGAAkG,eAAiB,CAAC,mSAAmS,WAAa,MAEnzB,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,g0CAAi0C,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,8CAA8C,MAAQ,GAAG,SAAW,odAAod,eAAiB,CAAC,ivwBAAgvwB,WAAa,MAE5q0B,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,q0BAAs0B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,sDAAsD,MAAQ,GAAG,SAAW,wNAAwN,eAAiB,CAAC,syEAAuyE,WAAa,MAEp/G,6ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,mYAAoY,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mDAAmD,MAAQ,GAAG,SAAW,uJAAuJ,eAAiB,CAAC,g4LAA+7L,WAAa,MAEtoN,4ECJI4E,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACnE,EAAOV,GAAI,mJAAoJ,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6CAA6C,MAAQ,GAAG,SAAW,qCAAqC,eAAiB,CAAC,00NAAm0N,WAAa,MAElqO,2ECPA,8UCCA,svNAuBO,SAAe8E,EAAW,GAAD,+BAE/B,kCAFM,WAA0BV,GAAK,iFACvBK,EAAAA,EAAAA,KAAUD,EAAAA,EAAAA,aAAY,0CAA2C,CAAEJ,MAAAA,KAAS,uCAAEpC,KAAKA,MAAI,4CACrG,sBAEM,SAAe+C,EAAQ,GAAD,+BAE5B,kCAFM,WAAuBX,GAAK,iFACpBK,EAAAA,EAAAA,KAAUD,EAAAA,EAAAA,aAAY,uCAAwC,CAAEJ,MAAAA,KAAS,uCAAEpC,KAAKA,MAAI,4CAClG,sBAEM,SAAegD,EAAiB,EAAD,kCAErC,kCAFM,WAAgCC,EAAMC,GAAI,iFAClCT,EAAAA,EAAAA,KAAUD,EAAAA,EAAAA,aAAY,yDAA0D,CAAES,KAAAA,EAAMC,KAAAA,KAAQ,uCAAElD,KAAKA,MAAI,4CACzH,yQCjCD,svNAwBO,IAAMmD,EAAkB,yBAExB,SAAeC,EAAe,GAAD,+BAwBnC,kCAxBM,WAA8BC,GAAW,uEAM9B,OALXC,EAAYC,OAAOC,KACxBH,GACAnF,EAAAA,EAAAA,WAAE,OAAQ,uBACV,kDAESuF,QAAO,SACX,IAAIC,SAAQ,SAACjF,EAASkF,GAC3BJ,OAAOK,iBAAiB,WAAW,SAACC,GACnC,IAAQ7D,EAAS6D,EAAT7D,KACR8D,EAAAA,EAAAA,MAAa,gCAAiC,CAAED,MAAAA,IAEnC,SAAT7D,IACH8D,EAAAA,EAAAA,KAAY,6BACZrF,IAEF,IACA,IAAMsF,EAAoBC,aAAY,WACjCV,EAAUW,SACbC,cAAcH,GACdJ,EAAO,IAAItF,MAAM8E,IAEnB,GAAG,IACJ,IAAE,4CACF,yQCiND,knGAAAjB,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,szBAAAA,EAAA,EAAAA,EAAA,iBAAAA,IAAA,uBAAAA,GAAA,UAAAA,GAAA,GAAAA,EAAA,4XAcA,OACAxC,KAAAA,cACAyE,WAAAA,CACAC,IAAAA,EAAAA,IACAC,KAAAA,EAAAA,KACAC,UAAAA,EAAAA,GACAC,YAAAA,EAAAA,GACAC,UAAAA,EAAAA,SAEAC,MAAAA,CACAxC,YAAAA,CACAI,KAAAA,OACAqC,QAAAA,IAEAtC,MAAAA,CACAC,KAAAA,OACAqC,QAAAA,IAEAC,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,EACAF,QAAAA,WAAA,IAGA1E,KAAAA,WAAA,WACA,gBACA,0BACA,aAEA,CAEA,EAEA,OACA6E,SAAAA,EACAC,oBAAAA,EACAC,KAAAA,OACAC,YAAAA,KAAAA,YACAC,aAAAA,KAAAA,MACAC,WAAAA,CACAC,SAAAA,IAEAC,aAAAA,CACAC,SAAAA,EAAAA,WAAAA,IACAC,SAAAA,EAAAA,WAAAA,KACAC,YAAAA,EAAAA,cAAAA,OACAC,SAAAA,EAAAA,WAAAA,IACAC,aAAAA,GACAC,SAAAA,EAAAA,WAAAA,IACAC,SAAAA,EAAAA,WAAAA,KACAC,YAAAA,EAAAA,cAAAA,OACAC,SAAAA,EAAAA,WAAAA,IACAC,aAAAA,IAEAC,SAAAA,KAEA,EACAC,SAAAA,EAAAA,EAAAA,CAAAA,GACAC,EAAAA,EAAAA,IAAAA,CACA,oBACA,IAEAC,aAAAA,WACA,4BACA,EAEAC,eAAAA,WACA,uBAIA,mBACA,cAGA,2DACA,gDACA,EAEAC,iBAAAA,WACA,uBAIA,qBACA,eAGA,yDACA,wDACA,iFACA,wDACA,iFACA,EAEAC,gBAAAA,WACA,yBACA,yCAEA,+CACA,6CAEA,EAEAC,aAAAA,WACA,gDACA,EAEAC,iBAAAA,WACA,0BACA,kFAEA,kBACA,8GAEA,6EACA,IAEAC,QAAAA,CACAC,cAAAA,SAAAA,GACA,mBAEA,uBAEA,kCACA,8CAEA,sCACA,yDAIA,kCACA,8CAEA,sCACA,yDAGA,EACAC,oBAAAA,WAGA,OAFA,qBAEA,+BACA,WACA,UACA,+BACA,MACA,UACA,+BAGA,EACAC,oBAAAA,WAGA,OAFA,qBAEA,+BACA,WACA,UACA,+BACA,MACA,UACA,+BAGA,EACAC,cAAAA,WACA,kBACA,EACAC,gBAAAA,SAAAA,GACA,YAGA,wBACA,iDACA,6CACA,6CACA,oDACA,yDAEA,wBACA,iDACA,6CACA,6CACA,oDACA,0DAEA,EACA,EACAC,aAAAA,WAAA,4HACA,oFACAhE,EAAAA,EAAAA,cAAA,OAGA,GAHAiE,EAAAA,EAAAA,KACAjD,EAAAA,EAAAA,MAAAA,sBAAAA,CAAAiD,OAAAA,KAGA,sCACA,OAAAjD,EAAAA,EAAAA,MAAAA,yBAAA,mBACA,WAEA,4FACAf,EAAAA,EAAAA,cAAA,QAOA,OAPAiE,EAAAA,EAAAA,KACAlD,EAAAA,EAAAA,MAAAA,mBAAAA,CAAAkD,QAAAA,IACAC,EAAAA,EAAAA,SAAAA,SAAAA,GACA,gDACAhE,KAAAA,EACAC,KAAAA,EACA,GACA,cACAQ,QAAAA,IAAAA,EAAAA,IAAAA,WAAA,yGAGA,OAHAT,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,KAAA,KAEAA,EAAA,KACAC,EAAA,SACAF,EAAAA,EAAAA,GAAA,6CAFAC,KAAAA,EAAAA,GACAC,KAAAA,EAAAA,GACAgE,WAAAA,EAAAA,KAAA,2CAEA,mDANAxD,KAMA,QAGA,GATAyD,EAAAA,EAAAA,KAOAC,EAAAA,EAAAA,QAAAA,SAAAA,GAAA,mBAAAlE,EAAAA,EAAAA,KAAA,wBACAmE,EAAAA,EAAAA,QAAAA,SAAAA,GAAA,mBAAAnE,EAAAA,EAAAA,KAAA,sCACAY,EAAAA,EAAAA,MAAAA,yBAAAA,CAAAsD,cAAAA,EAAAC,cAAAA,KACAD,IAAAA,EAAAA,CAAA,gBAcA,OAbA,mBACAE,WAAAA,CACAC,SAAAA,EAAAA,aACAtE,KAAAA,EAAAA,KACAC,KAAAA,EAAAA,KACAsE,SAAAA,MAAAA,EAAAA,KAAAA,MAAAA,OAEAC,WAAAA,CACAF,SAAAA,EAAAA,aACAtE,KAAAA,EAAAA,KACAC,KAAAA,EAAAA,KACAsE,SAAAA,MAAAA,EAAAA,KAAAA,MAAAA,SAEA,mBACA,WAEA,sIAEA,8CAhDA,EAkDA,EACAE,SAAAA,SAAAA,GAAA,gIACA,GAAA5D,EAAAA,EAAAA,MAAAA,yBAAAA,CAAAD,MAAAA,KACA,sDACA,OAAAC,EAAAA,EAAAA,KAAAA,sBAAA,0BAIA,GADA,kBACA,sBAEA,kDACA,oDACA,OAAAA,EAAAA,EAAAA,KAAAA,oBAAA,2BAgBA,GAZA,kEACA9D,EAAAA,EAAAA,EAAAA,CAAAA,EACA,oBACAgF,YAAAA,EAAAA,YACAC,aAAAA,EAAAA,aACAI,SAAAA,EAAAA,aAAAA,SAAAA,OACAK,SAAAA,EAAAA,aAAAA,SAAAA,OACAiC,WAAAA,EAAAA,aAAAA,UAAAA,aAEA,wBACA,sBACA,gBAEA,4CACA,oDAAAhD,EAAAA,EAAAA,MACA,gCAEA,OADA,iEACA,2IAEAvB,EACA,iBACAwE,QAAAA,cAAAA,EAAAA,IACAA,QAAAA,UAAAA,mBAAAA,EAAAA,gBACA,gCAIA,MAJA,2BAGA,qCACA9D,EAAAA,EAAAA,KAAAA,qBAAAA,OAAAA,EAAAA,GAAAA,aAAA,aAGA,0BAEA,4EACA,wCAAAa,QAAAA,IAAA,QACA,qDAEA,OAAAkD,EAAAA,EAAAA,QAAA,UACA,yCACA7H,GAAAA,CAAAA,EAAAA,CACA8H,UAAAA,EAAAA,QAAAA,MACA,QAHA,GAAAnD,EAAAA,EAAAA,MAIA,gCAEA,OADA,iEACA,gJAEAvB,EACA,iBACAwE,QAAAA,cAAAA,EAAAA,IACAA,QAAAA,UAAAA,mBAAAA,EAAAA,gBACA,4EAGA,yCACAC,GAAAA,CAAAA,EAAAA,CACAC,UAAAA,EAAAA,MACA,QACA,MAAAhE,EAAAA,EAAAA,KAAAA,WAAAA,OAAAA,EAAAA,GAAAA,mBAAA,aAGA,0BAEA,+GAGAA,EAAAA,EAAAA,MAAAA,iCAAAA,CAAA9B,MAAAA,EAAAA,KAEA,uEACA,2BACA,kEACA,6BACA,mEAEA,qEACA,2BACA,wEACA,6BACA,yEAGA,6DACA,4DACA,6DACA,4DACA,iBACA,uEAEA,sFAEA,QAGA,OAHA,UAEA,aACA,oHA1GA,EA4GA,EACA+F,aAAAA,SAAAA,GAEA,MADA,wJACA,OACA,IClnB4K,qICWxKC,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,WALlD,eCVI,EAAU,CAAC,EAEf,EAAQC,kBAAoB,IAC5B,EAAQC,cAAgB,IAElB,EAAQC,OAAS,SAAc,KAAM,QAE3C,EAAQC,OAAS,IACjB,EAAQC,mBAAqB,IAEhB,IAAI,IAAS,GAKJ,KAAW,YAAiB,WALlD,ICZIC,GAAY,cACd,GPVW,WAAkB,IAAIC,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,gBAAgBC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIb,SAASoB,MAAM,KAAMC,UAAU,IAAI,CAACP,EAAG,OAAO,CAACE,MAAM,CAAC,QAAU,CAACM,gBAAgB,EAAOC,eAAgBV,EAAIrC,aAAe,SAAW,QAAQ,iBAAiB,KAAKyC,GAAG,CAAC,QAAUJ,EAAI9B,gBAAgB,CAAC+B,EAAG,MAAM,CAACU,IAAI,OAAOR,MAAM,CAAC,GAAK,OAAO,KAAOH,EAAIrK,EAAE,OAAQ,UAAU,CAACsK,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,cAAc,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIvD,YAAauE,WAAW,gBAAgBb,MAAM,CAAC,GAAK,YAAY,KAAO,OAAO,YAAcH,EAAIrK,EAAE,OAAQ,QAAQ,SAAWqK,EAAI1D,QAAQ,UAAY,IAAI2E,SAAS,CAAC,MAASjB,EAAIvD,aAAc2D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAIvD,YAAY4D,EAAOa,OAAOlK,MAAK,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,iBAAiB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,oBAAoBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,eAAe/J,MAAOgJ,EAAItD,aAAcsE,WAAW,eAAeK,UAAU,CAAC,MAAO,KAAQlB,MAAM,CAAC,GAAK,eAAe,SAAWH,EAAI1D,QAAQ,YAAc0D,EAAIrK,EAAE,OAAQ,oBAAoB,SAAW,GAAG,KAAO,SAASsL,SAAS,CAAC,MAASjB,EAAItD,cAAe0D,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOL,EAAIR,aAAaQ,EAAItD,aAAa,EAAE,OAAS,CAAC,SAAS2D,GAAQL,EAAItD,aAAa2D,EAAOa,OAAOlK,KAAK,EAAEgJ,EAAI3B,kBAAkB2B,EAAIY,GAAG,KAAOZ,EAAIR,aAAaQ,EAAItD,cAA2KsD,EAAIsB,KAAhKrB,EAAG,IAAI,CAACmB,YAAY,uBAAuB,CAACpB,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,yDAAyD,cAAuBqK,EAAIY,GAAG,KAAOZ,EAAIjC,aAAkJiC,EAAIsB,KAAxIrB,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,gBAAyBqK,EAAIY,GAAG,KAAOZ,EAAIjC,aAA0ciC,EAAIsB,KAAhcrB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIrD,WAAWC,SAAUoE,WAAW,wBAAwBb,MAAM,CAAC,GAAK,gBAAgB,SAAWH,EAAI1D,QAAQ,YAAc0D,EAAIrK,EAAE,OAAQ,YAAY,SAAW,GAAG,KAAO,YAAYsL,SAAS,CAAC,MAASjB,EAAIrD,WAAWC,UAAWwD,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAIrD,WAAY,WAAY0D,EAAOa,OAAOlK,MAAM,OAAgBgJ,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACU,IAAI,SAASR,MAAM,CAAC,GAAK,SAAS,KAAOH,EAAIrK,EAAE,OAAQ,YAAY,CAACsK,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,aAAa,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIvD,YAAauE,WAAW,gBAAgBb,MAAM,CAAC,GAAK,WAAW,KAAO,OAAO,YAAcH,EAAIrK,EAAE,OAAQ,QAAQ,SAAWqK,EAAI1D,SAAS2E,SAAS,CAAC,MAASjB,EAAIvD,aAAc2D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAIvD,YAAY4D,EAAOa,OAAOlK,MAAK,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,gBAAgB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,oBAAoBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,eAAe/J,MAAOgJ,EAAItD,aAAcsE,WAAW,eAAeK,UAAU,CAAC,MAAO,KAAQlB,MAAM,CAAC,GAAK,cAAc,KAAO,QAAQ,YAAcH,EAAIrK,EAAE,OAAQ,oBAAoB,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAItD,cAAe0D,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOL,EAAIR,aAAaQ,EAAItD,aAAa,EAAE,OAAS,CAAC,SAAS2D,GAAQL,EAAItD,aAAa2D,EAAOa,OAAOlK,KAAK,EAAEgJ,EAAI3B,kBAAkB2B,EAAIY,GAAG,KAAOZ,EAAIR,aAAaQ,EAAItD,cAA2KsD,EAAIsB,KAAhKrB,EAAG,IAAI,CAACmB,YAAY,uBAAuB,CAACpB,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,yDAAyD,cAAuBqK,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAAqBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaC,SAAUkE,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,YAAcH,EAAIrK,EAAE,OAAQ,aAAa,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaC,UAAWsD,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,WAAYwD,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACmB,YAAY,mCAAmC,CAACpB,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkB,cAAcqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,YAAY,CAACnB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaG,YAAagE,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,oBAAoB,KAAO,QAAQ,KAAO,eAAe,SAAWH,EAAI1D,QAAQ,MAAQ,QAAQ2E,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAInD,aAAaG,YAAY,SAASoD,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAInD,aAAc,cAAe,OAAO,EAAEmD,EAAI7B,wBAAwB6B,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,SAAjC1B,EAAInD,aAAaG,aAAwBmD,MAAM,CAAC,IAAM,sBAAsB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaG,YAAagE,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,mBAAmB,KAAO,QAAQ,KAAO,eAAe,SAAWH,EAAI1D,QAAQ,MAAQ,OAAO2E,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAInD,aAAaG,YAAY,QAAQoD,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAInD,aAAc,cAAe,MAAM,EAAEmD,EAAI7B,wBAAwB6B,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,QAAjC1B,EAAInD,aAAaG,aAAuBmD,MAAM,CAAC,IAAM,qBAAqB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,eAAeqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaG,YAAagE,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,mBAAmB,KAAO,QAAQ,KAAO,eAAe,SAAWH,EAAI1D,QAAQ,MAAQ,OAAO2E,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAInD,aAAaG,YAAY,QAAQoD,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAInD,aAAc,cAAe,MAAM,EAAEmD,EAAI7B,wBAAwB6B,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,QAAjC1B,EAAInD,aAAaG,aAAuBmD,MAAM,CAAC,IAAM,qBAAqB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaE,SAAUiE,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,gBAAgB,KAAO,SAAS,YAAcH,EAAIrK,EAAE,OAAQ,aAAa,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaE,UAAWqD,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,WAAYwD,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaI,SAAU+D,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,YAAcH,EAAIrK,EAAE,OAAQ,aAAa,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaI,UAAWmD,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,WAAYwD,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAOZ,EAAIjC,aAA2JiC,EAAIsB,KAAjJrB,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,sBAAsB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAA8BqK,EAAIY,GAAG,KAAOZ,EAAIjC,aAA2eiC,EAAIsB,KAAjerB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaK,aAAc8D,WAAW,8BAA8Bb,MAAM,CAAC,GAAK,oBAAoB,KAAO,WAAW,YAAcH,EAAIrK,EAAE,OAAQ,iBAAiB,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaK,cAAekD,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,eAAgBwD,EAAOa,OAAOlK,MAAM,KAAcgJ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAAqBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaM,SAAU6D,WAAW,0BAA0BW,IAAI,WAAWxB,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,KAAO,YAAY,YAAcH,EAAIrK,EAAE,OAAQ,aAAa,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaM,UAAWiD,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,WAAYwD,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACmB,YAAY,mCAAmC,CAACpB,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkB,cAAcqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,YAAY,CAACnB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaQ,YAAa2D,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,oBAAoB,KAAO,QAAQ,KAAO,eAAe,SAAWH,EAAI1D,QAAQ,MAAQ,QAAQ2E,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAInD,aAAaQ,YAAY,SAAS+C,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAInD,aAAc,cAAe,OAAO,EAAEmD,EAAI5B,wBAAwB4B,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,SAAjC1B,EAAInD,aAAaQ,aAAwB8C,MAAM,CAAC,IAAM,sBAAsB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaQ,YAAa2D,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,mBAAmB,KAAO,QAAQ,KAAO,eAAe,SAAWH,EAAI1D,QAAQ,MAAQ,OAAO2E,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAInD,aAAaQ,YAAY,QAAQ+C,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAInD,aAAc,cAAe,MAAM,EAAEmD,EAAI5B,wBAAwB4B,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,QAAjC1B,EAAInD,aAAaQ,aAAuB8C,MAAM,CAAC,IAAM,qBAAqB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,eAAeqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaQ,YAAa2D,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,mBAAmB,KAAO,QAAQ,KAAO,eAAe,SAAWH,EAAI1D,QAAQ,MAAQ,OAAO2E,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAInD,aAAaQ,YAAY,QAAQ+C,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAInD,aAAc,cAAe,MAAM,EAAEmD,EAAI5B,wBAAwB4B,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,QAAjC1B,EAAInD,aAAaQ,aAAuB8C,MAAM,CAAC,IAAM,qBAAqB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaO,SAAU4D,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,gBAAgB,KAAO,SAAS,YAAcH,EAAIrK,EAAE,OAAQ,aAAa,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaO,UAAWgD,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,WAAYwD,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaS,SAAU0D,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,YAAcH,EAAIrK,EAAE,OAAQ,aAAa,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaS,UAAW8C,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,WAAYwD,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAOZ,EAAIjC,aAA2JiC,EAAIsB,KAAjJrB,EAAG,QAAQ,CAACmB,YAAY,gCAAgCjB,MAAM,CAAC,IAAM,sBAAsB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAA8BqK,EAAIY,GAAG,KAAOZ,EAAIjC,aAA2eiC,EAAIsB,KAAjerB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAInD,aAAaU,aAAcyD,WAAW,8BAA8Bb,MAAM,CAAC,GAAK,oBAAoB,KAAO,WAAW,YAAcH,EAAIrK,EAAE,OAAQ,iBAAiB,SAAWqK,EAAI1D,QAAQ,SAAW,IAAI2E,SAAS,CAAC,MAASjB,EAAInD,aAAaU,cAAe6C,GAAG,CAAC,OAASJ,EAAI3B,cAAc,MAAQ,SAASgC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAInD,aAAc,eAAgBwD,EAAOa,OAAOlK,MAAM,QAAiB,GAAGgJ,EAAIY,GAAG,KAAMZ,EAAIlC,kBAAoBkC,EAAI4B,eAAgB3B,EAAG,MAAM,CAACmB,YAAY,4BAA4B,CAACpB,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,uIAAuI,UAAUqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,gCAAgC,CAAe,SAAbpB,EAAIxD,KAAiByD,EAAG,YAAY,CAACmB,YAAY,8BAA8BjB,MAAM,CAAC,KAAO,UAAU,cAAc,SAAS,SAAWH,EAAIpC,gBAAkBoC,EAAI1D,SAAS8D,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIb,SAASoB,MAAM,KAAMC,UAAU,GAAGqB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIhC,kBAAkB,YAA0B,WAAbgC,EAAIxD,KAAmByD,EAAG,YAAY,CAACmB,YAAY,8BAA8BjB,MAAM,CAAC,KAAO,UAAU,cAAc,SAAS,SAAWH,EAAInC,kBAAoBmC,EAAI1D,SAAS8D,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIb,SAASoB,MAAM,KAAMC,UAAU,GAAGqB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,MAAS,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIhC,kBAAkB,YAAYgC,EAAIsB,MAAM,GAAGtB,EAAIY,GAAG,KAAMZ,EAAIxC,SAAUyC,EAAG,MAAM,CAACmB,YAAY,0BAA0B,CAACpB,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIxC,UAAU,UAAUwC,EAAIsB,MAAM,EACjrc,GACsB,IOWpB,EACA,KACA,WACA,MAIF,GAAevB,EAAiB,4ECpBhC,gHCA8K,EC0E9K,CACA5I,KAAAA,gBACAyE,WAAAA,CACAG,UAAAA,EAAAA,GACAkG,MAAAA,EAAAA,GACAC,UAAAA,EAAAA,EACAC,UAAAA,EAAAA,QACAC,SAAAA,EAAAA,EACAC,YAAAA,EAAAA,EACAC,UAAAA,EAAAA,EACAC,WAAAA,EAAAA,QACAC,eAAAA,EAAAA,QACAxG,YAAAA,EAAAA,IAEAE,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,GAEAoG,SAAAA,CACA3I,KAAAA,OACAuC,UAAAA,EACAF,aAAAA,GAEAG,QAAAA,CACAxC,KAAAA,QACAuC,UAAAA,EACAF,SAAAA,GAEAuG,YAAAA,CACA5I,KAAAA,OACAqC,SAAAA,EAAAA,EAAAA,WAAAA,OAAAA,WAEAwG,mBAAAA,CACA7I,KAAAA,OACAqC,SAAAA,EAAAA,EAAAA,WAAAA,OAAAA,WAEAyG,cAAAA,CACA9I,KAAAA,OACAuC,UAAAA,EACAF,QAAAA,WAAA,GAEA0G,UAAAA,CACA/I,KAAAA,QACAqC,SAAAA,IAGA1E,KAAAA,WACA,OACAqL,uBAAAA,EACAC,cAAAA,GAEA,EACAtF,SAAAA,CACAuF,UAAAA,WACA,8BAGA,4DAFA,wDAIA,EACAC,kBAAAA,WAAA,WACA,0BACA,uFAEA,cACA,GAEAhF,QAAAA,CACAiF,eAAAA,SAAAA,GACA,wDACA,EACAC,gBAAAA,SAAAA,GACA,gBACA,EACAC,YAAAA,WACA,8BACA,qCACA,qBACA,EACAC,aAAAA,SAAAA,GACA,wDACA,qDACA,kDACA,EACAC,eAAAA,SAAAA,GACA,oCACA,qDACA,0BACA,EACAC,SAAAA,WACA,2CACA,EACAC,QAAAA,WACA,mBACA,qIC9JI/D,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,WALlD,ICbIM,GAAY,cACd,GJTW,WAAkB,IAAIC,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACG,GAAG,CAAC,MAAQJ,EAAIwD,UAAU,CAACvD,EAAG,MAAM,CAAC0B,IAAI,UAAUP,YAAY,iBAAiB,CAACnB,EAAG,KAAK,CAACmB,YAAY,mBAAmB,CAACpB,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,0BAA0B,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,OAAO,CAACmB,YAAY,UAAU,CAACnB,EAAG,MAAM,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIoD,YAAY7C,MAAM,KAAMC,UAAU,IAAI,CAACP,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,GAAGH,EAAIY,GAAG,KAAKZ,EAAIyD,GAAIzD,EAAI+C,eAAe,SAASW,EAAIC,GAAO,OAAO1D,EAAG,MAAM,CAACU,IAAI+C,EAAIE,WAAWxC,YAAY,SAAS,CAACnB,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIqD,aAAaM,EAAM,IAAI,CAAC3D,EAAIY,GAAG,eAAeZ,EAAIa,GAAGb,EAAImD,gBAAgBO,IAAM,iBAAiB,EAAE,KAAI,GAAG1D,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,gBAAgB,CAAEpB,EAAIiD,kBAAkB1L,OAAS,EAAG0I,EAAG,KAAKD,EAAIyD,GAAIzD,EAAIiD,mBAAmB,SAASS,GAAK,OAAOzD,EAAG,KAAK,CAACU,IAAI+C,EAAIE,WAAWxD,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIsD,eAAeI,EAAI,IAAI,CAAsB,UAApBA,EAAIG,YAAyB5D,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAA2B,WAApBuD,EAAIG,YAA0B5D,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAA2B,SAApBuD,EAAIG,YAAwB5D,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAA2B,YAApBuD,EAAIG,YAA2B5D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAA2B,UAApBuD,EAAIG,YAAyB5D,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,iBAAiB,CAACpB,EAAIY,GAAG,iBAAiBZ,EAAIa,GAAGb,EAAImD,gBAAgBO,IAAM,mBAAmB,EAAE,IAAG,GAAGzD,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,qBAAqBpB,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qCAAqC,GAAGqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,WAAW,CAACnB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,SAAWH,EAAI1D,UAAa0D,EAAI6C,YAAc7C,EAAI8C,mBAAoB1C,GAAG,CAAC,MAAQJ,EAAIuD,UAAU1B,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIsB,KAAK,EAAEU,OAAM,MAAS,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAI1D,QAAU0D,EAAI2C,mBAAqB3C,EAAI0C,aAAa,eAAe,MAC1oE,GACsB,IIUpB,EACA,KACA,WACA,MAIF,EAAe3C,EAAiB,4ECnBhC,uTCgCA,knGAAApG,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+XAMA,OACAxC,KAAAA,yBACAyE,WAAAA,CACAkI,OAAAA,EAAAA,GACAC,QAAAA,EAAAA,EACAC,YAAAA,EAAAA,EACAhI,YAAAA,KAEAvE,KAAAA,WACA,OACAwM,YAAAA,EAEA,EACAxG,SAAAA,CACAyG,eAAAA,WACA,8DACA,mEAGA,GAEAjG,QAAAA,CACAkG,eAAAA,WAAA,IA5BA,EA4BA,cA5BA,EA4BA,4FACA,iCACA,OAAA5I,EAAAA,EAAAA,MAAAA,uCAAA,0BAGA,yCAEA,mCAAA6I,UAAAA,EAAAA,eAAAA,aAAA,OACA7I,EAAAA,EAAAA,MAAAA,gCAAA,kDAEAA,EAAAA,EAAAA,MAAAA,iCAAAA,CAAA9B,MAAAA,EAAAA,KAAA,QAEA,OAFA,UAEA,4FAxCA,gLA0CA,EACA4K,aAAAA,WACA,4CAEA,EACA,IC/EuL,qICWnL5E,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,WALlD,eCFA,GAXgB,OACd,GCTW,WAAkB,IAAIO,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACmB,YAAY,UAAU,CAACnB,EAAG,SAAS,CAACmB,YAAY,qBAAqBjB,MAAM,CAAC,KAAO,UAAU,SAAWH,EAAIsE,OAAOC,QAAQC,oBAAoB,YAAY,mBAAmB,KAAO,gBAAgB,MAAO,GAAMpE,GAAG,CAAC,MAAQJ,EAAIqE,cAAcxC,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,MAAS,CAAChC,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,gBAAgB,UAAUqK,EAAIY,GAAG,KAAMZ,EAAIkE,eAAgBjE,EAAG,SAAS,CAACmB,YAAY,kBAAkBjB,MAAM,CAAC,KAAO,yBAAyB,SAAWH,EAAIiE,YAAY7D,GAAG,CAAC,MAAQJ,EAAImE,gBAAgBtC,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAG/B,EAAIiE,WAAkDjE,EAAIsB,KAA1CrB,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAeH,EAAIY,GAAG,KAAMZ,EAAIiE,WAAYhE,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIsB,KAAK,EAAEU,OAAM,IAAO,MAAK,EAAM,cAAchC,EAAIsB,MAAM,EACz4B,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,0FEnB+I,EC+C/K,CACAnK,KAAAA,iBACA+E,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACA+E,KAAAA,KAAAA,QAAAA,WAEA,EACAiI,MAAAA,CACAjI,KAAAA,SAAAA,EAAAA,GAAA,WACA,YACAkI,SAAAA,eAAAA,CACAtI,QAAAA,KAAAA,QACA3E,KAAAA,CACAkN,WAAAA,KAGAnP,MAAAA,WACAoP,EAAAA,EAAAA,KAAAA,sBACA,IACAC,OAAAA,SAAAA,GAGA,MAFAD,EAAAA,EAAAA,MAAAA,+BAAAA,CAAAnL,MAAAA,IACA,eACA,CACA,GACA,eClEI,EAAU,CAAC,EAEf,EAAQiG,kBAAoB,IAC5B,EAAQC,cAAgB,IAElB,EAAQC,OAAS,SAAc,KAAM,QAE3C,EAAQC,OAAS,IACjB,EAAQC,mBAAqB,IAEhB,IAAI,IAAS,GAKJ,KAAW,YAAiB,WALlD,ICFA,GAXgB,OACd,GCTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIxD,KAAMwE,WAAW,SAASI,YAAY,QAAQjB,MAAM,CAAC,GAAK,YAAY,KAAO,QAAQ,MAAQ,aAAac,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAIxD,KAAK,cAAc4D,GAAG,CAAC,OAAS,SAASC,GAAQL,EAAIxD,KAAK,WAAW,KAAKwD,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACwB,MAAM,CAACC,QAAsB,cAAb1B,EAAIxD,MAAsB2D,MAAM,CAAC,IAAM,cAAc,CAACH,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,eAAe,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIxD,KAAMwE,WAAW,SAASI,YAAY,QAAQjB,MAAM,CAAC,GAAK,WAAW,KAAO,QAAQ,MAAQ,YAAYc,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAIxD,KAAK,aAAa4D,GAAG,CAAC,OAAS,SAASC,GAAQL,EAAIxD,KAAK,UAAU,KAAKwD,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACwB,MAAM,CAACC,QAAsB,aAAb1B,EAAIxD,MAAqB2D,MAAM,CAAC,IAAM,aAAa,CAACH,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,cAAc,eAC17B,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,2BEnBoJ,YCapL,CACAwB,KAAAA,sBACAyE,WAAAA,CACAkJ,WAAAA,KAEA5I,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,GAEA0I,SAAAA,CACAjL,KAAAA,QACAqC,SAAAA,GAEAnF,MAAAA,CACA8C,KAAAA,OACAqC,aAAAA,IAGA1E,KAAAA,WACA,OACAgL,SAAAA,KAAAA,MAEA,EACAhF,SAAAA,CACAuF,UAAAA,WACA,0BACA,GAEAyB,MAAAA,CACAhC,SAAAA,SAAAA,GACA,iBACA,sBACA,gBAEA,GAEAxE,QAAAA,CACA+G,aAAAA,SAAAA,GAAA,WAOA,OALA,EAGAhC,KAAAA,OAAAA,QAAAA,gBAAAA,GAFAA,KAAAA,OAAAA,QAAAA,aAAAA,KAAAA,QAAAA,YAIA,iBACA,OACAvN,GAAAA,EAAAA,WACAwP,MAAAA,EAAAA,YACAC,SAAAA,EAAAA,UAAAA,OAAAA,EAAAA,EAAAA,aAAAA,EAAAA,YAAAA,GAEA,GACA,gBCtDI,EAAU,CAAC,qPCoCf,knGAAAvL,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBDlCA,EAAQ+F,kBAAoB,IAC5B,EAAQC,cAAgB,IAElB,EAAQC,OAAS,SAAc,KAAM,QAE3C,EAAQC,OAAS,IACjB,EAAQC,mBAAqB,IAEhB,IAAI,IAAS,GAKJ,KAAW,YAAiB,WCwBlD,IClDwL,EDkDxL,CACA3I,KAAAA,0BACAyE,WAAAA,CACAuJ,qBE7CgB,OACd,GCTW,WAAkB,IAAInF,EAAI7H,KAAqB,OAAO8H,EAApBD,EAAIE,MAAMD,IAAa,aAAa,CAAC0B,IAAI,aAAaxB,MAAM,CAAC,QAAUH,EAAIgD,UAAU,UAAW,EAAM,WAAY,EAAM,SAAWhD,EAAI+E,UAAUrO,MAAM,CAACM,MAAOgJ,EAAIyC,SAAU2C,SAAS,SAAUC,GAAMrF,EAAIyC,SAAS4C,CAAG,EAAErE,WAAW,aAClR,GACsB,IDUpB,EACA,KACA,KACA,MAI8B,SFoChC9E,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACA6N,QAAAA,EAEA,EACA7H,SAAAA,CACA8H,cAAAA,CACAC,IAAAA,WACA,mEACA,KAGA,mBACA,EACAC,IAAAA,SAAAA,GAAA,4GAEA,OADAlK,EAAAA,EAAAA,MAAAA,6BAAAA,GACA,8BAEA,kCACAa,QAAAA,EAAAA,QACA3E,KAAAA,CACAiO,gBAAAA,KAEA,uDAEAnK,EAAAA,EAAAA,MAAAA,+BAAAA,CACA9B,MAAAA,EAAAA,KACA,QAEA,OAFA,UAEA,uFAfA,EAiBA,GAEAkM,YAAAA,CACAH,IAAAA,WACA,iEACA,KAGA,mBACA,EACAC,IAAAA,SAAAA,GAAA,4GAEA,OADAlK,EAAAA,EAAAA,MAAAA,2BAAAA,GACA,8BAEA,kCACAa,QAAAA,EAAAA,QACA3E,KAAAA,CACAmO,cAAAA,KAEA,uDAEArK,EAAAA,EAAAA,MAAAA,6BAAAA,CACA9B,MAAAA,EAAAA,KACA,QAEA,OAFA,UAEA,uFAfA,EAiBA,GAEAoM,aAAAA,CACAL,IAAAA,WACA,kEACA,KAGA,mBACA,EACAC,IAAAA,SAAAA,GAAA,4GAEA,OADAlK,EAAAA,EAAAA,MAAAA,4BAAAA,GACA,8BAEA,kCACAa,QAAAA,EAAAA,QACA3E,KAAAA,CACAqO,eAAAA,KAEA,uDAEAvK,EAAAA,EAAAA,MAAAA,8BAAAA,CACA9B,MAAAA,EAAAA,KACA,QAEA,OAFA,UAEA,uFAfA,EAiBA,GAEAsM,eAAAA,CACAP,IAAAA,WACA,oEACA,KAGA,mBACA,EACAC,IAAAA,SAAAA,GAAA,4GAEA,OADAlK,EAAAA,EAAAA,MAAAA,8BAAAA,GACA,8BAEA,kCACAa,QAAAA,EAAAA,QACA3E,KAAAA,CACAuO,iBAAAA,KAEA,uDAEAzK,EAAAA,EAAAA,MAAAA,gCAAAA,CACA9B,MAAAA,EAAAA,KACA,QAEA,OAFA,UAEA,uFAfA,EAiBA,gBIlKI,GAAU,CAAC,EAEf,GAAQiG,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,IAAS,IAKJ,KAAW,YAAiB,WALlD,ICFA,IAXgB,OACd,GCTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,IAAI,CAACD,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,yBAAyB,UAAUqK,EAAIY,GAAG,KAAKX,EAAG,sBAAsB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,SAAW4D,EAAIsF,QAAQ5O,MAAM,CAACM,MAAOgJ,EAAIuF,cAAeH,SAAS,SAAUC,GAAMrF,EAAIuF,cAAcF,CAAG,EAAErE,WAAW,mBAAmBhB,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACD,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,gCAAgC,UAAUqK,EAAIY,GAAG,KAAKX,EAAG,sBAAsB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,SAAW4D,EAAIsF,QAAQ5O,MAAM,CAACM,MAAOgJ,EAAI2F,YAAaP,SAAS,SAAUC,GAAMrF,EAAI2F,YAAYN,CAAG,EAAErE,WAAW,iBAAiBhB,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACD,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,mCAAmC,UAAUqK,EAAIY,GAAG,KAAKX,EAAG,sBAAsB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,SAAW4D,EAAIsF,QAAQ5O,MAAM,CAACM,MAAOgJ,EAAI6F,aAAcT,SAAS,SAAUC,GAAMrF,EAAI6F,aAAaR,CAAG,EAAErE,WAAW,kBAAkBhB,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACD,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,oCAAoC,UAAUqK,EAAIY,GAAG,KAAKX,EAAG,sBAAsB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,SAAW4D,EAAIsF,QAAQ5O,MAAM,CAACM,MAAOgJ,EAAI+F,eAAgBX,SAAS,SAAUC,GAAMrF,EAAI+F,eAAeV,CAAG,EAAErE,WAAW,qBAAqB,EAC5uC,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,8SEmDhC,onGAAArH,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,skBAQA,IC9EkL,GD8ElL,CACAxC,KAAAA,oBACAyE,WAAAA,CACAqK,WAAAA,GAAAA,EACAC,YAAAA,EAAAA,GACAnK,UAAAA,EAAAA,GACAC,YAAAA,EAAAA,GACAC,UAAAA,GAAAA,SAEAC,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACA6E,SAAAA,EACA6J,IAAAA,IAAAA,GAAAA,GACAC,SAAAA,KACA/O,UAAAA,GACAC,oBAAAA,KAAAA,QAAAA,oBAEA,EACAmG,SAAAA,CACA4I,WAAAA,WACA,4CACA,OACA5Q,GAAAA,EAAAA,GACAwP,MAAAA,EAAAA,KAAAA,KAAAA,EAAAA,MAAAA,IACA5N,UAAAA,EAAAA,UAEA,IAQA,OANAgP,EAAAA,QAAAA,CACA5Q,IAAAA,EACAwP,MAAAA,KAAAA,QAAAA,KAAAA,KAAAA,KAAAA,QAAAA,aAAAA,IACA5N,UAAAA,KAAAA,QAAAA,YAGA,CACA,EACAiP,iBAAAA,WACA,8CACA,GAEA7B,MAAAA,CACAnN,oBAAAA,SAAAA,EAAAA,GAAA,wIAEA,kCACA8E,QAAAA,EAAAA,QACA3E,KAAAA,CACAH,oBAAAA,KAEA,OACAiE,EAAAA,EAAAA,MAAAA,qCAAAA,GAAA,gDAEAA,EAAAA,EAAAA,MAAAA,yCAAAA,CAAA3F,EAAAA,EAAAA,KACA,gFAXA,EAaA,GAEA2Q,YAAAA,WACA,uCACA,EACAtI,QAAAA,CACAuI,eAAAA,SAAAA,GACAjL,EAAAA,EAAAA,MAAAA,kBAAAA,CAAA6K,SAAAA,IACA,gBACA,4BACAK,EAAAA,GAAAA,KAAAA,EAAAA,GAAAA,IAAAA,EAAAA,YAAAA,MACA,EACA,EACAC,gBAAAA,WAAA,+GACA,iCACA,4DAFA,EAGA,EACAC,cAAAA,WAAA,uHAYA,OAXA,aAEAC,EAAAA,yBACAC,EAAAA,CACAzK,QAAAA,EAAAA,QACA/E,UAAAA,EAAAA,WAGA,mBACAuP,EAAAA,uBACAC,EAAAA,QAAAA,EAAAA,SAAAA,IACA,kBAEA,SACAnC,SAAAA,EAAAA,GACAlP,MAAAA,WACA+F,EAAAA,EAAAA,KAAAA,qBACA,YACA,IACAsJ,OAAAA,SAAAA,GAEA,MADAtJ,EAAAA,EAAAA,MAAAA,qCAAAA,CAAA9B,MAAAA,IACA,CACA,+CAvBA,EAwBA,gBExKI,GAAU,CAAC,EAEf,GAAQiG,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACmB,YAAY,WAAW,CAACnB,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAI1I,oBAAqB0J,WAAW,wBAAwBI,YAAY,WAAWjB,MAAM,CAAC,GAAK,+BAA+B,KAAO,YAAYc,SAAS,CAAC,QAAU6F,MAAMC,QAAQ/G,EAAI1I,qBAAqB0I,EAAIgH,GAAGhH,EAAI1I,oBAAoB,OAAO,EAAG0I,EAAI1I,qBAAsB8I,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI4G,EAAIjH,EAAI1I,oBAAoB4P,EAAK7G,EAAOa,OAAOiG,IAAID,EAAKE,QAAuB,GAAGN,MAAMC,QAAQE,GAAK,CAAC,IAAaI,EAAIrH,EAAIgH,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAIrH,EAAI1I,oBAAoB2P,EAAIK,OAAO,CAArF,QAAkGD,GAAK,IAAIrH,EAAI1I,oBAAoB2P,EAAIM,MAAM,EAAEF,GAAKC,OAAOL,EAAIM,MAAMF,EAAI,IAAK,MAAMrH,EAAI1I,oBAAoB6P,CAAI,KAAKnH,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,iCAAiC,CAACH,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,sCAAsC,cAAcqK,EAAIY,GAAG,KAAMZ,EAAIqG,WAAW9O,OAAS,EAAG0I,EAAG,cAAc,CAACE,MAAM,CAAC,eAAc,EAAM,QAAUH,EAAIqG,WAAW,YAAa,EAAM,MAAQrG,EAAIoG,SAAS,MAAQ,QAAQ,WAAW,MAAMhG,GAAG,CAAC,OAASJ,EAAIwG,kBAAkBxG,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,aAAa,CAACE,MAAM,CAAC,MAAO,EAAK,YAAcH,EAAIrK,EAAE,OAAQ,eAAe,IAAMqK,EAAImG,KAAKzP,MAAM,CAACM,MAAOgJ,EAAI3I,UAAW+N,SAAS,SAAUC,GAAMrF,EAAI3I,UAAUgO,CAAG,EAAErE,WAAW,eAAehB,EAAIY,GAAG,KAAMZ,EAAIsG,iBAAkBrG,EAAG,IAAI,CAACmB,YAAY,2BAA2B,CAACpB,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,wFAAwF,UAAUqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,SAAWH,EAAI1D,SAAS8D,GAAG,CAAC,MAAQJ,EAAI2G,eAAe9E,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,GAAG,aAAa,WAAWF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,MAAS,CAAChC,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,mBAAmB,UAAUqK,EAAIY,GAAG,KAAMZ,EAAI3I,UAAW4I,EAAG,YAAY,CAACmB,YAAY,cAAcjB,MAAM,CAAC,KAAO,0BAA0BC,GAAG,CAAC,MAAQJ,EAAI0G,kBAAkB,CAAC1G,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,WAAW,UAAUqK,EAAIsB,MAAM,EAC9oE,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,uREoDhC,onGAAA3H,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,skBAKA,IC5E0K,GD4E1K,CACAxC,KAAAA,YACAyE,WAAAA,CACAG,UAAAA,EAAAA,GACAyL,WAAAA,GAAAA,QACAxL,YAAAA,EAAAA,GACAyL,WAAAA,GAAAA,EACAxL,UAAAA,GAAAA,SAEAC,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,GAEAqL,MAAAA,CACA5N,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACAkQ,YAAAA,KAAAA,MAAAA,MACAC,WAAAA,KAAAA,MAAAA,KACAC,UAAAA,EACAvL,SAAAA,EAEA,EACA2B,QAAAA,CACA6J,YAAAA,SAAAA,GAAA,+GACA,6BAEA,iCACA1L,QAAAA,EAAAA,QACA2L,QAAAA,EAAAA,MAAAA,GACAL,MAAAA,EAAAA,YACAvQ,KAAAA,EAAAA,aACA,OAEAoE,EAAAA,EAAAA,MAAAA,gBAAAA,CACAgE,UAAAA,EAAAA,QAAAA,GACAwI,QAAAA,EAAAA,MAAAA,GACAL,MAAAA,EAAAA,YACAvQ,KAAAA,EAAAA,aAGA,cACA,uDAlBA,EAmBA,EACA6Q,YAAAA,WAAA,+GACA,6BAEA,iCACA5L,QAAAA,EAAAA,QACA2L,QAAAA,EAAAA,MAAAA,KACA,OAEAxM,EAAAA,EAAAA,MAAAA,gBAAAA,CACAgE,UAAAA,EAAAA,QAAAA,GACAwI,QAAAA,EAAAA,MAAAA,GACAL,MAAAA,EAAAA,MAAAA,MACAvQ,KAAAA,EAAAA,MAAAA,OAGA,cACA,uDAhBA,EAiBA,gBElII,GAAU,CAAC,EAEf,GAAQuI,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICbI,IAAY,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAED,EAAI6H,SAAU5H,EAAG,OAAO,CAACmB,YAAY,aAAahB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAI8H,YAAYvH,MAAM,KAAMC,UAAU,IAAI,CAACP,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAI4H,WAAY5G,WAAW,eAAeb,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIc,SAAS,CAAC,MAASjB,EAAI4H,YAAaxH,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAI4H,WAAWvH,EAAOa,OAAOlK,MAAK,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAI2H,YAAa3G,WAAW,gBAAgBb,MAAM,CAAC,KAAO,QAAQ,SAAWH,EAAI0H,MAAMO,YAAY,SAAW,IAAIhH,SAAS,CAAC,MAASjB,EAAI2H,aAAcvH,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAI2H,YAAYtH,EAAOa,OAAOlK,MAAK,OAAOgJ,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,yBAAyB,cAAc,SAAS,MAAQH,EAAIrK,EAAE,OAAQ,iBAAiBkM,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,eAAe,KAAK/B,EAAG,MAAM,CAACmB,YAAY,cAAc,CAACnB,EAAG,IAAI,CAACA,EAAG,SAAS,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAI0H,MAAMvQ,SAAS6I,EAAIY,GAAG,KAAKZ,EAAIa,GAAGb,EAAI0H,MAAMA,OAAO,OAAO1H,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,yBAAyB,MAAQH,EAAIrK,EAAE,OAAQ,2BAA2ByK,GAAG,CAAC,MAAQ,SAASC,GAAQL,EAAI6H,UAAW,CAAI,GAAGhG,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,OAAUhC,EAAIY,GAAG,KAAOZ,EAAI0H,MAAMO,YAA+TjI,EAAIsB,KAAtTrB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,yBAAyB,MAAQH,EAAIrK,EAAE,OAAQ,iBAAiByK,GAAG,CAAC,MAAQJ,EAAIgI,aAAanG,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,eAAwB,MAC19D,GACsB,IDUpB,EACA,KACA,WACA,6PEmDF,onGAAArI,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,gYAKA,QACAxC,KAAAA,gBACAyE,WAAAA,CAAAsM,UFtDe,GAAiB,QEsDhCnM,UAAAA,EAAAA,GAAAC,YAAAA,EAAAA,GAAAC,UAAAA,GAAAA,SACAC,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACA0Q,SAAAA,GACAC,QAAAA,KAAAA,QAAAA,KACAP,UAAAA,EACAvL,SAAAA,EAEA,EACAmB,SAAAA,CACA4K,QAAAA,WACA,2BACA,GAEApK,QAAAA,CACAqK,YAAAA,WAAA,IA5BA,EA4BA,cA5BA,EA4BA,0FACA,6BAEA,iCACAlM,QAAAA,EAAAA,QACAsL,MAAAA,EAAAA,SACAvQ,KAAAA,EAAAA,UACA,OAEAoE,EAAAA,EAAAA,MAAAA,gBAAAA,CACAgE,UAAAA,EAAAA,QAAAA,GACAmI,MAAAA,EAAAA,SACAvQ,KAAAA,EAAAA,UAGA,gBACA,uDA5CA,kLA6CA,EACAoR,YAAAA,WACA,iBACA,+BACA,gBACA,ICpH8K,kBCW1K,GAAU,CAAC,EAEf,GAAQ7I,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICbI,IAAY,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACmB,YAAY,gBAAgB,CAACpB,EAAIyD,GAAIzD,EAAIqI,SAAS,SAASX,GAAO,OAAOzH,EAAG,KAAK,CAACU,IAAI+G,EAAMjS,IAAI,CAACwK,EAAG,YAAY,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,MAAQsL,MAAU,EAAE,IAAG1H,EAAIY,GAAG,KAAMZ,EAAI6H,SAAU5H,EAAG,KAAK,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,mBAAmBC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIsI,YAAY/H,MAAM,KAAMC,UAAU,IAAI,CAACP,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIoI,QAASpH,WAAW,YAAYb,MAAM,CAAC,KAAO,OAAO,YAAcH,EAAIrK,EAAE,OAAQ,QAAQ,SAAW,IAAIsL,SAAS,CAAC,MAASjB,EAAIoI,SAAUhI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAIoI,QAAQ/H,EAAOa,OAAOlK,MAAK,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAImI,SAAUnH,WAAW,aAAab,MAAM,CAAC,KAAO,QAAQ,YAAcH,EAAIrK,EAAE,OAAQ,iBAAiB,SAAW,IAAIsL,SAAS,CAAC,MAASjB,EAAImI,UAAW/H,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAImI,SAAS9H,EAAOa,OAAOlK,MAAK,SAASgJ,EAAIsB,MAAM,GAAGtB,EAAIY,GAAG,KAAOZ,EAAI5D,QAAQoM,eAAuzBxI,EAAIsB,KAA3yBrB,EAAG,MAAM,CAAGD,EAAI6H,SAAyK7H,EAAIsB,KAAnKrB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQL,EAAI6H,UAAW,CAAI,IAAI,CAAC7H,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,cAAc,YAAqBqK,EAAIY,GAAG,KAAMZ,EAAI6H,SAAU5H,EAAG,YAAY,CAACE,MAAM,CAAC,cAAc,SAAS,KAAO,UAAU,KAAO,kBAAkB,SAAWH,EAAI1D,SAASuF,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiB,YAAYqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAI6H,SAAU5H,EAAG,YAAY,CAACmB,YAAY,cAAcjB,MAAM,CAAC,KAAO,0BAA0BC,GAAG,CAAC,MAAQJ,EAAIuI,cAAc,CAACvI,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,WAAW,YAAYqK,EAAIsB,MAAM,IACx4D,GACsB,IDUpB,EACA,KACA,WACA,MAIF,GAAe,GAAiB,ikOE2BhC,2BC9C+K,GDgD/K,CACAnK,KAAAA,iBACAyE,WAAAA,CACAG,UAAAA,EAAAA,IAGAtE,KAAAA,WACA,OACAgR,KAAAA,GAEA,EACAhL,SAAAA,CACAiL,cAAAA,WACA,oBACA,GAEAC,QAAAA,WAAA,gIACAxO,EAAAA,GAAAA,KAAA,+DADA,EAEA,EACA8D,QAAAA,CACA2K,aAAAA,SAAAA,GAAA,+GAEA,kFAEAhP,EAAAA,GAAAA,GACAiP,EAAAA,MACAA,EAAAA,MACA,GACA,uDAEAtN,EAAAA,EAAAA,MAAAA,mCAAAA,OAAAA,EAAAA,OAAAA,CACA9B,MAAAA,EAAAA,MAEAqP,EAAAA,GAAAA,WAAAA,EAAAA,OAAAA,2CAAAA,CACAD,OAAAA,EAAAA,SAGA,uEAjBA,EAmBA,EACAE,WAAAA,SAAAA,GACA,UACA,iBACA,8BACA,aACA,0BAEA,QACA,gBErFI,GAAU,CAAC,EAEf,GAAQrJ,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACD,EAAIyD,GAAIzD,EAAI0I,eAAe,SAASG,GAAQ,OAAO5I,EAAG,MAAM,CAACU,IAAIkI,EAAOhP,OAAO,CAACmG,EAAIY,GAAG,SAASZ,EAAIa,GAAGgI,EAAOhP,OAAO,SAASmG,EAAIa,GAAGb,EAAI+I,WAAWF,EAAO/O,OAAO,UAAUmG,EAAG,YAAY,CAACmB,YAAY,SAASjB,MAAM,CAAC,KAAO,YAAYC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOL,EAAI4I,aAAaC,EAAO,IAAI,CAAC7I,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAO,WAAW,aAAa,EAAE,IAAGqK,EAAIY,GAAG,KAAOZ,EAAI0I,cAAcnR,OAAgGyI,EAAIsB,KAA5FrB,EAAG,OAAO,CAACD,EAAIY,GAAG,IAAIZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,8CAAuD,EACtkB,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,+PEqHhC,onGAAAgE,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,gYACA,QACAxC,KAAAA,mBACAyE,WAAAA,CACAG,UAAAA,EAAAA,IAEAG,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACAuR,YAAAA,CACAC,aAAAA,KAAAA,QAAAA,aACAC,UAAAA,KAAAA,QAAAA,WAAAA,KAAAA,QAAAA,SACAC,UAAAA,KAAAA,QAAAA,WAAAA,KACAC,UAAAA,KAAAA,QAAAA,WAAAA,GACAC,cAAAA,GACAC,aAAAA,KAAAA,QAAAA,cAAAA,OAEAhN,SAAAA,EACAiN,oBAAAA,KAAAA,QAAAA,UACAC,aAAAA,GAEA,EACAvL,QAAAA,CACAkB,SAAAA,WAAA,IA5BA,EA4BA,cA5BA,EA4BA,0FAaA,OAZA,aACA,kBAGA,iEACA,yBAIA,uBACA,2BACA,gCACA,kBAGA,wCACA/C,QAAAA,EAAAA,QACA3E,KAAAA,EAAAA,cACA,WACA,6DACA,4CACA8H,UAAAA,EAAAA,QAAAA,KACA,0DAGA,oCAGA,sEAzDA,kLA0DA,IClMiL,kBCW7K,GAAU,CAAC,EAEf,GAAQG,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICbI,IAAY,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,eAAe,CAACF,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYC,aAAcjI,WAAW,6BAA6BI,YAAY,QAAQjB,MAAM,CAAC,GAAK,iBAAiB,KAAO,QAAQ,KAAO,gBAAgBc,SAAS,CAAC,OAAQ,EAAM,QAAUjB,EAAIwB,GAAGxB,EAAIgJ,YAAYC,cAAa,IAAQ7I,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAIgJ,YAAa,gBAAgB,EAAM,KAAKhJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACwB,MAAM,CAACC,SAAU1B,EAAIgJ,YAAYC,cAAc9I,MAAM,CAAC,IAAM,mBAAmB,CAACH,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,aAAa,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYC,aAAcjI,WAAW,6BAA6BI,YAAY,QAAQjB,MAAM,CAAC,GAAK,gBAAgB,KAAO,QAAQ,KAAO,gBAAgBc,SAAS,CAAC,OAAQ,EAAK,QAAUjB,EAAIwB,GAAGxB,EAAIgJ,YAAYC,cAAa,IAAO7I,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAIgJ,YAAa,gBAAgB,EAAK,KAAKhJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACwB,MAAM,CAACC,QAAS1B,EAAIgJ,YAAYC,cAAc9I,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAY,cAAcqK,EAAIY,GAAG,KAAMZ,EAAIgJ,YAAYC,aAAc,CAAChJ,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,eAAe,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYE,UAAWlI,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,aAAa,KAAO,OAAO,SAAW,IAAIc,SAAS,CAAC,MAASjB,EAAIgJ,YAAYE,WAAY9I,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAIgJ,YAAa,YAAa3I,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,sBAAsBqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,YAAY,CAACnB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYM,aAActI,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,iBAAiB,KAAO,QAAQ,KAAO,YAAY,MAAQ,QAAQc,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAIgJ,YAAYM,aAAa,SAASlJ,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAIgJ,YAAa,eAAgB,OAAO,KAAKhJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,SAAjC1B,EAAIgJ,YAAYM,cAAyBnJ,MAAM,CAAC,IAAM,mBAAmB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYM,aAActI,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,gBAAgB,KAAO,QAAQ,KAAO,YAAY,MAAQ,OAAOc,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAIgJ,YAAYM,aAAa,QAAQlJ,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAIgJ,YAAa,eAAgB,MAAM,KAAKhJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,QAAjC1B,EAAIgJ,YAAYM,cAAwBnJ,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAY,cAAcqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYM,aAActI,WAAW,6BAA6Bb,MAAM,CAAC,GAAK,gBAAgB,KAAO,QAAQ,KAAO,YAAY,MAAQ,OAAOc,SAAS,CAAC,QAAUjB,EAAIwB,GAAGxB,EAAIgJ,YAAYM,aAAa,QAAQlJ,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOL,EAAIuB,KAAKvB,EAAIgJ,YAAa,eAAgB,MAAM,KAAKhJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACmB,YAAY,SAASK,MAAM,CAACC,QAA0C,QAAjC1B,EAAIgJ,YAAYM,cAAwBnJ,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,aAAa,gBAAgBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,eAAe,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYG,UAAWnI,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,aAAa,KAAO,OAAO,SAAW,IAAIc,SAAS,CAAC,MAASjB,EAAIgJ,YAAYG,WAAY/I,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAIgJ,YAAa,YAAa3I,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,yBAAyBqK,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIuJ,mBAAoBvI,WAAW,uBAAuBI,YAAY,QAAQjB,MAAM,CAAC,GAAK,yBAAyB,KAAO,SAASc,SAAS,CAAC,OAAQ,EAAK,QAAUjB,EAAIwB,GAAGxB,EAAIuJ,oBAAmB,IAAOnJ,GAAG,CAAC,OAAS,SAASC,GAAQL,EAAIuJ,oBAAmB,CAAI,KAAKvJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACwB,MAAM,CAACC,QAAS1B,EAAIuJ,oBAAoBpJ,MAAM,CAAC,IAAM,2BAA2B,CAACH,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAAqB,cAAcqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIuJ,mBAAoBvI,WAAW,uBAAuBI,YAAY,QAAQjB,MAAM,CAAC,GAAK,2BAA2B,KAAO,SAASc,SAAS,CAAC,OAAQ,EAAM,QAAUjB,EAAIwB,GAAGxB,EAAIuJ,oBAAmB,IAAQnJ,GAAG,CAAC,OAAS,SAASC,GAAQL,EAAIuJ,oBAAmB,CAAK,KAAKvJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACwB,MAAM,CAACC,SAAU1B,EAAIuJ,oBAAoBpJ,MAAM,CAAC,IAAM,6BAA6B,CAACH,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,WAAW,gBAAgBqK,EAAIY,GAAG,KAAOZ,EAAIuJ,mBAA88BvJ,EAAIsB,KAA97B,CAACrB,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,eAAe,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYI,UAAWpI,WAAW,0BAA0Bb,MAAM,CAAC,GAAK,aAAa,KAAO,OAAO,SAAW,IAAIc,SAAS,CAAC,MAASjB,EAAIgJ,YAAYI,WAAYhJ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAIgJ,YAAa,YAAa3I,EAAOa,OAAOlK,MAAM,KAAKgJ,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,mBAAmB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,sBAAsBqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIgJ,YAAYK,cAAerI,WAAW,8BAA8Bb,MAAM,CAAC,GAAK,iBAAiB,KAAO,WAAW,SAAW,IAAIc,SAAS,CAAC,MAASjB,EAAIgJ,YAAYK,eAAgBjJ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAiBnB,EAAIuB,KAAKvB,EAAIgJ,YAAa,gBAAiB3I,EAAOa,OAAOlK,MAAM,OAAgBgJ,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKZ,EAAIyJ,GAAG,YAAYzJ,EAAIY,GAAG,KAAMZ,EAAIwJ,aAAcvJ,EAAG,IAAI,CAACD,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,aAAa,SAASqK,EAAIa,GAAGb,EAAIwJ,cAAc,UAAUxJ,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,SAAWH,EAAI1D,SAAS8D,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIb,SAASoB,MAAM,KAAMC,UAAU,IAAI,CAACR,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,wBAAwB,WAAW,EACr6M,GACsB,IDUpB,EACA,KACA,WACA,MAIF,GAAe,GAAiB,+PEOhC,onGAAAgE,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4fAAAA,EAAA,EAAAA,EAAA,iBAAAA,IAAA,uBAAAA,GAAA,UAAAA,GAAA,GAAAA,EAAA,0fAEA,QACAxC,KAAAA,kBACAyE,WAAAA,CACAG,UAAAA,EAAAA,GACAC,YAAAA,EAAAA,GACAC,UAAAA,GAAAA,SAEAC,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACAiS,OAAAA,GACApN,SAAAA,EACAkN,aAAAA,GAEA,EACA/L,SAAAA,CACAkM,WAAAA,WACA,gEACA,GAEAlF,MAAAA,CACAkF,WAAAA,CACAC,WAAAA,EACAC,QAAAA,SAAAA,GACA,IAIA,qBACA,gBACA,IAGA5L,QAAAA,CACA6L,iBAAAA,WAAA,IAzCA,EAyCA,cAzCA,EAyCA,0FAEA,OADA,aACA,oCAGA,6CACAvK,UAAAA,EAAAA,QAAAA,GACAoK,WAAAA,GAAAA,GAAAA,CAAAA,EACA,kBACAD,OAAAA,EAAAA,WAEA,uDAEA,oCAGA,qEAzDA,kLA0DA,ICpFgL,kBCW5K,GAAU,CAAC,EAEf,GAAQhK,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACmB,YAAY,WAAW,CAACnB,EAAG,WAAW,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAI0J,OAAQ1I,WAAW,UAAU,CAAC7J,KAAK,WAAW4J,QAAQ,mBAAmBM,UAAU,CAAC,OAAQ,KAAQlB,MAAM,CAAC,GAAK,kBAAkB,KAAO,KAAK,SAAWH,EAAI1D,SAAS2E,SAAS,CAAC,MAASjB,EAAI0J,QAAStJ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAI0J,OAAOrJ,EAAOa,OAAOlK,MAAK,KAAKgJ,EAAIY,GAAG,KAAMZ,EAAIwJ,aAAcvJ,EAAG,IAAI,CAACD,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,aAAa,SAASqK,EAAIa,GAAGb,EAAIwJ,cAAc,UAAUxJ,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,SAAWH,EAAI1D,SAAS8D,GAAG,CAAC,MAAQJ,EAAI8J,kBAAkBjI,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI1D,QAAS2D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,MAAS,CAAChC,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,sBAAsB,WAAW,EACr7B,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,+6DEGhC,IAAMoU,GAAS,4DACTC,GAAc,WAOPC,GAAc,4kBAASnU,QAS7B,SAASoU,GAAsBC,GACrC,IAGI1S,EAKoB,EANlB2S,EAAM,GAGRC,EAlBe,EAmBfC,EAAYD,EAAK,g6BANPF,EAAYI,MAAM,UAQR,IAAxB,IAAK,EAAL,qBAA0B,KAAfC,EAAI,QACd,OAAQH,GACR,KAvBkB,EAwBjB,GAAIG,EAAKC,WAAWV,IAAS,CAC5BO,EAxBgB,EAyBhB,KACD,CACAF,EAAI9P,KAAKkQ,GACT,MACD,KA7BkB,EA8BjB,GAAIA,EAAKC,WAAWV,IACnBO,EAhCgB,OAiCV,GAAIE,EAAKC,WAAWT,IAAc,CACxC,IAAMU,EAAOF,EAAKjD,MAAMyC,GAAYzS,SACpCE,EAAOkT,KAAKC,MAAMF,IACTG,QAAOpT,EAAKoT,MAAQ,IAAIC,KAAKrT,EAAKoT,QACvCpT,EAAKsT,MAAKtT,EAAKsT,IAAM,IAAID,KAAKrT,EAAKsT,KACxC,CACA,MACD,QACC,MAAM,IAAId,GAAe,4BAE1BI,EAAQC,CACT,CAAC,+BAED,MAAO,CACNH,YAAaC,EAAIY,KAAK,MACtBvT,KAAAA,EAEF,CAeO,SAASwT,GAA4Bd,EAAa,GAOtD,IAwBEe,EA9BJC,EAAO,EAAPA,QACAN,EAAK,EAALA,MACAE,EAAG,EAAHA,IACAK,EAAO,EAAPA,QACAC,EAAO,EAAPA,QACAC,EAAiB,EAAjBA,kBAGM7T,EAAO,CACZ8T,QA9Ec,EA+EdJ,QAAAA,EACAN,MAAOA,EAAQW,GAAmBX,QAASY,EAC3CV,IAAKA,EAAMS,GAAmBT,QAAOU,EACrCL,QAAAA,EACAC,QAAAA,GAID,IAAKF,EAGJ,cAFO1T,EAAKoT,aACLpT,EAAKsT,IACL,CACNZ,EACAJ,GACAC,GAAcW,KAAKe,UAAUjU,GAC7BsS,IACCiB,KAAK,MAMPE,EADGH,EACS,yCAAH,OAA4CS,GAAmBX,GAAM,8CAAsCW,GAAmBT,GAAI,MAE/H,mCAAH,OAAsCS,GAAmBX,GAAM,KAIzE,IAAMc,EAAW,CAChB,WACA,UAAS,oBACIC,GAAqBR,GAAQ,MAG3C,GAAIE,SAAAA,EAAmB/T,OAAQ,CAC9B,IAAMsU,EAAsBP,EAAkBlW,KAAI,SAAA0W,GAAS,iBAAQA,EAAS,QAAKd,KAAK,MACtFW,EAASrR,KAAK,eAAD,OAAgBuR,EAAmB,KACjD,CAsBA,OApBAF,EAASrR,KAAK,IAAD,OAAKsR,GAAqBP,GAAQ,MAoBxC,CAjBgB,CACtBtB,GACA,kBACA,wBACA,sBACAA,IACCiB,KAAK,MAaNb,EAXuB,CACvBJ,GACAC,GAAcW,KAAKe,UAAUjU,GAAK,aAC5ByT,EAAS,kBACVS,EAASX,KAAK,KAAI,KACvB,IACAjB,IACCiB,KAAK,OAMLA,KAAK,KACR,CAQO,SAASQ,GAAmBO,GAClC,IAAMC,EAAOD,EAAKE,cAAcC,WAAWC,SAAS,EAAG,KACjDC,GAASL,EAAKM,WAAa,GAAGH,WAAWC,SAAS,EAAG,KACrDG,EAAMP,EAAKQ,UAAUL,WAAWC,SAAS,EAAG,KAClD,MAAO,GAAP,OAAUH,EAAI,YAAII,EAAK,YAAIE,EAC5B,CASO,SAASV,GAAqBY,GACpC,OAAOA,EACLC,WAAW,MAAO,QAClBA,WAAW,KAAM,MACpB,wPCnFA,onGAAA9S,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4fAAAA,EAAA,EAAAA,EAAA,iBAAAA,IAAA,uBAAAA,GAAA,UAAAA,GAAA,GAAAA,EAAA,ujBAAAA,EAAA,iBAAAA,EAAA,EAAAA,IAAA,EAAAA,GAAA,EAAAA,GAAA,SAOA,QACAxC,KAAAA,kBACAyE,WAAAA,CACA8Q,eAAAA,EAAAA,GACAzG,WAAAA,GAAAA,EACAnC,OAAAA,EAAAA,GACA6I,UAAAA,GAAAA,SAEAzQ,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACA0T,SAAAA,EACAyB,eAAAA,EACAC,SAAAA,IAAAA,KACAC,QAAAA,KACA1B,QAAAA,GACAC,QAAAA,GACA/O,SAAAA,EACAkN,aAAAA,GAEA,EACA/L,SAAAA,CAIAsP,MAAAA,WACA,0BACA,yDACA,kDACA,cACA,aACA,EAKAC,gBAAAA,WACA,gEACA,EAKAC,YAAAA,WAAA,MACA,yDAIA,IACA,2CAGA,CAFA,SACA1R,EAAAA,EAAAA,KAAAA,4BAAAA,CAAA9B,MAAAA,GACA,CAGA,EAOA4O,QAAAA,WACA,OACA,CACAlR,KAAAA,KAAAA,QAAAA,KACAuQ,MAAAA,KAAAA,QAAAA,eACA,QA/EA,EAgFA,qBAhFA,snBAiFAtS,KAAAA,SAAAA,GAAA,aAAAsS,EAAAA,EAAAA,MAAA,yCAjFA,KAkFA,GAEAjD,MAAAA,CACAwI,YAAAA,CACArD,WAAAA,EACAC,QAAAA,SAAAA,GAAA,gBACA,iCACA,mDACA,wDACA,iDACA,kCACA,mDACA,8EACA,GAEA+C,cAAAA,SAAAA,GACA,GACA,qCACA,gDAEA,iBAEA,EACAC,SAAAA,SAAAA,EAAAA,GACA,uBAIA,IACA,8BADA,OAEA,MAIA,yBACA,oCATA,CAUA,GAEA5O,QAAAA,CACAiP,OAAAA,WAAA,IAzHA,EAyHA,cAzHA,EAyHA,oGAcA,OAbA,aACA,kBAEA7C,EAAAA,GAAAA,EAAAA,gBAAAA,QACA8C,EAAAA,EAAAA,YAEAC,EAAAA,GAAAA,EAAAA,CACAjC,QAAAA,EAAAA,QACAN,MAAAA,EAAAA,SACAE,IAAAA,EAAAA,QACAK,QAAAA,EAAAA,QACAC,SAAAA,EAAAA,GAAAA,KAAAA,EAAAA,GAAAA,IAAAA,EAAAA,UAAAA,MACAC,kBAAAA,EAAAA,UACA,kBAGA,6CACA/L,UAAAA,EAAAA,QAAAA,GACAoK,WAAAA,GAAAA,GAAAA,CAAAA,EACA,uBACAD,OAAAA,MAEA,yDAEA,oCAEA,OAFA,UAEA,yFApJA,kLAuJA,ICrQgL,kBCW5K,GAAU,CAAC,EAEf,GAAQhK,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICbI,IAAY,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAQD,EAAIgN,gBAAiB/M,EAAG,OAAO,CAACmB,YAAY,OAAOhB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIkN,OAAO3M,MAAM,KAAMC,UAAU,IAAI,CAACP,EAAG,MAAM,CAACmB,YAAY,mBAAmB,CAACnB,EAAG,WAAW,CAACmB,YAAY,kBAAkB,CAACnB,EAAG,QAAQ,CAACmB,YAAY,QAAQjB,MAAM,CAAC,GAAK,eAAe,KAAO,QAAQ,KAAO,WAAWc,SAAS,CAAC,SAAWjB,EAAImL,SAAS/K,GAAG,CAAC,OAAS,SAASC,GAAQL,EAAImL,SAAU,CAAK,KAAKnL,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,iBAAiB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,2BAA2BqK,EAAIY,GAAG,KAAKX,EAAG,WAAW,CAACmB,YAAY,kBAAkB,CAACnB,EAAG,QAAQ,CAACmB,YAAY,QAAQjB,MAAM,CAAC,GAAK,cAAc,KAAO,QAAQ,KAAO,WAAWc,SAAS,CAAC,QAAUjB,EAAImL,SAAS/K,GAAG,CAAC,OAAS,SAASC,GAAQL,EAAImL,SAAU,CAAI,KAAKnL,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,gBAAgB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,4BAA4BqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACmB,YAAY,mBAAmB,CAACnB,EAAG,WAAW,CAACmB,YAAY,kBAAkB,CAACnB,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iBAAiBqK,EAAIY,GAAG,KAAKX,EAAG,iBAAiB,CAACE,MAAM,CAAC,GAAK,gBAAgB,UAAYH,EAAImL,SAASzU,MAAM,CAACM,MAAOgJ,EAAI6M,SAAUzH,SAAS,SAAUC,GAAMrF,EAAI6M,SAASxH,CAAG,EAAErE,WAAW,eAAe,GAAGhB,EAAIY,GAAG,KAAKX,EAAG,WAAW,CAACmB,YAAY,kBAAkB,CAACnB,EAAG,MAAM,CAACmB,YAAY,yBAAyB,CAACnB,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAI4M,cAAe5L,WAAW,kBAAkBb,MAAM,CAAC,GAAK,sBAAsB,KAAO,WAAW,UAAYH,EAAImL,SAASlK,SAAS,CAAC,QAAU6F,MAAMC,QAAQ/G,EAAI4M,eAAe5M,EAAIgH,GAAGhH,EAAI4M,cAAc,OAAO,EAAG5M,EAAI4M,eAAgBxM,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI4G,EAAIjH,EAAI4M,cAAc1F,EAAK7G,EAAOa,OAAOiG,IAAID,EAAKE,QAAuB,GAAGN,MAAMC,QAAQE,GAAK,CAAC,IAAaI,EAAIrH,EAAIgH,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAIrH,EAAI4M,cAAc3F,EAAIK,OAAO,CAA/E,QAA4FD,GAAK,IAAIrH,EAAI4M,cAAc3F,EAAIM,MAAM,EAAEF,GAAKC,OAAOL,EAAIM,MAAMF,EAAI,IAAK,MAAMrH,EAAI4M,cAAczF,CAAI,KAAKnH,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,wBAAwB,CAACH,EAAIY,GAAG,eAAeZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,wBAAwB,kBAAkBqK,EAAIY,GAAG,KAAKX,EAAG,iBAAiB,CAACE,MAAM,CAAC,GAAK,eAAe,UAAYH,EAAImL,UAAYnL,EAAI4M,eAAelW,MAAM,CAACM,MAAOgJ,EAAI8M,QAAS1H,SAAS,SAAUC,GAAMrF,EAAI8M,QAAQzH,CAAG,EAAErE,WAAW,cAAc,KAAKhB,EAAIY,GAAG,KAAKX,EAAG,WAAW,CAACmB,YAAY,kBAAkB,CAACnB,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,gBAAgB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,eAAeqK,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC3J,KAAK,QAAQ4J,QAAQ,UAAU/J,MAAOgJ,EAAIoL,QAASpK,WAAW,YAAYb,MAAM,CAAC,GAAK,cAAc,KAAO,OAAO,UAAYH,EAAImL,SAASlK,SAAS,CAAC,MAASjB,EAAIoL,SAAUhL,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAIoL,QAAQ/K,EAAOa,OAAOlK,MAAK,OAAOgJ,EAAIY,GAAG,KAAKX,EAAG,WAAW,CAACmB,YAAY,kBAAkB,CAACnB,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,gBAAgB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,eAAeqK,EAAIY,GAAG,KAAKX,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,cAAc,MAAO,EAAM,UAAYH,EAAImL,QAAQ,IAAM,CAAE,IAAO,WAAkB,IAAMzU,MAAM,CAACM,MAAOgJ,EAAIqL,QAASjG,SAAS,SAAUC,GAAMrF,EAAIqL,QAAQhG,CAAG,EAAErE,WAAW,cAAc,GAAGhB,EAAIY,GAAG,KAAMZ,EAAIwJ,aAAcvJ,EAAG,IAAI,CAACD,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,aAAa,SAASqK,EAAIa,GAAGb,EAAIwJ,cAAc,UAAUxJ,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,UAAU,cAAc,SAAS,SAAWH,EAAI1D,UAAY0D,EAAI+M,OAAOlL,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,uBAAuB,WAAW,GAAGqK,EAAIsB,IACxmH,GACsB,IDUpB,EACA,KACA,WACA,MAIF,GAAe,GAAiB,+PE8FhC,onGAAA3H,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,skBAWA,IC5HgL,GD4HhL,CACAxC,KAAAA,kBACAyE,WAAAA,CACAyR,iBAAAA,GACAC,gBAAAA,GACAC,eAAAA,GACAC,YAAAA,EAAAA,EACAC,cAAAA,GACAC,eAAAA,EACAC,kBAAAA,GACAC,kBAAAA,EAAAA,GACAC,mBAAAA,EAAAA,GACAC,wBAAAA,GACAC,gBAAAA,IAEA7R,MAAAA,CACAE,QAAAA,CACAC,UAAAA,EACAvC,KAAAA,QAEAmB,KAAAA,CACAoB,UAAAA,EACAvC,KAAAA,UAGArC,KAAAA,WACA,OACAuW,cAAAA,EAEA,EACAvQ,SAAAA,CACAwQ,KAAAA,WACA,uBACA,EACAvU,YAAAA,WACA,wBACA,EACAG,MAAAA,WACA,gCACA,GAEA4K,MAAAA,CACAuJ,aAAAA,SAAAA,GACA,GACA,2BAEA,EACA/S,KAAAA,SAAAA,GAAA,mHACAjE,EAAAA,CAAA,+BACA,qDAFA,EAIA,GAEAiH,QAAAA,CACAiQ,YAAAA,WACA,2CACAC,SAAAA,UAGA,EACAC,OAAAA,WAAA,+GACA,kCACA,4CACA7O,UAAAA,EAAAA,QAAAA,KACA,0CAJA,EAKA,gBElLI,GAAU,CAAC,EAEf,GAAQG,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,oBAAoB,CAACE,MAAM,CAAC,GAAK,sBAAsB,KAAOH,EAAIgO,aAAa,mBAAkB,GAAM5N,GAAG,CAAC,cAAc,SAASC,GAAQL,EAAIgO,aAAa3N,CAAM,IAAI,CAACJ,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,mBAAmB,MAAQH,EAAIrK,EAAE,OAAQ,sBAAsB,CAACsK,EAAG,MAAM,CAACmB,YAAY,cAAc,CAACnB,EAAG,IAAI,CAACA,EAAG,SAAS,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAItG,gBAAgBsG,EAAIY,GAAG,KAAKZ,EAAIa,GAAGb,EAAInG,OAAO,OAAOmG,EAAIY,GAAG,KAAOZ,EAAI5D,QAAQoM,eAAqIxI,EAAIsB,KAAzHrB,EAAG,IAAI,CAACmB,YAAY,qBAAqBjB,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,gBAAgByK,GAAG,CAAC,MAAQJ,EAAIkO,iBAA0BlO,EAAIY,GAAG,KAAKX,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,YAAY,GAAG4D,EAAIY,GAAG,KAAKX,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,YAAY,MAAQH,EAAIrK,EAAE,OAAQ,eAAe,CAACsK,EAAG,IAAI,CAACmB,YAAY,iBAAiB,CAACpB,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kEAAkE,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,oBAAoB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,YAAY,GAAG4D,EAAIY,GAAG,KAAKX,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,eAAe,MAAQH,EAAIrK,EAAE,OAAQ,kBAAkB,CAACsK,EAAG,IAAI,CAACmB,YAAY,iBAAiB,CAACpB,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,yDAAyD,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,iBAAiB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,YAAY,GAAG4D,EAAIY,GAAG,KAAKX,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,kBAAkB,MAAQH,EAAIrK,EAAE,OAAQ,qBAAqB,CAACsK,EAAG,IAAI,CAACmB,YAAY,iBAAiB,CAACpB,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,0FAA0F,YAAYqK,EAAIY,GAAG,KAAKX,EAAG,0BAA0B,CAACE,MAAM,CAAC,QAAUH,EAAI5D,YAAY,GAAG4D,EAAIY,GAAG,KAAMZ,EAAI5D,QAAS6D,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,wBAAwB,MAAQH,EAAIrK,EAAE,OAAQ,mBAAmB,CAACsK,EAAG,IAAI,CAACmB,YAAY,iBAAiB,CAACpB,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,8IAA8I,YAAYqK,EAAIY,GAAG,KAAMZ,EAAI5D,QAAQ6M,aAAchJ,EAAG,kBAAkB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,WAAW6D,EAAG,IAAI,CAACD,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,4CAA4C,aAAa,GAAGqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAI5D,SAAW4D,EAAI5D,QAAQ6M,aAAchJ,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,eAAe,MAAQH,EAAIrK,EAAE,OAAQ,wBAAwB,CAACsK,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,kBAAkB,CAACU,IAAIX,EAAI5D,QAAQmD,UAAUoC,IAAI,kBAAkBxB,MAAM,CAAC,QAAUH,EAAI5D,YAAY,KAAK4D,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,iBAAiB,MAAQH,EAAIrK,EAAE,OAAQ,qBAAqB,CAACsK,EAAG,mBAAmB,GAAGD,EAAIY,GAAG,KAAMZ,EAAI5D,UAAY4D,EAAI5D,QAAQoM,eAAgBvI,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,cAAc,MAAQH,EAAIrK,EAAE,OAAQ,iBAAiB,CAACsK,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,kBAAkB,CAACF,EAAG,cAAc,CAACU,IAAIX,EAAI5D,QAAQmD,UAAUoC,IAAI,cAAcxB,MAAM,CAAC,eAAeH,EAAItG,YAAY,MAAQsG,EAAInG,MAAM,QAAUmG,EAAI5D,YAAY,KAAK4D,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAI5D,UAAY4D,EAAI5D,QAAQoM,eAAgBvI,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,iBAAiB,MAAQH,EAAIrK,EAAE,OAAQ,yBAAyB,CAACsK,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,mBAAmB,CAACF,EAAG,mBAAmB,CAACU,IAAIX,EAAI5D,QAAQmD,UAAUoC,IAAI,mBAAmBxB,MAAM,CAAC,QAAUH,EAAI5D,YAAY,KAAK4D,EAAIsB,MAAM,EACx0G,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,y4NEsHhC,QACAnK,KAAAA,oBACAyE,WAAAA,CACAyS,kBAAAA,EAAAA,GACAC,aAAAA,EAAAA,GACAC,eAAAA,EAAAA,GACAC,YAAAA,EAAAA,GACAC,WAAAA,EAAAA,GACAC,gBAAAA,GACAC,SAAAA,GAAAA,EACAC,aAAAA,GAAAA,QACAC,cAAAA,GAAAA,QACAC,SAAAA,GAAAA,QACAC,OAAAA,GAAAA,EACAtH,WAAAA,GAAAA,EACAuH,UAAAA,GAAAA,EACAC,WAAAA,GAAAA,EACAjT,YAAAA,EAAAA,IAEAE,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,GAEA6S,aAAAA,CACApV,KAAAA,OACAqC,QAAAA,WAAA,GAEAgT,QAAAA,CACArV,KAAAA,QACAqC,SAAAA,GAEAiT,OAAAA,CACAtV,KAAAA,QACAqC,SAAAA,GAEAkT,WAAAA,CACAvV,KAAAA,QACAqC,SAAAA,IAGA1E,KAAAA,WACA,OACA6X,UAAAA,EACAhT,QAAAA,CACAiT,QAAAA,GAEAC,0BAAAA,EACAC,WAAAA,EACAC,SAAAA,EACAC,YAAAA,EACA3B,cAAAA,EAEA,EACAvQ,SAAAA,CACAmS,QAAAA,WACA,4DACA,EACAC,kBAAAA,WACA,2CACA,CACA1Y,KAAAA,UACA2Y,OAAAA,CACA1L,UAAAA,KAAAA,aAAAA,aAIA,EAEA,EACA3O,GAAAA,WACA,gCACA,EACAsa,YAAAA,WACA,kCC1LsC5Y,ED0LtC,0BCzLO6Y,EAASC,IAAI9Y,GACb+Y,EAAMC,IAAAA,IAAAA,IAAaH,GACnBI,EAAW,CAA2B,GAA1BC,KAAKC,MAAMJ,EAAI,GAAK,IAAUA,EAAI,GAAIA,EAAI,IAErD,IAAMC,IAAAA,IAAAA,IAAaC,IALU,IAACjZ,EAC/B6Y,EACAE,EACAE,CDwLP,EACAG,UAAAA,WACA,2BACA,uBAEA,eACA,wCAGA,oCACAC,OAAAA,EAAAA,EAAAA,GAAAA,KAAAA,MAAAA,OACAC,OAAAA,EAAAA,EAAAA,GAAAA,KAAAA,MAAAA,QAEA,GAEAxS,QAAAA,CACAyS,cAAAA,SAAAA,GACA,gBACA,iCACAnV,EAAAA,EAAAA,KAAAA,oBAAAA,GACA,iBACA,YACAmJ,SAAAA,gBAAAA,CAAAtI,QAAAA,KAAAA,QAAAjF,KAAAA,IACA3B,MAAAA,WAAA,oDACAqP,OAAAA,SAAAA,GAEA,MADAtJ,EAAAA,EAAAA,MAAAA,2BAAAA,CAAA9B,MAAAA,IACA,CACA,IACA,gBACA,kBACA,EACAkX,kBAAAA,WACA,gBACA,kBACA,EACAC,cAAAA,WAAA,WACA,kBACArV,EAAAA,EAAAA,KAAAA,iBAAAA,CAAAa,QAAAA,KAAAA,UAEA,kIAAAvC,MAAAA,KAAAA,QAAAA,eACAgX,GAAAA,QAAAA,mBACAC,EACAnb,EAAAA,OAAAA,yBAAAA,CAAAkE,MAAAA,KAAAA,QAAAA,eACA,CACAC,KAAAA,GAAAA,QAAAA,eACAiX,QAAAA,EAAAA,OAAAA,iBAAAA,CAAAlX,MAAAA,KAAAA,QAAAA,eACAmX,eAAAA,QACAC,OAAAA,EAAAA,OAAAA,YAEA,YACA,KACA,gBACAvM,SAAAA,gBAAAA,EAAAA,SACAlP,MAAAA,WACA,mBACA,IACAA,MAAAA,WACA+F,EAAAA,EAAAA,KAAAA,WAAAA,OAAAA,EAAAA,4BAGA2V,SAAAA,MAAAA,EAAAA,EAAAA,aAAAA,aACA,IACArM,OAAAA,SAAAA,GAAA,6CAAApL,MAAAA,GAAA,IAEA,mBACA,GAEA,EACA0X,qBAAAA,WACA,YACAzM,SAAAA,cAAAA,CAAAtI,QAAAA,KAAAA,QAAAgV,IAAAA,IACAvM,OAAAA,SAAAA,GAAA,8CAAApL,MAAAA,GAAA,GACA,EACA4X,uBAAAA,WACA,YACA3M,SAAAA,cAAAA,CAAAtI,QAAAA,KAAAA,UACAyI,OAAAA,SAAAA,GAAA,gDAAApL,MAAAA,GAAA,GACA,EACA6X,yBAAAA,SAAAA,GAAA,WACA,iCACA,YACA5M,SAAAA,eAAAA,CACAtI,QAAAA,KAAAA,QACA3E,KAAAA,CACA8Z,mBAAAA,KAGA/b,MAAAA,WACA,8BACA+F,EAAAA,EAAAA,KAAAA,6CAAAA,EACA,IACAsJ,OAAAA,SAAAA,GAGA,MAFAtJ,EAAAA,EAAAA,MAAAA,qCAAAA,CAAA9B,MAAAA,IACA,8BACA,CACA,GACA,EACA+X,aAAAA,SAAAA,GACA,IACAhY,QAAAA,MAAAA,wCACA,kBAEA,EACAiY,WAAAA,WAAA,uIACAA,EAAAA,EAAAA,IAAAA,EAAAA,QAAAA,IAAA,OAAAhC,EAAAA,EAAAA,KACAjW,QAAAA,MAAAA,gBAAAA,CACAiW,MAAAA,IAKA,aAFA,OAIA,EACA,4NACA,EAIAiC,sBAAAA,WACA,wDACA,EAIAC,oBAAAA,WACA,oBACA,IEnVkL,MCO9K,IAAY,OACd,ICRW,WAAkB,IAAI3R,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAQD,EAAI4P,QAAS3P,EAAG,oBAAoB,CAACU,IAAIX,EAAIvK,GAAG0K,MAAM,CAAC,GAAKH,EAAIvK,GAAG,YAAYuK,EAAIsP,SAAS,MAAQtP,EAAI5D,QAAQM,aAAa,GAAKsD,EAAI6P,kBAAkB,OAAQ,GAAMzP,GAAG,CAAC,kBAAkB,CAAC,SAASC,GAAQL,EAAIsP,SAASjP,CAAM,EAAEL,EAAIwR,cAAc,mBAAmB,SAASnR,GAAQL,EAAIsP,SAASjP,CAAM,GAAGwB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAE/B,EAAI5D,QAAQ3C,OAASuG,EAAIqP,WAAYpP,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAOH,EAAI+P,YAAa9P,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,GAAG,aAAaH,EAAI+P,eAAe/P,EAAIsB,KAAK,EAAEU,OAAM,GAAM,CAACrB,IAAI,UAAUoB,GAAG,WAAW,MAAO,CAAE/B,EAAIqP,WAAY,CAACpP,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,oCAAoCkM,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,0IAA0I,eAAe,CAAGqK,EAAI5D,QAAQ9C,UAA4P0G,EAAIsB,KAArPrB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,UAAUkM,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIuQ,WAAW,cAAuBvQ,EAAIY,GAAG,KAAKX,EAAG,eAAe,CAACE,MAAM,CAAC,qBAAoB,GAAMC,GAAG,CAAC,MAAQJ,EAAI2R,oBAAoB,SAAW3R,EAAI0R,uBAAuB7P,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,YAAY,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAAqB,cAAcqK,EAAIY,GAAG,KAAKX,EAAG,iBAAiB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQmV,mBAAmB,SAAWvR,EAAIwP,0BAA0BpP,GAAG,CAAC,iBAAiBJ,EAAIsR,2BAA2B,CAACtR,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,mCAAmC,cAAcqK,EAAIY,GAAG,KAAOZ,EAAI0P,QAA4Q1P,EAAIsB,KAAvQrB,EAAG,eAAe,CAACG,GAAG,CAAC,MAAQJ,EAAI2Q,mBAAmB9O,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,gBAAgB,cAAuBqK,EAAIY,GAAG,KAAMZ,EAAI0P,QAASzP,EAAG,cAAc,CAACG,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOuR,kBAAyB5R,EAAI0Q,cAAcnQ,MAAM,KAAMC,UAAU,GAAGqB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,cAAchC,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAI2P,WAAY1P,EAAG,aAAa,CAAC4B,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,WAAW,cAAcqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAOZ,EAAImP,QAAmQnP,EAAIsB,KAA9PrB,EAAG,eAAe,CAACG,GAAG,CAAC,MAAQJ,EAAImR,sBAAsBtP,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,YAAY,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,YAAY,cAAuBqK,EAAIY,GAAG,KAAOZ,EAAIoP,OAAyQpP,EAAIsB,KAArQrB,EAAG,eAAe,CAACG,GAAG,CAAC,MAAQJ,EAAIqR,wBAAwBxP,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,cAAc,cAAuBqK,EAAIY,GAAG,KAAOZ,EAAI5D,QAAQoM,eAA8QxI,EAAIsB,KAAlQrB,EAAG,eAAe,CAACG,GAAG,CAAC,MAAQJ,EAAI4Q,eAAe/O,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,YAAY,CAAChC,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,mBAAmB,eAAwB,EAAEqM,OAAM,GAAM,CAACrB,IAAI,QAAQoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAOH,EAAIgO,aAAa,QAAUhO,EAAI5D,SAASgE,GAAG,CAAC,cAAc,SAASC,GAAQL,EAAIgO,aAAa3N,CAAM,KAAK,EAAE2B,OAAM,IAAO,MAAK,EAAM,cAAchC,EAAIsB,IAC71H,GACsB,IDSpB,EACA,KACA,KACA,MAIF,GAAe,GAAiB,+PEQhC,onGAAA3H,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,gYAGA,QACAxC,KAAAA,kCACAyE,WAAAA,CACAyS,kBAAAA,EAAAA,IAEAnS,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,IAGAoB,SAAAA,CACAhI,GAAAA,WACA,iCACA,EACAoc,MAAAA,WACA,+DACA,0CACA,yDACA,+BAEA,8BACA,GAEA5T,QAAAA,CACA6T,eAAAA,WAAA,IA5BA,EA4BA,cA5BA,EA4BA,0FACA,OAAAvW,EAAAA,EAAAA,MAAAA,4CAAAA,EAAAA,QAAAA,IAAA,kBAEA,8EACA,SACAmJ,SAAAA,oBAAAA,CACAnF,UAAAA,EAAAA,QAAAA,GACAoB,IAAAA,YACA3J,MAAAA,EAAAA,QAAAA,YACA,uDAEAuE,EAAAA,EAAAA,MAAAA,oCAAAA,CACA9B,MAAAA,EAAAA,KACA,wDAzCA,kLA2CA,ICrEgM,kBCW5L,GAAU,CAAC,EAEf,GAAQiG,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAqB,OAAO8H,EAApBD,EAAIE,MAAMD,IAAa,oBAAoB,CAACE,MAAM,CAAC,MAAQH,EAAI6R,OAAOzR,GAAG,CAAC,MAAQJ,EAAI8R,iBACrI,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,6YENhC,onGAAAnY,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,gYAGA,QACAxC,KAAAA,mBACAyE,WAAAA,CACAmW,uBAAAA,GAEA7V,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,GAEAnD,QAAAA,CACAY,KAAAA,OACAuC,UAAAA,IAGA5E,KAAAA,WACA,OACAua,QAAAA,EACAC,mBAAAA,EAEA,EACAhU,QAAAA,CACAuF,QAAAA,WACA,mBACA,EACA0O,OAAAA,WAAA,IA5BA,EA4BA,cA5BA,EA4BA,oGACA,eACA,4DAEA,gCACA,OAAA9J,EAAAA,EAAAA,QAAAA,YAAA,SACA,mCACAhM,QAAAA,EAAAA,QACAlD,QAAAA,EAAAA,QACAkP,QAAAA,IACA,8BAIA,OADA+J,EAAAA,EAAAA,OAAAA,QAAAA,WAAAA,EAAAA,eACA/J,EAAAA,EAAAA,KAAAA,EAAAA,QAAAA,UAAAA,EAAAA,QAAAA,KAAA,UACA,mCACAhM,QAAAA,EAAAA,QACAlD,QAAAA,EAAAA,QACAkP,QAAAA,IACA,0DAGA7M,EAAAA,EAAAA,MAAAA,yBAAAA,CACA9B,MAAAA,EAAAA,KACA,QAGA,OAHA,UAEA,YACA,6FAvDA,kLA0DA,EACA2Y,MAAAA,SAAAA,GACA,6BACA,IC1EiL,MCkBjL,IAXgB,OACd,ICRW,WAAkB,IAAIpS,EAAI7H,KAAqB,OAAO8H,EAApBD,EAAIE,MAAMD,IAAa,gBAAgB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,SAAW4D,EAAIiS,cAAc,QAAUjS,EAAIgS,OAAO,iBAAiBhS,EAAI9G,QAAQ,cAAa,EAAK,eAAe8G,EAAIrK,EAAE,OAAQ,QAAQ,uBAAuBqK,EAAIrK,EAAE,OAAQ,WAAWyK,GAAG,CAAC,kBAAkB,SAASC,GAAQL,EAAIiS,cAAc5R,CAAM,EAAE,OAASL,EAAIkS,OAAO,MAAQlS,EAAIwD,UAC3Y,GACsB,IDSpB,EACA,KACA,KACA,MAI8B,iVEjBhC,onGAAA7J,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,+GAGO,ICFH0Y,GDESC,GAAgB,WAE5B,WAAYC,EAAIC,EAAmB/S,IALpC,4FAK6C,SAC3CtH,KAAKoa,GAAKA,EACVpa,KAAKsH,QAAUA,EACftH,KAAKsa,kBAAkBC,KAAKva,KAA5BA,CAAkCoa,GAClCpa,KAAKwa,sBACN,CAVD,QAiHE,EA5BA,EA2CA,OAhIF,EAUE,EAVF,EAUE,mCAED,WACCxa,KAAKya,cAAgB,CAAC,EACtBza,KAAK0a,UAAU,UAChB,GAAC,oBAED,SAAON,EAAIF,GACVla,KAAKwa,uBACLxa,KAAKsH,QAAU4S,EAAS5S,OACzB,GAAC,+BAED,SAAkB8S,GACjBxZ,GAAAA,EAAAA,IAAiB,aAAcZ,KAAK2a,YAAYJ,KAAKva,OACrDY,GAAAA,EAAAA,IAAiB,WAAYZ,KAAK4a,UAAUL,KAAKva,OAKjDoa,EAAGS,WAAW3X,iBAAiB,WAAYlD,KAAK8a,WAAWP,KAAKva,OAChEoa,EAAGS,WAAW3X,iBAAiB,YAAalD,KAAK+a,YAAYR,KAAKva,OAClEoa,EAAGS,WAAW3X,iBAAiB,OAAQlD,KAAKgb,OAAOT,KAAKva,MACzD,GAAC,6BAED,SAAgBoa,GACfxZ,GAAAA,EAAAA,KAAkB,aAAcZ,KAAK2a,aACrC/Z,GAAAA,EAAAA,KAAkB,WAAYZ,KAAK4a,WAEnCR,EAAGS,WAAWI,oBAAoB,WAAYjb,KAAK8a,YACnDV,EAAGS,WAAWI,oBAAoB,YAAajb,KAAK+a,aACpDX,EAAGS,WAAWI,oBAAoB,OAAQjb,KAAKgb,OAChD,GAAC,uBAED,SAAUE,GACTlb,KAAKoa,GAAGe,aAAa,oBAAqBD,EAC3C,GAAC,yBAED,SAAYT,GACXza,KAAKya,cAAgBA,EAEhBza,KAAKob,gBACTpb,KAAK0a,UAAU,WAEjB,GAAC,0BAED,WACC,OAAO1a,KAAKqb,iBAAmBrb,KAAKsH,QAAQgU,iBAC7C,GAAC,2BAED,WACC,OAAOtb,KAAKya,cAAcrT,YAAcpH,KAAKsH,QAAQF,SACtD,GAAC,uBAED,WACCpH,KAAKwa,sBACN,GAAC,wBAED,SAAWrX,GACVA,EAAMgF,iBAGFnI,KAAKya,cAAcxO,YAAcjM,KAAKsH,QAAQ2E,YAI9CjM,KAAKsH,QAAQgU,mBAChBtb,KAAK0a,UAAU,YAGhBvX,EAAMoY,aAAaC,WAAa,OACjC,GAAC,yBAED,SAAYrY,GACXA,EAAMgF,iBACNnI,KAAK0a,UAAU,UAChB,GAAC,qCAED,WAAavX,GAAK,iFAGjB,GAFAA,EAAMgF,iBAGFnI,KAAKya,cAAcxO,YAAcjM,KAAKsH,QAAQ2E,UAAS,iDAYxD,OARHjM,KAAKwa,uBACCiB,EAAwBjJ,KAAKC,MAAMtP,EAAMoY,aAAaG,QAAQ,SACpE9a,GAAAA,EAAAA,MAAmB,oBAAqB,CAAE+a,UAAWF,IAAwB,SAGtEG,EAAqBH,EAAsBxe,IAAG,+BAAC,WAAM4e,GAAQ,wFAC1C,EAAKC,mBAAmBC,SAASF,EAASG,aAAY,OAA/D,OAATC,EAAY,EAAH,uBACRA,GAAS,2CAChB,mDAHmD,IAGlD,UACIjZ,QAAQkZ,IAAIN,GAAmB,0DAErCxY,EAAAA,EAAAA,MAAa,qCAAsC,EAAF,IAAQ,QAKvD,OALuD,UAEzDxC,GAAAA,EAAAA,MAAmB,kBAAmB,CACrCqL,UAAWjM,KAAKsH,QAAQ2E,UACxBkQ,eAAgBV,IACf,6EAEH,+FAED,WAAyBO,GAAU,wEAEgB,OAD5Cld,EAAOL,SAAS2d,cAAc,sBAAD,OAAuBJ,EAAU,QAC/Db,aAAa,qBAAsB,WAAU,kBAG3CkB,GAAAA,EAAAA,SAAe,cAAe,CACnC/e,GAAI0e,EACJlC,cAAe9Z,KAAKsH,QAAQ2E,YAC3B,uDAEFnN,EAAKwd,gBAAgB,sBACrBlZ,EAAAA,EAAAA,MAAa,0BAA2B,EAAF,IAAQ,yDAE/C,+CAhIF,wEAgIE,EA7H2B,GCAhBmZ,GAA4B,CACxChC,KAAI,SAACH,EAAIoC,EAASC,GACjBvC,GAAW,IAAIC,GAAiBC,EAAIqC,EAAMC,QAASF,EAAQ3d,MAC5D,EACA8d,iBAAgB,SAACvC,EAAIoC,GACpBtC,GAAS5S,QAAUkV,EAAQ3d,MAC3Bqb,GAAS0C,OAAOxC,EAAIF,GACrB,mrPCuOD,IClPkL,GDkPlL,CACAlb,KAAAA,oBACAyE,WAAAA,CACAyS,kBAAAA,EAAAA,GACA2G,cAAAA,EAAAA,GACAvG,WAAAA,EAAAA,GACAH,aAAAA,EAAAA,GACAC,eAAAA,EAAAA,GACAC,YAAAA,EAAAA,GACAyG,SAAAA,GAAAA,EACAxN,WAAAA,GAAAA,EACAyN,eAAAA,GAAAA,EACAC,aAAAA,GAAAA,EACAtG,cAAAA,GAAAA,EACAuG,iBAAAA,GAAAA,EACAC,eAAAA,GAAAA,EACA1G,SAAAA,GAAAA,EACA2G,eAAAA,GAAAA,EACAC,aAAAA,GAAAA,QACAhT,WAAAA,GAAAA,QACAJ,UAAAA,GAAAA,QACAE,YAAAA,GAAAA,EACAH,UAAAA,GAAAA,EACAsT,cAAAA,GAAAA,EACAC,cAAAA,GAAAA,EACAzZ,YAAAA,EAAAA,GACA0Z,iBAAAA,IAEA5U,WAAAA,CACA6U,iBAAAA,IAEAzZ,MAAAA,CACAE,QAAAA,CACAtC,KAAAA,OACAuC,UAAAA,GAEAnD,QAAAA,CACAY,KAAAA,OACAuC,UAAAA,GAEAuZ,OAAAA,CACA9b,KAAAA,OACAqC,QAAAA,GACAE,UAAAA,IAGA5E,KAAAA,WAAA,QACA,OACAoe,OAAAA,QAAAA,EAAAA,cAAAA,IAAAA,GAAAA,QAAAA,EAAAA,EAAAA,UAAAA,IAAAA,OAAAA,EAAAA,EAAAA,SAAAA,EACAC,kBAAAA,EACAC,mBAAAA,EACAC,eAAAA,EACArG,YAAAA,EACAsG,oBAAAA,EACAC,0BAAAA,EACAxG,SAAAA,EACAyG,kBAAAA,EACA7G,UAAAA,EACA8G,aAAAA,EACAC,aAAAA,EACAC,YAAAA,KAAAA,QAAAA,YACAC,eAAAA,EACAC,eAAAA,KAAAA,QAAAA,UACAC,iBAAAA,GAAAA,GAEA,EACAhZ,SAAAA,CACAmS,QAAAA,WACA,QACA,qCACA,sGAEA,EACA8G,SAAAA,WACA,+CACA,EACAC,WAAAA,WACA,iFACA,EACA9E,MAAAA,WACA,+BAEA,iBACA,kBACA1Y,WAAAA,CAAAA,eAGA,qBACA,EACAyd,GAAAA,WACA,OACAzf,KAAAA,UACA2Y,OAAAA,CACA1L,UAAAA,KAAAA,QAAAA,WACAwR,OAAAA,KAAAA,OAAAA,KAAAA,YAAAA,GAGA,EACAiB,gBAAAA,WACA,iCACA,EACAC,aAAAA,WACA,mEACA,EACAC,UAAAA,WACA,oFACA,8BACA,2FACAC,MAAAA,KAAAA,aAAAA,SAGA,sBACA,OACA,6BACA,6BACA,yBACA,CACAA,MAAAA,KAAAA,aAAAA,MACAC,OAAAA,KAAAA,aAAAA,SAKA,qBACA,EACAC,aAAAA,WACA,gFACA,EACAC,0BAAAA,WACA,gCAGA,CACA,6BACA,4BACA,iCACA,EACAC,SAAAA,WACA,6DACA,EACA3D,kBAAAA,WACA,uBAGA,mFACA,EACA4D,sBAAAA,WACA,+BAGA,gFACA,EACAC,kBAAAA,WACA,oEAGA,yCACA,EACAC,WAAAA,WACA,qEACA,GAEA5O,QAAAA,WACA5P,GAAAA,EAAAA,IAAAA,aAAAA,KAAAA,aACAA,GAAAA,EAAAA,IAAAA,WAAAA,KAAAA,WACAA,GAAAA,EAAAA,IAAAA,kBAAAA,KAAAA,iBACA,EACAye,cAAAA,WACAze,GAAAA,EAAAA,KAAAA,aAAAA,KAAAA,aACAA,GAAAA,EAAAA,KAAAA,WAAAA,KAAAA,WACAA,GAAAA,EAAAA,KAAAA,kBAAAA,KAAAA,iBACA,EACAkF,QAAAA,CAOAmU,MAAAA,SAAAA,GACA,6BACA,EAOAZ,aAAAA,SAAAA,GACA,GACA,wBAEA,EAKAiG,kBAAAA,WAAA,qHACA,wBACA,kIAKAC,EAAAA,GAAAA,IAAAA,EAAAA,QAAAA,YAAA,OAAAC,EAAAA,EAAAA,KACApc,EAAAA,EAAAA,MAAAA,4BAAAA,OAAAA,EAAAA,QAAAA,YAAAA,CAAAoc,MAAAA,IACA,mEAEA,gBAAAle,OAAAA,GACA8B,EAAAA,EAAAA,MAAAA,oCAAAA,OAAAA,EAAAA,QAAAA,YAAAA,EAAAA,IAAA,yDAZA,EAcA,EAEAmV,cAAAA,SAAAA,GAAA,uHAKA,OAJA,aACAvZ,EAAAA,EAAAA,OAAAA,SAAAA,GAAAA,MACAygB,EAAAA,EAAAA,QAAAA,KAAAA,EAAAA,QAAAA,UAAAA,EACArc,EAAAA,EAAAA,KAAAA,oBAAAA,OAAAA,EAAAA,sBAAAA,OAAAA,EAAAA,QAAAA,aACA,gCAEA,mCACAa,QAAAA,EAAAA,QACAjF,KAAAA,IACA,+BAEA,MAFA,0BAEAoE,EAAAA,EAAAA,MAAAA,4BAAAA,OAAAA,GAAAA,CAAA9B,MAAAA,EAAAA,KAAA,aAIA,OAJA,UAGA,aACA,qCAEA8B,EAAAA,EAAAA,KAAAA,WAAAA,OAAAA,EAAAA,aACA,qFAnBA,EAoBA,EACAoV,kBAAAA,WACA,gBACA,kBACA,EACAkH,WAAAA,WAAA,WACA,0BAEA,YACAnT,SAAAA,kBAAAA,CACAnF,UAAAA,KAAAA,QAAAA,GACA6E,UAAAA,KAAAA,QAAAA,aAEA5O,MAAAA,WAAA,8EACAqP,OAAAA,SAAAA,GAAA,oFAAApL,MAAAA,GAAA,IACAjE,MAAAA,WAAA,gCACA,EACAsiB,yBAAAA,SAAAA,GAAA,+GAEA,OAFA,SAEA,iCAEA,+CACA5e,QAAAA,EAAAA,QACA6e,WAAAA,IACA,8BAEA,MAFA,yBAEAxc,EAAAA,EAAAA,MAAAA,4CAAAA,OAAAA,EAAAA,QAAAA,YAAAA,CAAA9B,MAAAA,EAAAA,KAAA,aAGA,OAHA,UAGA,mGAZA,EAcA,EACAue,uBAAAA,SAAAA,GAAA,+GAEA,OAFA,SAEA,uCAEA,kCACA9e,QAAAA,EAAAA,QACA+e,WAAAA,CACAC,iBAAAA,KAEA,8BAEA,MAFA,yBAEA3c,EAAAA,EAAAA,MAAAA,oDAAAA,OAAAA,EAAAA,QAAAA,YAAAA,CAAA9B,MAAAA,EAAAA,KAAA,aAGA,OAHA,UAGA,yGAdA,EAgBA,EACA0e,WAAAA,WAAA,+GAMA,OANA,SAEA,mBACA5c,EAAAA,EAAAA,MAAAA,yBAAAA,CACAgE,UAAAA,EAAAA,QAAAA,GACA6E,UAAAA,EAAAA,QAAAA,aACA,UAEA+T,EAAAA,GAAAA,IAAAA,EAAAA,QAAAA,GAAAA,EAAAA,QAAAA,YAAA,OAGAnd,OAAAA,SAAAA,QAAAA,GAAA,OAEA,OAFA,SAEA,sFAbA,EAeA,EACAod,aAAAA,WAAA,WACA,0BACAvH,GAAAA,QAAAA,mBACAlb,EAAAA,OAAAA,4CACAA,EAAAA,OAAAA,uBAAAA,CAAAwB,KAAAA,KAAAA,QAAAA,cACA,CACA2C,KAAAA,GAAAA,QAAAA,eACAiX,QAAAA,EAAAA,OAAAA,iBACAC,eAAAA,QACAC,OAAAA,EAAAA,OAAAA,YAEA,YACA,KACA,gBACAvM,SAAAA,eAAAA,CAAAxL,QAAAA,EAAAA,UACA1D,MAAAA,WACA+F,EAAAA,EAAAA,KAAAA,WAAAA,OAAAA,EAAAA,YACA,IACAsJ,OAAAA,SAAAA,GAAA,4CAAApL,MAAAA,GAAA,GAEA,GAEA,EACA4e,cAAAA,WAAA,WACA,0BACA9c,EAAAA,EAAAA,KAAAA,iBAAAA,CAAArC,QAAAA,KAAAA,UACA2X,GAAAA,QAAAA,mBACAlb,EAAAA,OAAAA,uDACAA,EAAAA,OAAAA,kBACA,CACAmE,KAAAA,GAAAA,QAAAA,eACAiX,QAAAA,EAAAA,OAAAA,wBAAAA,CAAA5Z,KAAAA,KAAAA,QAAAA,cACA6Z,eAAAA,QACAC,OAAAA,EAAAA,OAAAA,YAEA,YACA,KACA,gBACAvM,SAAAA,gBAAAA,CAAAxL,QAAAA,EAAAA,UACA1D,MAAAA,WACA+F,EAAAA,EAAAA,KAAAA,WAAAA,OAAAA,EAAAA,YACA,IACAsJ,OAAAA,SAAAA,GAAA,6CAAApL,MAAAA,GAAA,GAEA,GAEA,EACA6e,cAAAA,WAAA,+GAEA,OADA,iBACA,kCAGA,mCACAlc,QAAAA,EAAAA,QACAlD,QAAAA,EAAAA,QACAkP,QAAAA,EAAAA,cACA,OACA,iBACA,iBACA,mEAEAmQ,EAAAA,GAAAA,UAAAA,EAAAA,OAAAA,qDACA/e,QAAAA,MAAAA,EAAAA,IACA,iBACA,iBACA,yEAlBA,EAoBA,EACAgf,gBAAAA,WAEA,oBACA,oBACA,kBACA,EACAC,gBAAAA,WACA,qBACA,EACAC,iBAAAA,WACA,qBACA,EACA5F,YAAAA,SAAAA,GAAA,kBACA,6BAGA,sCACA,yBACA,EACAC,UAAAA,SAAAA,GAAA,cACA,yBAGA,yBACA,EACA4F,iBAAAA,SAAAA,GAAA,yBAAArE,EAAAA,EAAAA,eACA,gCAGA,IAKA,EALA,sBACA,8CACA,IAGA,iCACA,mBACAnd,KAAAA,UACA2Y,OAAAA,CACA1L,UAAAA,KAAAA,OAAAA,OAAAA,UACAwR,OAAAA,QAAAA,EAAAA,KAAAA,OAAAA,cAAAA,IAAAA,OAAAA,EAAAA,EAAAA,SAXA,CAeA,eEhoBI,GAAU,CAAC,EAEf,GAAQlW,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICbI,IAAY,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAQD,EAAI4P,QAAS3P,EAAG,oBAAoB,CAACa,WAAW,CAAC,CAAC3J,KAAK,oBAAoB4J,QAAQ,sBAAsB/J,MAAO,CAClLoN,UAAWpE,EAAI9G,QAAQ0K,WACvBrE,UAAWS,EAAI9G,QAAQqG,UACvBkU,kBAAmBzT,EAAIyT,mBACrBzS,WAAW,0GAA0GL,IAAIX,EAAIoS,MAAMpS,EAAI9G,SAASiH,MAAM,CAAC,GAAKH,EAAIoS,MAAMpS,EAAI9G,SAAS,kBAAiB,EAAK,YAAY8G,EAAIsP,SAAS,cAAa,EAAK,MAAQtP,EAAI6R,MAAM,GAAK7R,EAAI4W,GAAG,KAAO5W,EAAImW,kBAAkB/V,GAAG,CAAC,kBAAkB,CAAC,SAASC,GAAQL,EAAIsP,SAASjP,CAAM,EAAEL,EAAIwR,cAAc,mBAAmB,SAASnR,GAAQL,EAAIsP,SAASjP,CAAM,EAAE,cAAc,SAASA,GAAQL,EAAImW,iBAAiB9V,CAAM,GAAGwB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,MAAM,CAACmB,YAAY,wBAAwB,CAAEpB,EAAI9G,QAAQG,gBAAiB4G,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,MAAOH,EAAI9G,QAAQzD,KAAOuK,EAAIyW,iBAAkBxW,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,MAAmC,UAA5BH,EAAI9G,QAAQ2K,aAA4B7D,EAAI9G,QAAQG,iBAAiC,YAAd2G,EAAI4V,OAAyE,YAAf5V,EAAI4V,OAAsB3V,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,MAAmC,WAA5BH,EAAI9G,QAAQ2K,YAA0B5D,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAmC,SAA5BH,EAAI9G,QAAQ2K,YAAwB5D,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAmC,YAA5BH,EAAI9G,QAAQ2K,YAA2B5D,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAmC,UAA5BH,EAAI9G,QAAQ2K,YAAyB5D,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,MAAMF,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,MAAjbF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAA0Z,GAAG,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,KAAKX,EAAG,WAAW,CAAC2Y,KAAK,WAAW,CAAG5Y,EAAI5D,QAAQ9C,WAAyC,YAA5B0G,EAAI9G,QAAQ2K,YAAwR7D,EAAIsB,KAAjQrB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQH,EAAI9G,QAAQ/B,MAAM0K,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQH,EAAI+W,UAAU,KAAO,MAAM,EAAE/U,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAI+W,WAAW,YAAqB/W,EAAIY,GAAG,KAAkC,YAA5BZ,EAAI9G,QAAQ2K,aAA8B7D,EAAI5D,QAAQ9C,UAAwb0G,EAAIsB,KAAjbrB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,oBAAoB,SAAWqK,EAAI+V,mBAAmB3V,GAAG,CAAC,MAAQJ,EAAI6X,YAAYhW,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,6CAA6C,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,8CAA8C,YAAqBqK,EAAIY,GAAG,KAAOZ,EAAI0P,SAAY1P,EAAI5D,QAAQ9C,YAAa0G,EAAIwW,cAA4C,YAA5BxW,EAAI9G,QAAQ2K,YAAqU7D,EAAIsB,KAA9SrB,EAAG,eAAe,CAACG,GAAG,CAAC,MAAQJ,EAAI2Q,mBAAmB9O,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,gBAAgB,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,kBAAkB,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,mBAAmB,YAAqBqK,EAAIY,GAAG,KAAMZ,EAAI0P,QAASzP,EAAG,cAAc,CAACG,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOuR,kBAAyB5R,EAAI0Q,cAAcnQ,MAAM,KAAMC,UAAU,GAAGqB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,gBAAgB,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,kBAAkB,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,cAAchC,EAAIsB,KAAKtB,EAAIY,GAAG,MAAMZ,EAAIoW,aAAgBpW,EAAI6W,iBAAoB7W,EAAI5D,QAAQ9C,UAA6Y0G,EAAIsB,KAAtYrB,EAAG,eAAe,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOuR,kBAAyB5R,EAAIwY,gBAAgBjY,MAAM,KAAMC,UAAU,GAAGqB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,mBAAmB,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,aAAa,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,cAAc,YAAqBqK,EAAIY,GAAG,KAAMZ,EAAIqW,YAAapW,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQH,EAAIsW,aAAalW,GAAG,CAAC,eAAe,SAASC,GAAQL,EAAIsW,YAAYjW,CAAM,EAAE,OAAS,SAASA,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOuR,kBAAyB5R,EAAIsY,cAAc/X,MAAM,KAAMC,UAAU,GAAGqB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,mBAAmB,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,aAAa,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,cAAchC,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAI2P,WAAY1P,EAAG,aAAa,CAAC4B,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,WAAW,YAAYqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAOZ,EAAI5D,QAAQ9C,YAAa0G,EAAIwW,cAAiBxW,EAAI9G,QAAQ2K,aAAgB7D,EAAI6W,gBAAya7W,EAAIsB,KAA5ZrB,EAAG,eAAe,CAACE,MAAM,CAAC,GAAKH,EAAIoS,MAAMpS,EAAI9G,SAAS,qBAAoB,GAAMkH,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIyY,gBAAgBlY,MAAM,KAAMC,UAAU,GAAGqB,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,QAAQ,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,SAAS,YAAqBqK,EAAIY,GAAG,KAAMZ,EAAI6V,QAAU7V,EAAI5D,QAAQ9C,WAAyC,YAA5B0G,EAAI9G,QAAQ2K,YAA2B5D,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,eAAe,SAAWqK,EAAIgW,eAAe5V,GAAG,CAAC,MAAQJ,EAAImY,YAAYtW,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,6EAA6E,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,8EAA8E,YAAYqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAI2W,WAAY1W,EAAG,iBAAiB,CAACE,MAAM,CAAC,QAAUH,EAAIkX,aAAa,SAAWlX,EAAIiW,oBAAoB7V,GAAG,CAAC,iBAAiBJ,EAAI8X,2BAA2B,CAAC9X,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,eAAe,YAAYqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAI2W,YAAc3W,EAAI0W,SAAUzW,EAAG,iBAAiB,CAACE,MAAM,CAAC,QAAUH,EAAI9G,QAAQgf,iBAAiB,SAAWlY,EAAIkW,0BAA0B9V,GAAG,CAAC,iBAAiBJ,EAAIgY,yBAAyB,CAAChY,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,uBAAuB,YAAYqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAkC,YAA5BZ,EAAI9G,QAAQ2K,aAA8B7D,EAAI5D,QAAQ9C,UAAwS0G,EAAIsB,KAAjSrB,EAAG,eAAe,CAACE,MAAM,CAAC,qBAAoB,GAAMC,GAAG,CAAC,MAAQJ,EAAIoY,cAAcvW,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,kBAAkB,YAAqBqK,EAAIY,GAAG,KAAOZ,EAAI5D,QAAQ9C,WAAc0G,EAAI9G,QAAQ2K,aAAgB7D,EAAI6W,gBAAoT7W,EAAIsB,KAAvSrB,EAAG,eAAe,CAACG,GAAG,CAAC,MAAQJ,EAAIqY,eAAexW,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,kBAAkB,KAAO,MAAM,EAAEqM,OAAM,IAAO,MAAK,EAAM,aAAa,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,mBAAmB,aAAsB,GAAGqK,EAAIY,GAAG,KAAMZ,EAAIsX,mBAAqBtX,EAAIuX,WAAYtX,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,WAAWyY,KAAK,WAAW,CAAC5Y,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAI9G,QAAQ+d,QAAQ,KAAKjX,EAAIa,GAAGb,EAAIuX,YAAY,WAAYvX,EAAIsX,kBAAmBrX,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,WAAWyY,KAAK,WAAW,CAAC5Y,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAI9G,QAAQ+d,QAAQ,UAAUjX,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,WAAW,CAAC2Y,KAAK,SAAS,CAAE5Y,EAAIuW,cAAetW,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,QAAU4D,EAAI9G,SAASkH,GAAG,CAAC,MAAQJ,EAAI0Y,oBAAoB1Y,EAAIsB,MAAM,GAAGtB,EAAIY,GAAG,KAAKZ,EAAIyD,GAAIzD,EAAI8W,cAAc,SAAS+B,GAAY,OAAO5Y,EAAG,oBAAoB,CAACU,IAAIX,EAAIoS,MAAMyG,GAAY1Y,MAAM,CAAC,QAAUH,EAAI5D,QAAQ,QAAUyc,IAAa,KAAI,GAAG7Y,EAAIsB,IAC7nO,GACsB,IDMpB,EACA,KACA,WACA,MAIF,GAAe,GAAiB,oBEnBiJ,GC+CjL,CACAnK,KAAAA,mBACAyE,WAAAA,CACAyS,kBAAAA,EAAAA,GACA2G,cAAAA,EAAAA,GACA8D,WAAAA,GAAAA,GAEArb,SAAAA,CACAsb,MAAAA,WACA,0DACA,EACAnC,GAAAA,WACA,OACAzf,KAAAA,SAEA,gBCnDI,GAAU,CAAC,EAEf,GAAQuI,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,oBAAoB,CAACU,IAAI,oBAAoBR,MAAM,CAAC,GAAK,oBAAoB,MAAQH,EAAIrK,EAAE,OAAQ,UAAU,GAAKqK,EAAI4W,IAAI/U,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,aAAa,CAACmB,YAAY,sBAAsBjB,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,GAAM,CAACrB,IAAI,UAAUoB,GAAG,WAAW,MAAO,CAAE/B,EAAI+Y,MAAO9Y,EAAG,gBAAgB,CAACmB,YAAY,qCAAqC,CAACpB,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAI+Y,OAAO,YAAY/Y,EAAIsB,KAAK,EAAEU,OAAM,MACngB,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,oBEnBkJ,GCuDlL,CACA7K,KAAAA,oBACAyE,WAAAA,CACAqG,MAAAA,EAAAA,iBC/CI,GAAU,CAAC,EAEf,GAAQvC,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQH,EAAIrK,EAAE,OAAQ,sBAAsByK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOL,EAAIgZ,MAAM,QAAQ,IAAI,CAAC/Y,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,0BAA0BqK,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,iEAAiEqK,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,SAASZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,6BAA6BqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,SAASZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,uBAAuBqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,SAASZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,uBAAuBqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,SAASZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAAqBqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,SAASZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,uBAAuBqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,WAAWZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,gBAAgBqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,UAAUZ,EAAIY,GAAG,OAAOX,EAAG,MAAM,CAACD,EAAIY,GAAG,SAASZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,gBAAgBqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,UAAUZ,EAAIY,GAAG,OAAOX,EAAG,MAAM,CAACD,EAAIY,GAAG,aAAaZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,cAAcqK,EAAIY,GAAG,KAAKX,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACD,EAAIY,GAAG,SAASZ,EAAIY,GAAG,KAAKX,EAAG,KAAK,CAACD,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,oBAC5jD,GACsB,IDUpB,EACA,KACA,WACA,MAI8B,+PE8EhC,onGAAAgE,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,gYAWA,QACAxC,KAAAA,kBACAyE,WAAAA,CACAG,UAAAA,EAAAA,GACAkd,kBAAAA,GACAtK,SAAAA,GAAAA,EACAuK,UAAAA,GAAAA,EACAnV,QAAAA,EAAAA,EACA/H,YAAAA,EAAAA,IAEAvE,KAAAA,WACA,OACA0hB,uBAAAA,EAEAC,mBAAAA,EAAAA,OAAAA,4JACAC,uBAAAA,EAEAC,kBAAAA,EAAAA,OAAAA,iEACAC,sBAAAA,EACAC,0BAAAA,EAEAC,gBAAAA,EAAAA,OAAAA,kDACAC,mBAAAA,EAEA,EACAjc,SAAAA,CACAkc,iBAAAA,WACA,sEACA,EACAC,mBAAAA,WACA,2EACA,EACAC,kBAAAA,WACA,uEACA,EACAC,eAAAA,WACA,kFACA,EACAC,qBAAAA,WACA,iEACA,GAEA9b,QAAAA,CACA+b,sBAAAA,SAAAA,GAAA,WACA,6BAEA,YACAtV,SAAAA,iBAAAA,CACA/D,IAAAA,aACA3J,MAAAA,EAAAA,OAAAA,QAAAA,SAAAA,QAEA6N,OAAAA,SAAAA,GAAA,+CAAApL,MAAAA,GAAA,IACAjE,MAAAA,WACA,yBACA,GACA,EACAykB,wBAAAA,SAAAA,GAAA,WACA,8BAEA,YACAvV,SAAAA,iBAAAA,CACA/D,IAAAA,mBACA3J,MAAAA,EAAAA,OAAAA,QAAAA,OAAAA,UAEA6N,OAAAA,SAAAA,GAAA,+CAAApL,MAAAA,GAAA,IACAjE,MAAAA,WACA,0BACA,GACA,EACA0kB,oBAAAA,SAAAA,GAAA,WACA,8BAEA,YACAxV,SAAAA,iBAAAA,CACA/D,IAAAA,eACA3J,MAAAA,EAAAA,OAAAA,QAAAA,OAAAA,UAEA6N,OAAAA,SAAAA,GAAA,+CAAApL,MAAAA,GAAA,IACAjE,MAAAA,WACA,0BACA,GACA,EACA2kB,oBAAAA,SAAAA,GAAA,IA7FA,EA6FA,cA7FA,EA6FA,0FACA,gDAGA,SACAzV,SAAAA,iBAAAA,CACA/D,IAAAA,0BACA3J,MAAAA,EAAAA,OAAAA,QAAAA,OAAAA,UACA,uDAEA4N,EAAAA,EAAAA,MAAAA,6BAAAA,CAAAnL,MAAAA,EAAAA,MAEAqP,EAAAA,GAAAA,WAAAA,EAAAA,OAAAA,gCAAA,QAEA,OAFA,UAEA,kGA3GA,kLA6GA,EACAsR,wBAAAA,WACA,6CACA,MACApf,OAAAA,SAAAA,SAAAA,KAAAA,OAAAA,SAAAA,MAAAA,EAAAA,EAAAA,aAAAA,4BACA,IACAA,OAAAA,UAAAA,wBAAAA,SAAAA,EAAAA,GAAAA,MAAAA,KAAAA,QAGA,CAFA,SACA4J,EAAAA,EAAAA,MAAAA,sCAAAA,CAAAyV,IAAAA,GACA,CACA,CACA,EAIAC,sBAAAA,WACA,gCACA,EAIAC,uBAAAA,WACA,gCACA,EAIAC,wBAAAA,WACA,4DACA,IC3OgL,kBCW5K,GAAU,CAAC,EAEf,GAAQ9a,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICbI,IAAY,OACd,ICTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAED,EAAI+Z,qBAAsB9Z,EAAG,cAAc,CAACmB,YAAY,gDAAgDjB,MAAM,CAAC,GAAK,WAAW,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qBAAqB,SAAS,GAAGqK,EAAIsB,KAAKtB,EAAIY,GAAG,KAAMZ,EAAIqZ,sBAAuBpZ,EAAG,IAAI,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIoZ,oBAAoB,SAAS,GAAGnZ,EAAG,IAAI,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,QAAQ,CAACmB,YAAY,WAAWjB,MAAM,CAAC,GAAK,yBAAyB,KAAO,YAAYc,SAAS,CAAC,QAAUjB,EAAI6Z,mBAAmBzZ,GAAG,CAAC,OAASJ,EAAIka,uBAAuBla,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,2BAA2B,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIoZ,yBAAyBpZ,EAAIY,GAAG,KAAMZ,EAAI0Z,kBAAmBzZ,EAAG,IAAI,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIyZ,iBAAiB,SAAS,GAAGxZ,EAAG,IAAI,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,QAAQ,CAACmB,YAAY,WAAWjB,MAAM,CAAC,GAAK,sBAAsB,KAAO,YAAYc,SAAS,CAAC,QAAUjB,EAAI8Z,gBAAgB1Z,GAAG,CAAC,OAASJ,EAAIma,uBAAuBna,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,wBAAwB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIyZ,sBAAsBzZ,EAAIY,GAAG,KAAMZ,EAAImZ,sBAAuBlZ,EAAG,IAAI,CAACmB,YAAY,gCAAgC,CAACnB,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,qCAAqC,SAAS,GAAGsK,EAAG,IAAI,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,QAAQ,CAACmB,YAAY,WAAWjB,MAAM,CAAC,GAAK,mBAAmB,KAAO,YAAYc,SAAS,CAAC,QAAUjB,EAAI4Z,oBAAoBxZ,GAAG,CAAC,OAASJ,EAAIia,2BAA2Bja,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,qBAAqB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,0CAA0CqK,EAAIY,GAAG,KAAMZ,EAAIuZ,qBAAsBtZ,EAAG,IAAI,CAACmB,YAAY,+BAA+B,CAACnB,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAMH,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIsZ,mBAAmB,SAAS,GAAGrZ,EAAG,IAAI,CAACmB,YAAY,gBAAgB,CAACnB,EAAG,QAAQ,CAACmB,YAAY,WAAWjB,MAAM,CAAC,GAAK,uBAAuB,KAAO,YAAYc,SAAS,CAAC,QAAUjB,EAAI2Z,kBAAkBvZ,GAAG,CAAC,OAASJ,EAAIga,yBAAyBha,EAAIY,GAAG,KAAKX,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,yBAAyB,CAACH,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIsZ,wBAAwBtZ,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACA,EAAG,YAAY,CAACmB,YAAY,sBAAsBjB,MAAM,CAAC,KAAO,aAAaC,GAAG,CAAC,MAAQJ,EAAIoa,yBAAyBvY,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,MAAS,CAAChC,EAAIY,GAAG,WAAWZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,2CAA2C,aAAa,GAAGqK,EAAIY,GAAG,KAAKX,EAAG,YAAY,CAACmB,YAAY,sBAAsBjB,MAAM,CAAC,KAAO,aAAaC,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOuR,kBAAyB5R,EAAIsa,sBAAsB/Z,MAAM,KAAMC,UAAU,EAAE,SAAWR,EAAIwa,yBAAyB3Y,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,MAAS,CAAChC,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,4BAA4B,UAAUqK,EAAIY,GAAG,KAAMZ,EAAIwZ,yBAA0BvZ,EAAG,oBAAoB,CAACG,GAAG,CAAC,MAAQJ,EAAIua,0BAA0Bva,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACmB,YAAY,sBAAsB,CAACpB,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,8CAA8C,UAAUqK,EAAIY,GAAG,KAAKX,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,8BAA8B,OAAS,SAAS,IAAM,wBAAwB,CAACH,EAAIY,GAAG,SAASZ,EAAIa,GAAGb,EAAIrK,EAAE,OAAQ,8CAA8C,WAAW,EACvhH,GACsB,IDUpB,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QEnB2I,GC8F3K,CACAwB,KAAAA,aACAyE,WAAAA,CACA6e,cAAAA,EAAAA,GACAC,sBAAAA,EAAAA,GACAC,oBAAAA,EAAAA,GACAC,gBAAAA,GACAC,kBAAAA,GACAC,gCAAAA,GACAC,kBAAAA,GACAC,iBAAAA,GACAC,uBAAAA,EACAC,YAAAA,GAAAA,SAEAzjB,KAAAA,WACA,OACAwM,YAAAA,EAEA,EACAxG,SAAAA,CACAwQ,KAAAA,WAAA,WACA,oCACA2H,QAAAA,SAAAA,GAAA,uBACAxgB,KAAAA,SAAAA,GACA,0CAIA,EAHA,UACA,yCAEA,SAEA,OACAK,GAAAA,EAAAA,GACA2G,QAAAA,EACA4G,UAAAA,EACAmY,cAAAA,EAEA,GACA,EACAC,eAAAA,WACA,4CACA,EACAC,iBAAAA,WACA,8CACA,EAMAC,sBAAAA,WACA,sEACA,GAEArd,QAAAA,CACAsd,YAAAA,SAAAA,EAAAA,GACA,+BAKA,kCACAriB,EAAAA,aAAAA,EAAAA,eACAA,EAAAA,aAAAA,EAAAA,cAMA,EACAiW,QAAAA,SAAAA,GAEA,WADA,6BACA,EACA,EACAC,OAAAA,SAAAA,GACA,mCACA,wBACA,EAQAC,WAAAA,SAAAA,GACA,qDACA,gBCzKI,GAAU,CAAC,EAEf,GAAQ3P,kBAAoB,IAC5B,GAAQC,cAAgB,IAElB,GAAQC,OAAS,SAAc,KAAM,QAE3C,GAAQC,OAAS,IACjB,GAAQC,mBAAqB,IAEhB,IAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICFA,IAXgB,OACd,IrGTW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,gBAAgB,CAAC4B,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC/B,EAAIyD,GAAIzD,EAAIqb,kBAAkB,SAASniB,GAAS,OAAO+G,EAAG,oBAAoB,CAACU,IAAI,WAAazH,EAAQ0K,WAAWzD,MAAM,CAAC,QAAUH,EAAIob,eAAe,QAAUliB,IAAU,IAAG8G,EAAIY,GAAG,KAAKX,EAAG,oBAAoBD,EAAIY,GAAG,KAAKX,EAAG,uBAAuBD,EAAIY,GAAG,KAAKZ,EAAIyD,GAAIzD,EAAIiO,MAAM,SAASuN,GAAO,MAAO,CAAEA,EAAMpf,QAAS6D,EAAG,oBAAoB,CAACU,IAAI6a,EAAMpf,QAAQ3G,GAAG0K,MAAM,CAAC,QAAUqb,EAAMpf,QAAQ,gBAAgBof,EAAMxY,UAAU,GAAG,WAAWhD,EAAImP,QAAQqM,EAAMpf,SAAS,UAAU4D,EAAIoP,OAAOoM,EAAMpf,SAAS,cAAc4D,EAAIqP,WAAWmM,EAAMpf,YAAY4D,EAAIsB,KAAKtB,EAAIY,GAAG,KAAOZ,EAAIqP,WAAWmM,EAAMpf,SAInB4D,EAAIsB,KAJyB,CAACtB,EAAIyD,GAAI+X,EAAMxY,WAAW,SAAS/L,GAAM,MAAO,CAACgJ,EAAG,oBAAoB,CAACa,WAAW,CAAC,CAAC3J,KAAK,OAAO4J,QAAQ,SAAS/J,OACn1BwkB,EAAML,gBACLK,EAAMpf,QAAQqf,YACdzb,EAAIub,YAAYC,EAAMpf,QAASnF,GAChC+J,WAAW,0JAA0JL,IAAI,WAAa1J,EAAK2M,WAAWzD,MAAM,CAAC,QAAUqb,EAAMpf,QAAQ,QAAUnF,KAAQ+I,EAAIY,GAAG,KAAO4a,EAAMpf,QAAQ9C,WAAkC,UAArBrC,EAAK4M,YAAsJ7D,EAAIsB,KAAjIrB,EAAG,oBAAoB,CAACU,IAAI1J,EAAK2M,WAAa,WAAWzD,MAAM,CAAC,QAAUqb,EAAMpf,QAAQ,QAAUnF,EAAK,OAAS,aAAsB,IAAG+I,EAAIY,GAAG,MAAO4a,EAAMpf,QAAQ9C,WAAakiB,EAAML,cAAelb,EAAG,kCAAkC,CAACU,IAAI,YAAc6a,EAAMpf,QAAQ3G,GAAG0K,MAAM,CAAC,QAAUqb,EAAMpf,WAAW4D,EAAIsB,KAAKtB,EAAIY,GAAG,KAAKX,EAAG,sBAAsB,CAACU,IAAI,UAAY6a,EAAMpf,QAAQ3G,MAAe,IAAG,EAAEuM,OAAM,GAAM,CAACrB,IAAI,SAASoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,wBAAwB,CAACE,MAAM,CAAC,MAAQH,EAAIrK,EAAE,OAAQ,kBAAkBkM,YAAY7B,EAAI8B,GAAG,CAAC,CAACnB,IAAI,OAAOoB,GAAG,WAAW,MAAO,CAAC9B,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,MAAM,EAAE6B,OAAM,MAAS,CAAChC,EAAIY,GAAG,KAAKX,EAAG,oBAAoB,GAAG,EAAE+B,OAAM,MAAS,CAAC/B,EAAG,2BAA2B,EACxhC,GACsB,IqGMpB,EACA,KACA,WACA,MAI8B,6ECnBhC,osCCoB6D,IAExCyb,EAAS,gwBA8B5B,SA9B4B,wBAE7B,WACCvjB,KAAKwjB,gBACLxjB,KAAKyjB,oBAELzjB,KAAK3B,OAAOqlB,SAASC,IACpB,kBACA,IAAIvlB,EAAAA,GAAuB4B,KAAK3B,QAElC,GAAC,2BAED,WACgB2B,KAAK3B,OAAOE,MAAMqlB,OAE1BC,SAAS,YAAa,CAC5BC,eAAgB,cAElB,GAAC,+BAED,WACoB9jB,KAAK3B,OAAO0lB,WAEpBC,iBAAiB,CAC3BzlB,MAAO,YACP0lB,KAAM,CACLjlB,KAAM,MACNklB,QAAS,cAGZ,0EAAC,EA9B4B,CAASC,EAAAA,miCCDiB,IAEnCC,EAAK,gwBAyBxB,SAzBwB,wBAEzB,WACCpkB,KAAKwjB,gBACLxjB,KAAKyjB,mBACN,GAAC,2BAED,WACgBzjB,KAAK3B,OAAOE,MAAMqlB,OAE1BC,SAAS,QAAS,CACxBC,eAAgB,cAElB,GAAC,+BAED,WACoB9jB,KAAK3B,OAAO0lB,WAEpBC,iBAAiB,CAC3BzlB,MAAO,QACP0lB,KAAM,CACLjlB,KAAM,MACNklB,QAAS,UAGZ,0EAAC,EAzBwB,CAASC,EAAAA,+kCCHsB,IAEpCE,EAAI,kwBAIvB,SAJuB,IA4BvB,qBA1BD,WACC,MAAO,CAACC,EAAAA,EACT,OAJwB,mBAMxB,WACCtkB,KAAKukB,+BACN,GAEA,2CAOA,WACCvkB,KAAK3B,OAAO0lB,WAAWC,iBAAiB,CACvCzlB,MAAO,YACP0lB,KAAM,CACLjlB,KAAM,IACNwlB,OAAQ,CACPC,OAAQ,IAGVC,kBAAmB,QAErB,oFAxBC,EAJuB,CAASP,EAAAA,2QCYlC,knGAAA3iB,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+XA0BA,OACAxC,KAAAA,aACAyE,WAAAA,CACAkhB,SAAAA,IAAAA,WAEA5gB,MAAAA,CACAlF,MAAAA,CACA8C,KAAAA,OACAuC,UAAAA,GAEA0gB,KAAAA,CACAjjB,KAAAA,QACAqC,SAAAA,GAEA6gB,YAAAA,CACAljB,KAAAA,OACAqC,QAAAA,IAEAjB,MAAAA,CACApB,KAAAA,QACAqC,SAAAA,GAEAgK,IAAAA,CACArM,KAAAA,OACAuC,UAAAA,GAEA0I,SAAAA,CACAjL,KAAAA,QACAqC,SAAAA,IAGA1E,KAAAA,WACA,oBACA,kBAuCA,OArCA,YACAwlB,EAAAA,KAAAA,MAAAA,EAAAA,CACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,IAEAC,EAAAA,QAAAA,MAAAA,EAAAA,CACA,UACA,aACA,WACA,OACA,SACA,YACA,cACA,YACA,eACA,eACA,aACA,sBACA,gBACA,OACA,kBAIA,CACAC,OAAAA,EACA1nB,OAAAA,EAAAA,EACAgI,OAAAA,CACAwe,YAAAA,KAAAA,YACAC,QAAAA,EACAgB,QAAAA,CACAE,MAAAA,GAEAC,SAAAA,MAGA,EACA7X,YAAAA,WACA,gDACA,EACAtI,QAAAA,CACAogB,uBAAAA,SAAAA,GAAA,IAnHA,EAmHA,cAnHA,EAmHA,2FACAD,OAAAA,EAAAA,CAAA,wCAEA,2BAIA,OAJA,SAIA7iB,EAAAA,EAAAA,MAAAA,WAAAA,OAAAA,EAAAA,+BAAA,SACA,SAGA,YACA6iB,IACA,OACA,gEAEA7iB,EAAAA,EAAAA,MAAAA,6CAAAA,OAAAA,EAAAA,KAAAA,CAAA9B,MAAAA,EAAAA,KACA,2EApIA,gLAsIA,EACA6kB,WAAAA,SAAAA,GACA/iB,EAAAA,EAAAA,MAAAA,UAAAA,OAAAA,EAAAA,2BACA,uBAEA,aACA,EAIAgjB,cAAAA,SAAAA,GACAhjB,EAAAA,EAAAA,MAAAA,sBAAAA,CAAA/E,OAAAA,IACA,sBAEA,aACA+E,EAAAA,EAAAA,MAAAA,uBACA/E,EAAAA,QAAAA,KAAAA,SAGA,mEACA,qBACA,EACAgoB,cAAAA,SAAAA,GACAjjB,EAAAA,EAAAA,MAAAA,gCAAAA,OAAAA,EAAAA,MACA,qBACA,EACAkjB,qBAAAA,SAAAA,GAEA,mDACA,sCACA,0CACA,EACAC,cAAAA,SAAAA,GACA,wBAGA,2EAHA,6BADAC,EAAAA,IAAAA,MAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,IAEA,qDAIA,IC9M2K,sJCWvKlf,GAAU,CAAC,EAEfA,GAAQC,kBAAoB,KAC5BD,GAAQE,cAAgB,KAElBF,GAAQG,OAAS,UAAc,KAAM,QAE3CH,GAAQI,OAAS,KACjBJ,GAAQK,mBAAqB,KAEhB,KAAI,KAASL,IAKJ,MAAW,aAAiB,YALlD,eCVI,GAAU,CAAC,EAEf,GAAQC,kBAAoB,KAC5B,GAAQC,cAAgB,KAElB,GAAQC,OAAS,UAAc,KAAM,QAE3C,GAAQC,OAAS,KACjB,GAAQC,mBAAqB,KAEhB,KAAI,KAAS,IAKJ,MAAW,aAAiB,YALlD,ICDA,IAXgB,cACd,GRVW,WAAkB,IAAIE,EAAI7H,KAAK8H,EAAGD,EAAIE,MAAMD,GAAG,OAAQD,EAAIke,MAAOje,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQH,EAAIhJ,MAAM,OAASgJ,EAAIxB,OAAO,OAASwB,EAAIxJ,OAAO,SAAWwJ,EAAI+E,UAAU3E,GAAG,CAAC,MAAQJ,EAAIwe,cAAc,MAAQxe,EAAIue,iBAAiBve,EAAIsB,IACvP,GACsB,IQWpB,EACA,KACA,WACA,MAI8B,4ECpBhC,ICAoL,ECoBpL,CACAnK,KAAAA,gBACA+E,MAAAA,CACA2V,MAAAA,CACA/X,KAAAA,OACAqC,QAAAA,IAEAyiB,KAAAA,CACA9kB,KAAAA,OACAqC,QAAAA,IAEA0iB,UAAAA,CACA/kB,KAAAA,OACAqC,QAAAA,kBCfA,GAXgB,cACd,GHRW,SAAgB8D,EAAGD,GAAK,OAAOC,EAAG,OAAOD,EAAI8e,GAAG9e,EAAI+e,GAAG,CAAC3d,YAAY,sCAAsCK,MAAM,CAACzB,EAAIvI,KAAKgK,MAAOzB,EAAIvI,KAAK2J,aAAajB,MAAM,CAAC,eAAeH,EAAI9D,MAAM2V,MAAM,aAAa7R,EAAI9D,MAAM2V,MAAM,KAAO,QAAQ,OAAO7R,EAAIvI,KAAK0I,OAAM,GAAOH,EAAIgf,WAAW,CAAC/e,EAAG,MAAM,CAACmB,YAAY,4BAA4BjB,MAAM,CAAC,KAAOH,EAAI9D,MAAM2iB,UAAU,MAAQ7e,EAAI9D,MAAM0iB,KAAK,OAAS5e,EAAI9D,MAAM0iB,KAAK,QAAU,cAAc,CAAC3e,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,kBAAkB,KAAO,UAAUH,EAAIY,GAAG,KAAKX,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,8EAC1hB,GACsB,IGSpB,EACA,KACA,KACA,MAI8B","sources":["webpack://nextcloud-mail/./node_modules/@ckeditor/ckeditor5-build-balloon/build/translations/ lazy-once ^\\.\\/.*$ prefetchOrder: 0 preloadOrder: 0 namespace object","webpack://nextcloud-mail/./src/ckeditor/signature/InsertSignatureCommand.js","webpack://nextcloud-mail/./src/directives/drag-and-drop/util/dragEventBus.js","webpack://nextcloud-mail/./src/i18n/MailboxTranslator.js","webpack://nextcloud-mail/./src/service/TrustedSenderService.js","webpack://nextcloud-mail/./src/components/AccountDefaultsSettings.vue?c24f","webpack://nextcloud-mail/./src/components/AccountForm.vue?4ef8","webpack://nextcloud-mail/./src/components/AccountSettings.vue?b417","webpack://nextcloud-mail/./src/components/AliasForm.vue?40c7","webpack://nextcloud-mail/./src/components/AliasSettings.vue?db3d","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?590d","webpack://nextcloud-mail/./src/components/EditorSettings.vue?7f6c","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?5302","webpack://nextcloud-mail/./src/components/Navigation.vue?636b","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?8c9c","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?09f8","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?9ab3","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?598c","webpack://nextcloud-mail/./src/components/OutOfOfficeForm.vue?012c","webpack://nextcloud-mail/./src/components/SieveFilterForm.vue?577e","webpack://nextcloud-mail/./src/components/SignatureSettings.vue?f239","webpack://nextcloud-mail/./src/components/TextEditor.vue?3913","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?c283","webpack://nextcloud-mail/./src/views/KeyboardShortcuts.vue?a432","webpack://nextcloud-mail/./src/components/AccountForm.vue?4ea9","webpack://nextcloud-mail/./src/components/MailboxInlinePicker.vue?98dd","webpack://nextcloud-mail/./src/components/SieveAccountForm.vue?7472","webpack://nextcloud-mail/./src/components/TextEditor.vue?49f0","webpack://nextcloud-mail/./src/components/AccountForm.vue","webpack://nextcloud-mail/./src/service/AutoConfigService.js","webpack://nextcloud-mail/./src/integration/google.js","webpack://nextcloud-mail/src/components/AccountForm.vue","webpack://nextcloud-mail/./src/components/AccountForm.vue?d987","webpack://nextcloud-mail/./src/components/AccountForm.vue?e331","webpack://nextcloud-mail/./src/components/AccountForm.vue?0654","webpack://nextcloud-mail/./src/components/AccountForm.vue?e5ea","webpack://nextcloud-mail/./src/components/MailboxPicker.vue","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?b2be","webpack://nextcloud-mail/src/components/MailboxPicker.vue","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?0788","webpack://nextcloud-mail/./src/components/MailboxPicker.vue?0d5a","webpack://nextcloud-mail/./src/components/Navigation.vue","webpack://nextcloud-mail/src/components/NewMessageButtonHeader.vue","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?80ee","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?352d","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue?0f94","webpack://nextcloud-mail/./src/components/NewMessageButtonHeader.vue","webpack://nextcloud-mail/./src/components/EditorSettings.vue?cfa2","webpack://nextcloud-mail/src/components/EditorSettings.vue","webpack://nextcloud-mail/./src/components/EditorSettings.vue?56bd","webpack://nextcloud-mail/./src/components/EditorSettings.vue?2b50","webpack://nextcloud-mail/./src/components/EditorSettings.vue","webpack://nextcloud-mail/./src/components/MailboxInlinePicker.vue?5df4","webpack://nextcloud-mail/src/components/MailboxInlinePicker.vue","webpack://nextcloud-mail/./src/components/MailboxInlinePicker.vue?5ad6","webpack://nextcloud-mail/src/components/AccountDefaultsSettings.vue","webpack://nextcloud-mail/./src/components/AccountDefaultsSettings.vue?e464","webpack://nextcloud-mail/./src/components/MailboxInlinePicker.vue?042c","webpack://nextcloud-mail/./src/components/MailboxInlinePicker.vue","webpack://nextcloud-mail/./src/components/AccountDefaultsSettings.vue?1eed","webpack://nextcloud-mail/./src/components/AccountDefaultsSettings.vue?1e7e","webpack://nextcloud-mail/./src/components/AccountDefaultsSettings.vue","webpack://nextcloud-mail/src/components/SignatureSettings.vue","webpack://nextcloud-mail/./src/components/SignatureSettings.vue?dc39","webpack://nextcloud-mail/./src/components/SignatureSettings.vue?dfb2","webpack://nextcloud-mail/./src/components/SignatureSettings.vue?71ec","webpack://nextcloud-mail/./src/components/SignatureSettings.vue","webpack://nextcloud-mail/src/components/AliasForm.vue","webpack://nextcloud-mail/./src/components/AliasForm.vue?b9a7","webpack://nextcloud-mail/./src/components/AliasForm.vue?4521","webpack://nextcloud-mail/./src/components/AliasForm.vue?a9bc","webpack://nextcloud-mail/./src/components/AliasForm.vue","webpack://nextcloud-mail/src/components/AliasSettings.vue","webpack://nextcloud-mail/./src/components/AliasSettings.vue?77c6","webpack://nextcloud-mail/./src/components/AliasSettings.vue?d670","webpack://nextcloud-mail/./src/components/AliasSettings.vue?1587","webpack://nextcloud-mail/./src/components/AliasSettings.vue","webpack://nextcloud-mail/src/components/TrustedSenders.vue","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?26a0","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?be1c","webpack://nextcloud-mail/./src/components/TrustedSenders.vue?cccc","webpack://nextcloud-mail/./src/components/TrustedSenders.vue","webpack://nextcloud-mail/src/components/SieveAccountForm.vue","webpack://nextcloud-mail/./src/components/SieveAccountForm.vue?8bb7","webpack://nextcloud-mail/./src/components/SieveAccountForm.vue?e198","webpack://nextcloud-mail/./src/components/SieveAccountForm.vue?4328","webpack://nextcloud-mail/./src/components/SieveAccountForm.vue","webpack://nextcloud-mail/src/components/SieveFilterForm.vue","webpack://nextcloud-mail/./src/components/SieveFilterForm.vue?db6b","webpack://nextcloud-mail/./src/components/SieveFilterForm.vue?a008","webpack://nextcloud-mail/./src/components/SieveFilterForm.vue?b3ed","webpack://nextcloud-mail/./src/components/SieveFilterForm.vue","webpack://nextcloud-mail/./src/util/outOfOffice.js","webpack://nextcloud-mail/src/components/OutOfOfficeForm.vue","webpack://nextcloud-mail/./src/components/OutOfOfficeForm.vue?5f1a","webpack://nextcloud-mail/./src/components/OutOfOfficeForm.vue?3be2","webpack://nextcloud-mail/./src/components/OutOfOfficeForm.vue?1329","webpack://nextcloud-mail/./src/components/OutOfOfficeForm.vue","webpack://nextcloud-mail/src/components/AccountSettings.vue","webpack://nextcloud-mail/./src/components/AccountSettings.vue?febc","webpack://nextcloud-mail/./src/components/AccountSettings.vue?f0a8","webpack://nextcloud-mail/./src/components/AccountSettings.vue?a404","webpack://nextcloud-mail/./src/components/AccountSettings.vue","webpack://nextcloud-mail/src/components/NavigationAccount.vue","webpack://nextcloud-mail/./src/util/AccountColor.js","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?a0ad","webpack://nextcloud-mail/./src/components/NavigationAccount.vue?d234","webpack://nextcloud-mail/./src/components/NavigationAccount.vue","webpack://nextcloud-mail/src/components/NavigationAccountExpandCollapse.vue","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?dcbc","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?f1e1","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue?1e6b","webpack://nextcloud-mail/./src/components/NavigationAccountExpandCollapse.vue","webpack://nextcloud-mail/src/components/MoveMailboxModal.vue","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue?c6ba","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue?b8e6","webpack://nextcloud-mail/./src/components/MoveMailboxModal.vue","webpack://nextcloud-mail/./src/directives/drag-and-drop/droppable-mailbox/droppable-mailbox.js","webpack://nextcloud-mail/./src/directives/drag-and-drop/droppable-mailbox/index.js","webpack://nextcloud-mail/src/components/NavigationMailbox.vue","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?e111","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?0d81","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue?8269","webpack://nextcloud-mail/./src/components/NavigationMailbox.vue","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?03b7","webpack://nextcloud-mail/src/components/NavigationOutbox.vue","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?6aa3","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue?b84b","webpack://nextcloud-mail/./src/components/NavigationOutbox.vue","webpack://nextcloud-mail/./src/views/KeyboardShortcuts.vue?a13d","webpack://nextcloud-mail/src/views/KeyboardShortcuts.vue","webpack://nextcloud-mail/./src/views/KeyboardShortcuts.vue?839a","webpack://nextcloud-mail/./src/views/KeyboardShortcuts.vue?d57c","webpack://nextcloud-mail/./src/views/KeyboardShortcuts.vue","webpack://nextcloud-mail/src/components/AppSettingsMenu.vue","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?23f7","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?552b","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue?4f94","webpack://nextcloud-mail/./src/components/AppSettingsMenu.vue","webpack://nextcloud-mail/./src/components/Navigation.vue?edc7","webpack://nextcloud-mail/src/components/Navigation.vue","webpack://nextcloud-mail/./src/components/Navigation.vue?d239","webpack://nextcloud-mail/./src/components/Navigation.vue?7f19","webpack://nextcloud-mail/./src/components/TextEditor.vue","webpack://nextcloud-mail/./src/ckeditor/signature/SignaturePlugin.js","webpack://nextcloud-mail/./src/ckeditor/quote/QuotePlugin.js","webpack://nextcloud-mail/./src/ckeditor/mail/MailPlugin.js","webpack://nextcloud-mail/src/components/TextEditor.vue","webpack://nextcloud-mail/./src/components/TextEditor.vue?a257","webpack://nextcloud-mail/./src/components/TextEditor.vue?aff8","webpack://nextcloud-mail/./src/components/TextEditor.vue?51bb","webpack://nextcloud-mail/./src/components/TextEditor.vue?143c","webpack://nextcloud-mail/./src/components/icons/ImportantIcon.vue","webpack://nextcloud-mail/./src/components/icons/ImportantIcon.vue?f7ca","webpack://nextcloud-mail/src/components/icons/ImportantIcon.vue","webpack://nextcloud-mail/./src/components/icons/ImportantIcon.vue?81bf"],"sourcesContent":["var map = {\n\t\"./af\": 50554,\n\t\"./af.js\": 50554,\n\t\"./ar\": 51634,\n\t\"./ar.js\": 51634,\n\t\"./ast\": 29303,\n\t\"./ast.js\": 29303,\n\t\"./az\": 97078,\n\t\"./az.js\": 97078,\n\t\"./bg\": 80996,\n\t\"./bg.js\": 80996,\n\t\"./bn\": 48213,\n\t\"./bn.js\": 48213,\n\t\"./bs\": 3210,\n\t\"./bs.js\": 3210,\n\t\"./ca\": 89306,\n\t\"./ca.js\": 89306,\n\t\"./cs\": 35017,\n\t\"./cs.js\": 35017,\n\t\"./da\": 54505,\n\t\"./da.js\": 54505,\n\t\"./de\": 88780,\n\t\"./de-ch\": 32847,\n\t\"./de-ch.js\": 32847,\n\t\"./de.js\": 88780,\n\t\"./el\": 45374,\n\t\"./el.js\": 45374,\n\t\"./en-au\": 51920,\n\t\"./en-au.js\": 51920,\n\t\"./en-gb\": 98203,\n\t\"./en-gb.js\": 98203,\n\t\"./eo\": 49486,\n\t\"./eo.js\": 49486,\n\t\"./es\": 81565,\n\t\"./es.js\": 81565,\n\t\"./et\": 64458,\n\t\"./et.js\": 64458,\n\t\"./eu\": 48629,\n\t\"./eu.js\": 48629,\n\t\"./fa\": 96594,\n\t\"./fa.js\": 96594,\n\t\"./fi\": 17123,\n\t\"./fi.js\": 17123,\n\t\"./fr\": 34351,\n\t\"./fr.js\": 34351,\n\t\"./gl\": 57774,\n\t\"./gl.js\": 57774,\n\t\"./gu\": 4378,\n\t\"./gu.js\": 4378,\n\t\"./he\": 66007,\n\t\"./he.js\": 66007,\n\t\"./hi\": 21961,\n\t\"./hi.js\": 21961,\n\t\"./hr\": 54466,\n\t\"./hr.js\": 54466,\n\t\"./hu\": 49510,\n\t\"./hu.js\": 49510,\n\t\"./id\": 38623,\n\t\"./id.js\": 38623,\n\t\"./it\": 70848,\n\t\"./it.js\": 70848,\n\t\"./ja\": 2489,\n\t\"./ja.js\": 2489,\n\t\"./jv\": 4231,\n\t\"./jv.js\": 4231,\n\t\"./km\": 37113,\n\t\"./km.js\": 37113,\n\t\"./kn\": 12405,\n\t\"./kn.js\": 12405,\n\t\"./ko\": 66766,\n\t\"./ko.js\": 66766,\n\t\"./ku\": 95257,\n\t\"./ku.js\": 95257,\n\t\"./lt\": 49748,\n\t\"./lt.js\": 49748,\n\t\"./lv\": 24976,\n\t\"./lv.js\": 24976,\n\t\"./ms\": 5043,\n\t\"./ms.js\": 5043,\n\t\"./nb\": 240,\n\t\"./nb.js\": 240,\n\t\"./ne\": 63923,\n\t\"./ne.js\": 63923,\n\t\"./nl\": 71195,\n\t\"./nl.js\": 71195,\n\t\"./no\": 14962,\n\t\"./no.js\": 14962,\n\t\"./oc\": 26770,\n\t\"./oc.js\": 26770,\n\t\"./pl\": 10605,\n\t\"./pl.js\": 10605,\n\t\"./pt\": 18591,\n\t\"./pt-br\": 88827,\n\t\"./pt-br.js\": 88827,\n\t\"./pt.js\": 18591,\n\t\"./ro\": 24485,\n\t\"./ro.js\": 24485,\n\t\"./ru\": 94507,\n\t\"./ru.js\": 94507,\n\t\"./si\": 98608,\n\t\"./si.js\": 98608,\n\t\"./sk\": 61075,\n\t\"./sk.js\": 61075,\n\t\"./sl\": 44240,\n\t\"./sl.js\": 44240,\n\t\"./sq\": 5097,\n\t\"./sq.js\": 5097,\n\t\"./sr\": 50849,\n\t\"./sr-latn\": 83813,\n\t\"./sr-latn.js\": 83813,\n\t\"./sr.js\": 50849,\n\t\"./sv\": 48888,\n\t\"./sv.js\": 48888,\n\t\"./th\": 41089,\n\t\"./th.js\": 41089,\n\t\"./tk\": 10729,\n\t\"./tk.js\": 10729,\n\t\"./tr\": 15654,\n\t\"./tr.js\": 15654,\n\t\"./tt\": 5550,\n\t\"./tt.js\": 5550,\n\t\"./ug\": 34046,\n\t\"./ug.js\": 34046,\n\t\"./uk\": 46390,\n\t\"./uk.js\": 46390,\n\t\"./ur\": 28339,\n\t\"./ur.js\": 28339,\n\t\"./uz\": 2316,\n\t\"./uz.js\": 2316,\n\t\"./vi\": 23865,\n\t\"./vi.js\": 23865,\n\t\"./zh\": 4516,\n\t\"./zh-cn\": 60758,\n\t\"./zh-cn.js\": 60758,\n\t\"./zh.js\": 4516\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(function(id) {\n\t\treturn __webpack_require__.t(id, 7 | 16);;\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn __webpack_require__.e(/* lazy-once context */ 177).then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 72749;\nmodule.exports = webpackAsyncContext;","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command'\n\nexport const TRIGGER_CHANGE_ALIAS = 'change_alias'\nexport const TRIGGER_EDITOR_READY = 'editor_ready'\n\nexport default class InsertSignatureCommand extends Command {\n\n\t/**\n\t * Remove a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t */\n\tremoveSignatureElement(editor, writer) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot()\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element') && value.item.name === 'signature') {\n\t\t\t\twriter.remove(value.item)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Insert a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\tinsertSignatureElement(editor, writer, signature, signatureAboveQuote) {\n\t\t// Skip empty signature\n\t\tif (signature.length === 0) {\n\t\t\treturn\n\t\t}\n\n\t\t// Convert an HTML string to a view document fragment:\n\t\tconst viewFragment = editor.data.processor.toView(signature)\n\n\t\t// Convert the view document fragment to a model document fragment\n\t\t// in the context of $root. This conversion takes the schema into\n\t\t// account so if, for example, the view document fragment contained a bare text node,\n\t\t// this text node cannot be a child of $root, so it will be automatically\n\t\t// wrapped with a <paragraph>. You can define the context yourself (in the second parameter),\n\t\t// and e.g. convert the content like it would happen in a <paragraph>.\n\t\t// Note: The clipboard feature uses a custom context called $clipboardHolder\n\t\t// which has a loosened schema.\n\t\tconst modelFragment = editor.data.toModel(viewFragment)\n\n\t\tconst signatureElement = writer.createElement('signature')\n\t\twriter.append(writer.createText('-- '), signatureElement)\n\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\twriter.append(modelFragment, signatureElement)\n\t\tif (signatureAboveQuote) {\n\t\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\t}\n\n\t\tconst signaturePosition = this.findPosition(editor, writer, signatureAboveQuote)\n\t\teditor.model.insertContent(signatureElement, signaturePosition)\n\t}\n\n\t/**\n\t * Find a position to insert the signature element.\n\t *\n\t * If signatureAboveQuote and a quote element exist the position\n\t * above the quoted text otherwise the end of the document.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t * @return {module:engine/model/position~Position} position instance\n\t */\n\tfindPosition(editor, writer, signatureAboveQuote) {\n\t\tif (signatureAboveQuote) {\n\t\t\t// Create a range spanning over the entire root content:\n\t\t\tconst range = editor.model.createRangeIn(\n\t\t\t\teditor.model.document.getRoot()\n\t\t\t)\n\n\t\t\t// Iterate over all items in this range:\n\t\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\t\tif (value.item.is('element') && value.item.name === 'quote') {\n\t\t\t\t\treturn writer.createPositionBefore(value.item)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn writer.createPositionAt(editor.model.document.getRoot(), 'end')\n\t}\n\n\t/**\n\t * Check if a signature element exist\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @return {boolean}\n\t */\n\thasSignatureElement(editor) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot()\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element')) {\n\t\t\t\tif (value.item.name === 'quote') {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tif (value.item.name === 'signature') {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\t/**\n\t * @param {string} trigger TRIGGER_CHANGE_ALIAS or TRIGGER_EDITOR_READY\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\texecute(trigger, signature, signatureAboveQuote) {\n\t\tthis.editor.model.change(writer => {\n\t\t\t/**\n\t\t\t * TRIGGER_CHANGE_ALIAS:\n\t\t\t * Current signature is replaced.\n\t\t\t *\n\t\t\t * Use case: User selects a different alias.\n\t\t\t *\n\t\t\t * TRIGGER_EDITOR_READY:\n\t\t\t * Insert signature if non exist.\n\t\t\t *\n\t\t\t * Use case: Write new message, Modify signature, Save draft, Close Editor, Open editor\n\t\t\t */\n\n\t\t\tif (trigger === TRIGGER_CHANGE_ALIAS) {\n\t\t\t\tthis.removeSignatureElement(this.editor, writer)\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\n\t\t\tif (trigger === TRIGGER_EDITOR_READY && !this.hasSignatureElement(this.editor)) {\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\t\t})\n\t}\n\n\trefresh() {\n\t\tthis.isEnabled = true\n\t}\n\n}\n","import Vue from 'vue'\nconst dragEventBus = new Vue()\nexport default dragEventBus\n","/*\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { translate as t } from '@nextcloud/l10n'\n\nconst translateSpecial = (mailbox) => {\n\tif (mailbox.specialUse.includes('all')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'All')\n\t}\n\tif (mailbox.specialUse.includes('archive')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Archive')\n\t}\n\tif (mailbox.specialUse.includes('drafts')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Drafts')\n\t}\n\tif (mailbox.specialUse.includes('flagged')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Favorites')\n\t}\n\tif (mailbox.specialUse.includes('inbox')) {\n\t\tif (mailbox.isPriorityInbox) {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'Priority inbox')\n\t\t} else if (mailbox.isUnified) {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'All inboxes')\n\t\t} else {\n\t\t\t// TRANSLATORS: translated mail box name\n\t\t\treturn t('mail', 'Inbox')\n\t\t}\n\t}\n\tif (mailbox.specialUse.includes('junk')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Junk')\n\t}\n\tif (mailbox.specialUse.includes('sent')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Sent')\n\t}\n\tif (mailbox.specialUse.includes('trash')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Trash')\n\t}\n\tthrow new Error(`unknown special use ${mailbox.specialUse}`)\n}\n\nexport const translate = (mailbox) => {\n\tif (mailbox.specialUse.length > 0) {\n\t\ttry {\n\t\t\treturn translateSpecial(mailbox)\n\t\t} catch (e) {\n\t\t\tconsole.error('could not translate special mailbox', e)\n\t\t}\n\t}\n\treturn mailbox.displayName\n}\n","import { generateUrl } from '@nextcloud/router'\nimport axios from '@nextcloud/axios'\n\nexport async function trustSender(email, type, trustFlag) {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders/{email}?type={type}', {\n\t\temail,\n\t\ttype,\n\t})\n\n\tif (trustFlag) {\n\t\tawait axios.put(url)\n\t} else {\n\t\tawait axios.delete(url)\n\t}\n}\nexport async function fetchTrustedSenders() {\n\tconst url = generateUrl('/apps/mail/api/trustedsenders')\n\tconst response = await axios.get(url)\n\treturn response.data.data\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".button.icon-rename[data-v-e90324b0]{background-color:rgba(0,0,0,0);border:none;opacity:.3}.button.icon-rename[data-v-e90324b0]:hover,.button.icon-rename[data-v-e90324b0]:focus{opacity:1}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AccountDefaultsSettings.vue\"],\"names\":[],\"mappings\":\"AACA,qCACC,8BAAA,CACA,WAAA,CACA,UAAA,CAEA,sFAEC,SAAA\",\"sourcesContent\":[\"\\n.button.icon-rename {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\topacity: 0.3;\\n\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-6ba01c25] .tabs-component-tabs{display:flex}[data-v-6ba01c25] .tabs-component-tab{flex-grow:1;text-align:center;color:var(--color-text-lighter);margin-bottom:10px}[data-v-6ba01c25] .tabs-component-tab.is-active{border-bottom:1px solid #000;font-weight:bold}.tabs-component-panels[data-v-6ba01c25]{padding-top:20px}.tabs-component-panels label[data-v-6ba01c25]{text-align:left;width:100%;display:inline-block}.tabs-component-panels input[data-v-6ba01c25],.tabs-component-panels select[data-v-6ba01c25]{margin-bottom:10px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AccountForm.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,YAAA,CAGD,sCACC,WAAA,CACA,iBAAA,CACA,+BAAA,CACA,kBAAA,CAGD,gDACC,4BAAA,CACA,gBAAA,CAGD,wCACC,gBAAA,CAGD,8CACC,eAAA,CACA,UAAA,CACA,oBAAA,CAGD,6FAEC,kBAAA\",\"sourcesContent\":[\"\\n:deep(.tabs-component-tabs) {\\n\\tdisplay: flex;\\n}\\n\\n:deep(.tabs-component-tab) {\\n\\tflex-grow: 1;\\n\\ttext-align: center;\\n\\tcolor: var(--color-text-lighter);\\n\\tmargin-bottom: 10px;\\n}\\n\\n:deep(.tabs-component-tab.is-active) {\\n\\tborder-bottom: 1px solid black;\\n\\tfont-weight: bold;\\n}\\n\\n.tabs-component-panels {\\n\\tpadding-top: 20px;\\n}\\n\\n.tabs-component-panels label {\\n\\ttext-align: left;\\n\\twidth: 100%;\\n\\tdisplay: inline-block;\\n}\\n\\n.tabs-component-panels input,\\n.tabs-component-panels select {\\n\\tmargin-bottom: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".alias-item[data-v-3caa85fe]{display:flex;justify-content:space-between}.button.icon-rename[data-v-3caa85fe]{background-image:var(--icon-rename-000);background-color:var(--color-main-background);border:none;opacity:.7}.button.icon-rename[data-v-3caa85fe]:hover,.button.icon-rename[data-v-3caa85fe]:focus{opacity:1}.settings-hint[data-v-3caa85fe]{margin-top:-12px;margin-bottom:6px;color:var(--color-text-maxcontrast)}h2[data-v-3caa85fe]{font-weight:bold;font-size:20px;margin-bottom:12px;margin-left:-30px;line-height:30px;color:var(--color-text-light)}.app-settings-section[data-v-3caa85fe]{margin-bottom:45px}[data-v-3caa85fe] .modal-container,[data-v-3caa85fe] .app-settings__wrapper{position:unset !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AccountSettings.vue\"],\"names\":[],\"mappings\":\"AACA,6BACC,YAAA,CACA,6BAAA,CAGD,qCACC,uCAAA,CACA,6CAAA,CACA,WAAA,CACA,UAAA,CACA,sFAEC,SAAA,CAGF,gCACC,gBAAA,CACA,iBAAA,CACA,mCAAA,CAED,oBACC,gBAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,gBAAA,CACA,6BAAA,CAED,uCACA,kBAAA,CAIA,4EAEC,yBAAA\",\"sourcesContent\":[\"\\n.alias-item {\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n}\\n\\n.button.icon-rename {\\n\\tbackground-image: var(--icon-rename-000);\\n\\tbackground-color: var(--color-main-background);\\n\\tborder: none;\\n\\topacity: 0.7;\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n.settings-hint {\\n\\tmargin-top: -12px;\\n\\tmargin-bottom: 6px;\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\nh2 {\\n\\tfont-weight: bold;\\n\\tfont-size: 20px;\\n\\tmargin-bottom: 12px;\\n\\tmargin-left: -30px;\\n\\tline-height: 30px;\\n\\tcolor: var(--color-text-light);\\n}\\n.app-settings-section {\\nmargin-bottom: 45px;\\n}\\n\\n// Fix weird modal glitches on Firefox when toggling autoresponder\\n:deep(.modal-container),\\n:deep(.app-settings__wrapper) {\\n\\tposition: unset !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".alias-form[data-v-d0a75566],.alias-item[data-v-d0a75566]{display:flex;justify-content:space-between;align-items:center}.button-group[data-v-d0a75566]{display:flex;align-items:center}.icon[data-v-d0a75566]{background-color:var(--color-main-background);border:none;opacity:.7}.icon[data-v-d0a75566]:hover,.icon[data-v-d0a75566]:focus{opacity:1}.icon-checkmark[data-v-d0a75566]{background-image:var(--icon-checkmark-000)}.icon-delete[data-v-d0a75566]{background-image:var(--icon-delete-000)}.icon-rename[data-v-d0a75566]{background-image:var(--icon-rename-000)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AliasForm.vue\"],\"names\":[],\"mappings\":\"AACA,0DACC,YAAA,CACA,6BAAA,CACA,kBAAA,CAGD,+BACC,YAAA,CACA,kBAAA,CAGD,uBACC,6CAAA,CACA,WAAA,CACA,UAAA,CAEA,0DACC,SAAA,CAIF,iCACC,0CAAA,CAGD,8BACC,uCAAA,CAGD,8BACC,uCAAA\",\"sourcesContent\":[\"\\n.alias-form, .alias-item {\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n}\\n\\n.button-group {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.icon {\\n\\tbackground-color: var(--color-main-background);\\n\\tborder: none;\\n\\topacity: 0.7;\\n\\n\\t&:hover, &:focus {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\\n.icon-checkmark {\\n\\tbackground-image: var(--icon-checkmark-000);\\n}\\n\\n.icon-delete {\\n\\tbackground-image: var(--icon-delete-000);\\n}\\n\\n.icon-rename {\\n\\tbackground-image: var(--icon-rename-000);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".primary[data-v-69f65517]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-69f65517]:after{left:14px}.button-text[data-v-69f65517]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-69f65517]:hover,.button-text[data-v-69f65517]:focus{color:var(--color-main-text)}input[data-v-69f65517]{width:195px}.button-vue[data-v-69f65517] {display:inline-block !important;margin-top:4px !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AliasSettings.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACC,SAAA,CAIF,8BACC,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEC,4BAAA,CAIF,uBACC,WAAA,CAED,8BACC,+BAAA,CACA,yBAAA\",\"sourcesContent\":[\"\\n.primary {\\n\\tpadding-left: 26px;\\n\\tbackground-position: 6px;\\n\\tcolor: var(--color-main-background);\\n\\n\\t&:after {\\n\\t\\tleft: 14px;\\n\\t}\\n}\\n\\n.button-text {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tfont-weight: normal;\\n\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n}\\n\\ninput {\\n\\twidth: 195px;\\n}\\n.button-vue:deep() {\\n\\tdisplay: inline-block !important;\\n\\tmargin-top: 4px !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"p.app-settings span.loading-icon[data-v-02ea4924]{display:inline-block;vertical-align:middle;padding:5px 0}p.app-settings[data-v-02ea4924]{padding:10px 0}.app-settings-button[data-v-02ea4924]{display:inline-flex;background-position:10px center;text-align:left;margin-top:6px}.app-settings-button.button.primary.new-button[data-v-02ea4924]{color:var(--color-main-background);padding-left:34px;gap:4px}.app-settings-link[data-v-02ea4924]{text-decoration:underline}.mailvelope-section[data-v-02ea4924]{padding-top:15px}.mailvelope-section a.button[data-v-02ea4924]{display:flex;align-items:center;line-height:normal;min-height:44px;font-size:unset}.mailvelope-section a.button[data-v-02ea4924]:focus-visible,.mailvelope-section a.button[data-v-02ea4924]:hover{box-shadow:0 0 0 1px var(--color-primary-element)}.material-design-icon[data-v-02ea4924]{opacity:.7}.material-design-icon.lock-icon[data-v-02ea4924]{margin-right:10px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AppSettingsMenu.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,oBAAA,CACA,qBAAA,CACA,aAAA,CAED,gCACC,cAAA,CAED,sCACC,mBAAA,CACA,+BAAA,CACA,eAAA,CACA,cAAA,CAED,gEACC,kCAAA,CAEA,iBAAA,CACA,OAAA,CAED,oCACC,yBAAA,CAED,qCACC,gBAAA,CAEA,8CACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CAEA,gHAEC,iDAAA,CAIH,uCACC,UAAA,CACA,iDACC,iBAAA\",\"sourcesContent\":[\"\\np.app-settings span.loading-icon {\\n\\tdisplay: inline-block;\\n\\tvertical-align: middle;\\n\\tpadding: 5px 0;\\n}\\np.app-settings {\\n\\tpadding: 10px 0;\\n}\\n.app-settings-button {\\n\\tdisplay: inline-flex;\\n\\tbackground-position: 10px center;\\n\\ttext-align: left;\\n\\tmargin-top: 6px;\\n}\\n.app-settings-button.button.primary.new-button {\\n\\tcolor: var(--color-main-background);\\n\\t//this style will be removed after we migrate also the  'add mail account' to material design\\n\\tpadding-left: 34px;\\n\\tgap: 4px;\\n}\\n.app-settings-link {\\n\\ttext-decoration: underline;\\n}\\n.mailvelope-section {\\n\\tpadding-top: 15px;\\n\\n\\ta.button {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tline-height: normal;\\n\\t\\tmin-height: 44px;\\n\\t\\tfont-size: unset;\\n\\n\\t\\t&:focus-visible,\\n\\t\\t&:hover {\\n\\t\\t\\tbox-shadow: 0 0 0 1px var(--color-primary-element);\\n\\t\\t}\\n\\t}\\n}\\n.material-design-icon {\\n\\topacity: .7;\\n\\t&.lock-icon {\\n\\t\\tmargin-right: 10px;\\n\\t}\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"label[data-v-2a4cf7ad]{padding-right:12px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EditorSettings.vue\"],\"names\":[],\"mappings\":\"AAEA,uBACC,kBAAA\",\"sourcesContent\":[\"\\n\\nlabel {\\n\\tpadding-right: 12px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-14f08174] .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:600px !important;max-height:500px !important}.modal-content[data-v-14f08174]{display:flex;box-sizing:border-box;width:100%;height:100%;flex-direction:column;padding:15px}.crumbs[data-v-14f08174]{display:inline-flex;padding-right:0px;flex-wrap:wrap}.crumbs .level[data-v-14f08174]{display:inline-flex;height:44px;min-width:0px;flex:0 0 auto;order:1;padding-right:7px;background-position:right center;background-size:auto 24px;margin-top:-10px}.crumbs a[data-v-14f08174]{position:relative;padding:12px;opacity:.5;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:0 0 auto;min-width:0px;max-width:200px}.crumbs a[data-v-14f08174]:hover{opacity:.7}.crumbs a.icon-home[data-v-14f08174]{width:0px;background-position:left center}.mailbox-list[data-v-14f08174]{display:inline-block;width:100%;height:100%;overflow-y:auto;flex:1}.mailbox-list li[data-v-14f08174]{display:flex;cursor:pointer}.mailbox-list li[data-v-14f08174]:hover{background-color:var(--color-background-hover)}.mailbox-list li[data-v-14f08174]:not(:last-child){border-bottom:1px solid var(--color-border)}.mailbox-list h2[data-v-14f08174]{width:100%;color:var(--color-text-maxcontrast);text-align:center;margin-top:80px;opacity:.4;background-size:64px;height:64px}.mailbox-list .mailbox-icon[data-v-14f08174]{width:24px;height:24px;padding:14px;opacity:.9;background-size:24px}.mailbox-list .mailbox-title[data-v-14f08174]{padding:14px 14px 14px 0;flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.buttons[data-v-14f08174]{display:flex;justify-content:flex-end;padding-top:10px}.buttons .spinner[data-v-14f08174]{margin-right:5px}.material-design-icon[data-v-14f08174]{opacity:.7;margin-right:6px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MailboxPicker.vue\"],\"names\":[],\"mappings\":\"AACA,mCACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAGD,gCACC,YAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,YAAA,CAGD,yBACC,mBAAA,CACA,iBAAA,CACA,cAAA,CAEA,gCACC,mBAAA,CACA,WAAA,CACA,aAAA,CACA,aAAA,CACA,OAAA,CACA,iBAAA,CACA,gCAAA,CACA,yBAAA,CACA,gBAAA,CAGD,2BACC,iBAAA,CACA,YAAA,CACA,UAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,aAAA,CACA,aAAA,CACA,eAAA,CAEA,iCACC,UAAA,CAIF,qCACC,SAAA,CACA,+BAAA,CAIF,+BACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,MAAA,CAEA,kCACC,YAAA,CACA,cAAA,CAEA,wCACC,8CAAA,CAGD,mDACC,2CAAA,CAIF,kCACC,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,oBAAA,CACA,WAAA,CAGD,6CACC,UAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CACA,oBAAA,CAGD,8CACC,wBAAA,CACA,MAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAIF,0BACC,YAAA,CACA,wBAAA,CACA,gBAAA,CAEA,mCACC,gBAAA,CAGF,uCACC,UAAA,CACA,gBAAA\",\"sourcesContent\":[\"\\n:deep(.modal-container) {\\n\\twidth: calc(100vw - 120px) !important;\\n\\theight: calc(100vh - 120px) !important;\\n\\tmax-width: 600px !important;\\n\\tmax-height: 500px !important;\\n}\\n\\n.modal-content {\\n\\tdisplay: flex;\\n\\tbox-sizing: border-box;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tflex-direction: column;\\n\\tpadding: 15px;\\n}\\n\\n.crumbs {\\n\\tdisplay: inline-flex;\\n\\tpadding-right: 0px;\\n\\tflex-wrap: wrap;\\n\\n\\t.level {\\n\\t\\tdisplay: inline-flex;\\n\\t\\theight: 44px;\\n\\t\\tmin-width: 0px;\\n\\t\\tflex: 0 0 auto;\\n\\t\\torder: 1;\\n\\t\\tpadding-right: 7px;\\n\\t\\tbackground-position: right center;\\n\\t\\tbackground-size: auto 24px;\\n\\t\\tmargin-top: -10px;\\n\\t}\\n\\n\\ta {\\n\\t\\tposition: relative;\\n\\t\\tpadding: 12px;\\n\\t\\topacity: 0.5;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\tflex: 0 0 auto;\\n\\t\\tmin-width: 0px;\\n\\t\\tmax-width: 200px;\\n\\n\\t\\t&:hover {\\n\\t\\t\\topacity: 0.7;\\n\\t\\t}\\n\\t}\\n\\n\\ta.icon-home {\\n\\t\\twidth: 0px;\\n\\t\\tbackground-position: left center;\\n\\t}\\n}\\n\\n.mailbox-list {\\n\\tdisplay: inline-block;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\toverflow-y: auto;\\n\\tflex: 1;\\n\\n\\tli {\\n\\t\\tdisplay: flex;\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t}\\n\\n\\t\\t&:not(:last-child) {\\n\\t\\t\\tborder-bottom: 1px solid var(--color-border);\\n\\t\\t}\\n\\t}\\n\\n\\th2 {\\n\\t\\twidth: 100%;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\ttext-align: center;\\n\\t\\tmargin-top: 80px;\\n\\t\\topacity: 0.4;\\n\\t\\tbackground-size: 64px;\\n\\t\\theight: 64px;\\n\\t}\\n\\n\\t.mailbox-icon {\\n\\t\\twidth: 24px;\\n\\t\\theight: 24px;\\n\\t\\tpadding: 14px;\\n\\t\\topacity: 0.9;\\n\\t\\tbackground-size: 24px;\\n\\t}\\n\\n\\t.mailbox-title {\\n\\t\\tpadding: 14px 14px 14px 0;\\n\\t\\tflex: 1;\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n}\\n\\n.buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\tpadding-top: 10px;\\n\\n\\t.spinner {\\n\\t\\tmargin-right: 5px;\\n\\t}\\n}\\n.material-design-icon {\\n\\topacity: .7;\\n\\tmargin-right: 6px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".button[data-v-58bba1fa]{width:44px;height:44px;background-color:var(--color-main-background);border:none;display:inline-block;position:absolute;margin-left:254px;margin-top:13px;opacity:.7}.button[data-v-58bba1fa]:hover,.button[data-v-58bba1fa]:focus{opacity:1;background-color:var(--color-background-hover)}.button[data-v-58bba1fa]:disabled{cursor:not-allowed;opacity:.5;animation:rotation-58bba1fa 2s linear}[data-v-58bba1fa] .app-navigation-new button{width:240px !important;height:44px}@keyframes rotation-58bba1fa{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.app-navigation-spacer[data-v-58bba1fa]{order:0 !important}[data-v-58bba1fa] .settings-button{opacity:.7 !important;font-weight:bold !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Navigation.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,UAAA,CACA,WAAA,CACA,6CAAA,CACA,WAAA,CACA,oBAAA,CACA,iBAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,8DAEC,SAAA,CACA,8CAAA,CAED,kCACC,kBAAA,CACA,UAAA,CACA,qCAAA,CAGF,6CACC,sBAAA,CACA,WAAA,CAED,6BACA,KACC,sBAAA,CAED,GACE,yBAAA,CAAA,CAGF,wCACC,kBAAA,CAED,mCACC,qBAAA,CACA,2BAAA\",\"sourcesContent\":[\"\\n.button {\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\tbackground-color: var(--color-main-background);\\n\\tborder: none;\\n\\tdisplay: inline-block;\\n\\tposition: absolute;\\n\\tmargin-left: 254px;\\n\\tmargin-top: 13px;\\n\\topacity: .7;\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\topacity: 1;\\n\\t\\tbackground-color:var(--color-background-hover);\\n\\t}\\n\\t&:disabled {\\n\\t\\tcursor: not-allowed;\\n\\t\\topacity: .5;\\n\\t\\tanimation: rotation 2s linear;\\n\\t}\\n}\\n:deep(.app-navigation-new button) {\\n\\twidth: 240px !important;\\n\\theight: 44px;\\n}\\n@keyframes rotation {\\nfrom {\\n\\ttransform: rotate(-0deg);\\n}\\nto {\\n\\t\\ttransform: rotate(-360deg);\\n\\t}\\n}\\n.app-navigation-spacer {\\n\\torder: 0 !important;\\n}\\n:deep(.settings-button) {\\n\\topacity: .7 !important;\\n\\tfont-weight: bold !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-7b982a77] .app-navigation-entry__title{color:var(--color-text-maxcontrast)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationAccountExpandCollapse.vue\"],\"names\":[],\"mappings\":\"AACA,+CACC,mCAAA\",\"sourcesContent\":[\"\\n:deep(.app-navigation-entry__title) {\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sidebar-opacity-icon[data-v-28214da8]{opacity:.7}.sidebar-opacity-icon[data-v-28214da8]:hover{opacity:1}.counter-bubble__counter[data-v-28214da8]{max-width:initial}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationMailbox.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,UAAA,CACA,6CACA,SAAA,CAGD,0CACC,iBAAA\",\"sourcesContent\":[\"\\n.sidebar-opacity-icon {\\n\\topacity: .7;\\n\\t&:hover {\\n\\topacity: 1;\\n\\t}\\n}\\n.counter-bubble__counter {\\n\\tmax-width: initial;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".navigation-outbox__unread-counter[data-v-db273da8]{margin-right:calc(var(--default-grid-baseline)*2)}.outbox-opacity-icon[data-v-db273da8]{opacity:.7}.outbox-opacity-icon[data-v-db273da8]:hover{opacity:1}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NavigationOutbox.vue\"],\"names\":[],\"mappings\":\"AAEC,oDACC,iDAAA,CAIF,sCACC,UAAA,CAEA,4CACC,SAAA\",\"sourcesContent\":[\"\\n.navigation-outbox {\\n\\t&__unread-counter {\\n\\t\\tmargin-right: calc(var(--default-grid-baseline)*2);\\n\\t}\\n}\\n\\n.outbox-opacity-icon {\\n\\topacity: .7;\\n\\n\\t&:hover {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".header[data-v-212fef3d]{display:flex;align-items:center;justify-content:space-between;padding:calc(var(--default-grid-baseline, 4px)*2);gap:4px;height:61px}.refresh__button[data-v-212fef3d]{background-color:rgba(0,0,0,0)}.new-message-button[data-v-212fef3d]{background-image:var(--gradient-primary-background)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/NewMessageButtonHeader.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,iDAAA,CACA,OAAA,CACA,WAAA,CAED,kCACC,8BAAA,CAED,qCACC,mDAAA\",\"sourcesContent\":[\"\\n.header {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\\n\\tgap: 4px;\\n\\theight: 61px;\\n}\\n.refresh__button {\\n\\tbackground-color: transparent;\\n}\\n.new-message-button {\\n\\tbackground-image: var(--gradient-primary-background);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".form[data-v-0c0f23a0]{display:flex;flex-direction:column;gap:15px}.form__fieldset[data-v-0c0f23a0]{display:flex;flex-direction:column}.form__fieldset__label[data-v-0c0f23a0]{display:flex;align-items:center;gap:5px}.form__fieldset__input[data-v-0c0f23a0]{flex:1 auto}.form__multi-row[data-v-0c0f23a0]{display:flex;align-items:end;gap:15px}.form #ooo-enable-last-day[data-v-0c0f23a0]{cursor:pointer;min-height:unset}.form #ooo-subject[data-v-0c0f23a0]{width:100%}.form #ooo-message[data-v-0c0f23a0]{width:100%;min-height:100px;border:1px solid var(--color-border)}.form #ooo-message[data-v-0c0f23a0]:active,.form #ooo-message[data-v-0c0f23a0]:focus,.form #ooo-message[data-v-0c0f23a0]:hover{border-color:var(--color-primary-element) !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/OutOfOfficeForm.vue\"],\"names\":[],\"mappings\":\"AACA,uBACC,YAAA,CACA,qBAAA,CACA,QAAA,CAEA,iCACC,YAAA,CACA,qBAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CACA,OAAA,CAGD,wCACC,WAAA,CAIF,kCACC,YAAA,CACA,eAAA,CACA,QAAA,CAGD,4CACC,cAAA,CACA,gBAAA,CAGD,oCACC,UAAA,CAGD,oCACC,UAAA,CACA,gBAAA,CACA,oCAAA,CAEA,+HAGC,oDAAA\",\"sourcesContent\":[\"\\n.form {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tgap: 15px;\\n\\n\\t&__fieldset {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t&__label {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tgap: 5px;\\n\\t\\t}\\n\\n\\t\\t&__input {\\n\\t\\t\\tflex: 1 auto;\\n\\t\\t}\\n\\t}\\n\\n\\t&__multi-row {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: end;\\n\\t\\tgap: 15px;\\n\\t}\\n\\n\\t#ooo-enable-last-day {\\n\\t\\tcursor: pointer;\\n\\t\\tmin-height: unset;\\n\\t}\\n\\n\\t#ooo-subject {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t#ooo-message {\\n\\t\\twidth: 100%;\\n\\t\\tmin-height: 100px;\\n\\t\\tborder: 1px solid var(--color-border);\\n\\n\\t\\t&:active,\\n\\t\\t&:focus,\\n\\t\\t&:hover {\\n\\t\\t\\tborder-color: var(--color-primary-element) !important;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".section[data-v-669a6150]{display:block;padding:0;margin-bottom:23px}textarea[data-v-669a6150]{width:100%}.primary[data-v-669a6150]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-669a6150]:after{left:14px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SieveFilterForm.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,aAAA,CACA,SAAA,CACA,kBAAA,CAGD,0BACC,UAAA,CAGD,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA\",\"sourcesContent\":[\"\\n.section {\\n\\tdisplay: block;\\n\\tpadding: 0;\\n\\tmargin-bottom: 23px;\\n}\\n\\ntextarea {\\n\\twidth: 100%;\\n}\\n\\n.primary {\\n\\tpadding-left: 26px;\\n\\tbackground-position: 6px;\\n\\tcolor: var(--color-main-background);\\n\\n\\t&:after {\\n\\t\\t left: 14px;\\n\\t }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor__editable_inline[data-v-389ef109]{width:100%;max-width:78vw;height:100%;min-height:100px;border-radius:var(--border-radius) !important;border:1px solid var(--color-border) !important;box-shadow:none !important}.primary[data-v-389ef109]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-389ef109]:after{left:14px}.button-text[data-v-389ef109]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-389ef109]:hover,.button-text[data-v-389ef109]:focus{color:var(--color-main-text)}.section[data-v-389ef109]{display:block;padding:0;margin-bottom:23px}.multiselect--single[data-v-389ef109]{width:100%}.ck-balloon-panel[data-v-389ef109]{z-index:10000 !important}.button-vue[data-v-389ef109] {display:inline-block !important;margin-top:4px !important}.warning-large-signature[data-v-389ef109]{color:#ff8c00}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SignatureSettings.vue\"],\"names\":[],\"mappings\":\"AACA,gDACE,UAAA,CACA,cAAA,CACA,WAAA,CACA,gBAAA,CACA,6CAAA,CACA,+CAAA,CACA,0BAAA,CAGF,0BACE,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA,CAIJ,8BACE,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEE,4BAAA,CAGJ,0BACE,aAAA,CACA,SAAA,CACA,kBAAA,CAEF,sCACE,UAAA,CAEF,mCACE,wBAAA,CAEF,8BACC,+BAAA,CACA,yBAAA,CAED,0CACC,aAAA\",\"sourcesContent\":[\"\\n.ck.ck-editor__editable_inline {\\n  width: 100%;\\n  max-width: 78vw;\\n  height: 100%;\\n  min-height: 100px;\\n  border-radius: var(--border-radius) !important;\\n  border: 1px solid var(--color-border) !important;\\n  box-shadow: none !important;\\n}\\n\\n.primary {\\n  padding-left: 26px;\\n  background-position: 6px;\\n  color: var(--color-main-background);\\n\\n  &:after {\\n    left: 14px;\\n  }\\n}\\n\\n.button-text {\\n  background-color: transparent;\\n  border: none;\\n  color: var(--color-text-maxcontrast);\\n  font-weight: normal;\\n\\n  &:hover,\\n  &:focus {\\n    color: var(--color-main-text);\\n  }\\n}\\n.section {\\n  display: block;\\n  padding: 0;\\n  margin-bottom: 23px;\\n}\\n.multiselect--single {\\n  width: 100%;\\n}\\n.ck-balloon-panel {\\n\\t z-index: 10000 !important;\\n }\\n.button-vue:deep() {\\n\\tdisplay: inline-block !important;\\n\\tmargin-top: 4px !important;\\n}\\n.warning-large-signature {\\n\\tcolor: darkorange;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-017cdc08] a{color:#07d}[data-v-017cdc08] p{cursor:text;margin:0 !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\"AAEA,oBACC,UAAA,CAED,oBACC,WAAA,CACA,mBAAA\",\"sourcesContent\":[\"\\n\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".button-vue[data-v-188a02c7] {display:inline-block !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TrustedSenders.vue\"],\"names\":[],\"mappings\":\"AACA,8BACC,+BAAA\",\"sourcesContent\":[\"\\n.button-vue:deep() {\\n\\tdisplay: inline-block !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-b7dde5e0] .modal-wrapper .modal-container{display:block;overflow:scroll;transition:transform 300ms ease;border-radius:var(--border-radius-large);box-shadow:0 0 40px rgba(0,0,0,.2);padding:30px 40px 20px}dt[data-v-b7dde5e0]{width:auto;text-align:left}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/KeyboardShortcuts.vue\"],\"names\":[],\"mappings\":\"AACA,kDACC,aAAA,CACA,eAAA,CACA,+BAAA,CACA,wCAAA,CACA,kCAAA,CACA,sBAAA,CAED,oBACC,UAAA,CACA,eAAA\",\"sourcesContent\":[\"\\n:deep(.modal-wrapper .modal-container) {\\n\\tdisplay: block;\\n\\toverflow: scroll;\\n\\ttransition: transform 300ms ease;\\n\\tborder-radius: var(--border-radius-large);\\n\\tbox-shadow: 0 0 40px rgba(0,0,0,0.2);\\n\\tpadding: 30px 40px 20px;\\n}\\ndt {\\n\\twidth: auto;\\n\\ttext-align: left;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\nh4[data-v-6ba01c25] {\\n\\ttext-align: left;\\n}\\n.flex-row[data-v-6ba01c25] {\\n\\tdisplay: flex;\\n}\\nlabel.button[data-v-6ba01c25] {\\n\\tdisplay: inline-block;\\n\\ttext-align: center;\\n\\tflex-grow: 1;\\n}\\nlabel.primary[data-v-6ba01c25] {\\n\\tcolor: var(--color-main-background);\\n}\\ninput.primary[data-v-6ba01c25] {\\n\\tcolor: var(--color-main-background);\\n}\\ninput[type='radio'][data-v-6ba01c25] {\\n\\tdisplay: none;\\n}\\ninput[type='radio'][disabled] + label[data-v-6ba01c25] {\\n\\tcursor: default;\\n\\topacity: 0.5;\\n}\\n.account-form__label--required[data-v-6ba01c25]:after {\\n\\tcontent:\\\" *\\\";\\n}\\n.account-form__heading--required[data-v-6ba01c25]:after {\\n\\tcontent:\\\" *\\\";\\n}\\n.account-form__submit-buttons[data-v-6ba01c25] {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\tmargin-top: 5px;\\n}\\n.account-form__submit-button[data-v-6ba01c25] {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n.account-form--feedback[data-v-6ba01c25] {\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tmargin-top: 5px;\\n\\ttext-align: center;\\n}\\n.account-form--error[data-v-6ba01c25] {\\n\\ttext-align: left;\\n\\tfont-size: 14px;\\n}\\n#account-form[data-v-6ba01c25] {\\n\\tz-index: 1001;\\n\\twidth: 250px;\\n\\ttop: 15%;\\n\\tpadding-bottom: 50px;\\n\\tmargin: 0 auto;\\n\\tpadding-top: 30px;\\n}\\n#account-form input[data-v-6ba01c25] {\\n\\twidth: 100%;\\n\\tbox-sizing: border-box;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AccountForm.vue\"],\"names\":[],\"mappings\":\";AAypBA;CACA,gBAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,qBAAA;CACA,kBAAA;CACA,YAAA;AACA;AACA;CACA,mCAAA;AACA;AACA;CACA,mCAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,eAAA;CACA,YAAA;AACA;AACA;CACA,YAAA;AACA;AACA;CACA,YAAA;AACA;AACA;CACA,aAAA;CACA,uBAAA;CACA,eAAA;AACA;AACA;CACA,aAAA;CACA,mBAAA;AACA;AACA;CACA,oCAAA;CACA,eAAA;CACA,kBAAA;AACA;AACA;CACA,gBAAA;CACA,eAAA;AACA;AACA;CACA,aAAA;CACA,YAAA;CACA,QAAA;CACA,oBAAA;CACA,cAAA;CACA,iBAAA;AACA;AACA;CACA,WAAA;CACA,sBAAA;AACA\",\"sourcesContent\":[\"<template>\\n\\t<form id=\\\"account-form\\\" @submit.prevent=\\\"onSubmit\\\">\\n\\t\\t<Tabs\\n\\t\\t\\t:options=\\\"{useUrlFragment: false, defaultTabHash: settingsPage ? 'manual' : 'auto'}\\\"\\n\\t\\t\\tcache-lifetime=\\\"0\\\"\\n\\t\\t\\t@changed=\\\"onModeChanged\\\">\\n\\t\\t\\t<Tab id=\\\"auto\\\" key=\\\"auto\\\" :name=\\\"t('mail', 'Auto')\\\">\\n\\t\\t\\t\\t<label for=\\\"auto-name\\\">{{ t('mail', 'Name') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"auto-name\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"accountName\\\"\\n\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'Name')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\tautofocus>\\n\\t\\t\\t\\t<label for=\\\"auto-address\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'Mail address') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"auto-address\\\"\\n\\t\\t\\t\\t\\tv-model.lazy=\\\"emailAddress\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'name@example.org')\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\ttype=\\\"email\\\"\\n\\t\\t\\t\\t\\t@blur=\\\"isValidEmail(emailAddress)\\\"\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<p v-if=\\\"!isValidEmail(emailAddress)\\\" class=\\\"account-form--error\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'Please enter an email of the format name@example.com') }}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<label v-if=\\\"!useGoogleSso\\\"\\n\\t\\t\\t\\t\\tfor=\\\"auto-password\\\"\\n\\t\\t\\t\\t\\tclass=\\\"account-form__label--required\\\">{{ t('mail', 'Password') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tv-if=\\\"!useGoogleSso\\\"\\n\\t\\t\\t\\t\\tid=\\\"auto-password\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"autoConfig.password\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'Password')\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\ttype=\\\"password\\\"\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t</Tab>\\n\\t\\t\\t<Tab id=\\\"manual\\\" key=\\\"manual\\\" :name=\\\"t('mail', 'Manual')\\\">\\n\\t\\t\\t\\t<label for=\\\"man-name\\\">{{ t('mail', 'Name') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-name\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"accountName\\\"\\n\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'Name')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\">\\n\\t\\t\\t\\t<label for=\\\"man-address\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'Mail address') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-address\\\"\\n\\t\\t\\t\\t\\tv-model.lazy=\\\"emailAddress\\\"\\n\\t\\t\\t\\t\\ttype=\\\"email\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'name@example.org')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@blur=\\\"isValidEmail(emailAddress)\\\"\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<p v-if=\\\"!isValidEmail(emailAddress)\\\" class=\\\"account-form--error\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'Please enter an email of the format name@example.com') }}\\n\\t\\t\\t\\t</p>\\n\\n\\t\\t\\t\\t<h3>{{ t('mail', 'IMAP Settings') }}</h3>\\n\\t\\t\\t\\t<label for=\\\"man-imap-host\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'IMAP Host') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-imap-host\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.imapHost\\\"\\n\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'IMAP Host')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<h4 class=\\\"account-form__heading--required\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'IMAP Security') }}\\n\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t<div class=\\\"flex-row\\\">\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tid=\\\"man-imap-sec-none\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"manualConfig.imapSslMode\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"man-imap-sec\\\"\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\tvalue=\\\"none\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"onImapSslModeChange\\\">\\n\\t\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\tfor=\\\"man-imap-sec-none\\\"\\n\\t\\t\\t\\t\\t\\t:class=\\\"{primary: manualConfig.imapSslMode === 'none'}\\\">{{ t('mail', 'None') }}</label>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tid=\\\"man-imap-sec-ssl\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"manualConfig.imapSslMode\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"man-imap-sec\\\"\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\tvalue=\\\"ssl\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"onImapSslModeChange\\\">\\n\\t\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\tfor=\\\"man-imap-sec-ssl\\\"\\n\\t\\t\\t\\t\\t\\t:class=\\\"{primary: manualConfig.imapSslMode === 'ssl'}\\\">{{ t('mail', 'SSL/TLS') }}</label>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tid=\\\"man-imap-sec-tls\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"manualConfig.imapSslMode\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"man-imap-sec\\\"\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\tvalue=\\\"tls\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"onImapSslModeChange\\\">\\n\\t\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\tfor=\\\"man-imap-sec-tls\\\"\\n\\t\\t\\t\\t\\t\\t:class=\\\"{primary: manualConfig.imapSslMode === 'tls'}\\\">{{ t('mail', 'STARTTLS') }}</label>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<label for=\\\"man-imap-port\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'IMAP Port') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-imap-port\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.imapPort\\\"\\n\\t\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'IMAP Port')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<label for=\\\"man-imap-user\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'IMAP User') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-imap-user\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.imapUser\\\"\\n\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'IMAP User')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<label v-if=\\\"!useGoogleSso\\\" for=\\\"man-imap-password\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'IMAP Password') }}</label>\\n\\t\\t\\t\\t<input v-if=\\\"!useGoogleSso\\\"\\n\\t\\t\\t\\t\\tid=\\\"man-imap-password\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.imapPassword\\\"\\n\\t\\t\\t\\t\\ttype=\\\"password\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'IMAP Password')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\n\\t\\t\\t\\t<h3>{{ t('mail', 'SMTP Settings') }}</h3>\\n\\t\\t\\t\\t<label for=\\\"man-smtp-host\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'SMTP Host') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-smtp-host\\\"\\n\\t\\t\\t\\t\\tref=\\\"smtpHost\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.smtpHost\\\"\\n\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\tname=\\\"smtp-host\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'SMTP Host')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<h4 class=\\\"account-form__heading--required\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'SMTP Security') }}\\n\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t<div class=\\\"flex-row\\\">\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tid=\\\"man-smtp-sec-none\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"manualConfig.smtpSslMode\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"man-smtp-sec\\\"\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\tvalue=\\\"none\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"onSmtpSslModeChange\\\">\\n\\t\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\tfor=\\\"man-smtp-sec-none\\\"\\n\\t\\t\\t\\t\\t\\t:class=\\\"{primary: manualConfig.smtpSslMode === 'none'}\\\">{{ t('mail', 'None') }}</label>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tid=\\\"man-smtp-sec-ssl\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"manualConfig.smtpSslMode\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"man-smtp-sec\\\"\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\tvalue=\\\"ssl\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"onSmtpSslModeChange\\\">\\n\\t\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\tfor=\\\"man-smtp-sec-ssl\\\"\\n\\t\\t\\t\\t\\t\\t:class=\\\"{primary: manualConfig.smtpSslMode === 'ssl'}\\\">{{ t('mail', 'SSL/TLS') }}</label>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tid=\\\"man-smtp-sec-tls\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"manualConfig.smtpSslMode\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"man-smtp-sec\\\"\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\tvalue=\\\"tls\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"onSmtpSslModeChange\\\">\\n\\t\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\tfor=\\\"man-smtp-sec-tls\\\"\\n\\t\\t\\t\\t\\t\\t:class=\\\"{primary: manualConfig.smtpSslMode === 'tls'}\\\">{{ t('mail', 'STARTTLS') }}</label>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<label for=\\\"man-smtp-port\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'SMTP Port') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-smtp-port\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.smtpPort\\\"\\n\\t\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'SMTP Port')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<label for=\\\"man-smtp-user\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'SMTP User') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"man-smtp-user\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.smtpUser\\\"\\n\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'SMTP User')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t\\t<label v-if=\\\"!useGoogleSso\\\" for=\\\"man-smtp-password\\\" class=\\\"account-form__label--required\\\">{{ t('mail', 'SMTP Password') }}</label>\\n\\t\\t\\t\\t<input v-if=\\\"!useGoogleSso\\\"\\n\\t\\t\\t\\t\\tid=\\\"man-smtp-password\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"manualConfig.smtpPassword\\\"\\n\\t\\t\\t\\t\\ttype=\\\"password\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"t('mail', 'SMTP Password')\\\"\\n\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t@change=\\\"clearFeedback\\\">\\n\\t\\t\\t</Tab>\\n\\t\\t</Tabs>\\n\\t\\t<div v-if=\\\"isGoogleAccount && !googleOauthUrl\\\" class=\\\"account-form__google-sso\\\">\\n\\t\\t\\t{{ t('mail', 'For the Google account to work with this app you need to enable two-factor authentication for Google and generate an app password.') }}\\n\\t\\t</div>\\n\\t\\t<div class=\\\"account-form__submit-buttons\\\">\\n\\t\\t\\t<ButtonVue v-if=\\\"mode === 'auto'\\\"\\n\\t\\t\\t\\tclass=\\\"account-form__submit-button\\\"\\n\\t\\t\\t\\ttype=\\\"primary\\\"\\n\\t\\t\\t\\tnative-type=\\\"submit\\\"\\n\\t\\t\\t\\t:disabled=\\\"isDisabledAuto || loading\\\"\\n\\t\\t\\t\\t@click.prevent=\\\"onSubmit\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<IconLoading v-if=\\\"loading\\\" :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t<IconCheck v-else :size=\\\"20\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t{{ submitButtonText }}\\n\\t\\t\\t</ButtonVue>\\n\\t\\t\\t<ButtonVue v-else-if=\\\"mode === 'manual'\\\"\\n\\t\\t\\t\\tclass=\\\"account-form__submit-button\\\"\\n\\t\\t\\t\\ttype=\\\"primary\\\"\\n\\t\\t\\t\\tnative-type=\\\"submit\\\"\\n\\t\\t\\t\\t:disabled=\\\"isDisabledManual || loading\\\"\\n\\t\\t\\t\\t@click.prevent=\\\"onSubmit\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<IconLoading v-if=\\\"loading\\\" :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t<IconCheck v-else :size=\\\"20\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t{{ submitButtonText }}\\n\\t\\t\\t</ButtonVue>\\n\\t\\t</div>\\n\\t\\t<div v-if=\\\"feedback\\\" class=\\\"account-form--feedback\\\">\\n\\t\\t\\t{{ feedback }}\\n\\t\\t</div>\\n\\t</form>\\n</template>\\n\\n<script>\\nimport { Tab, Tabs } from 'vue-tabs-component'\\nimport { mapGetters } from 'vuex'\\nimport { NcButton as ButtonVue, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\\nimport IconCheck from 'vue-material-design-icons/Check'\\nimport { translate as t } from '@nextcloud/l10n'\\n\\nimport logger from '../logger'\\nimport {\\n\\tqueryIspdb,\\n\\tqueryMx,\\n\\ttestConnectivity,\\n} from '../service/AutoConfigService'\\nimport { CONSENT_ABORTED, getUserConsent } from '../integration/google'\\n\\nexport default {\\n\\tname: 'AccountForm',\\n\\tcomponents: {\\n\\t\\tTab,\\n\\t\\tTabs,\\n\\t\\tButtonVue,\\n\\t\\tIconLoading,\\n\\t\\tIconCheck,\\n\\t},\\n\\tprops: {\\n\\t\\tdisplayName: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\temail: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\taccount: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: false,\\n\\t\\t\\tdefault: () => undefined,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\tconst fromAccountOr = (prop, def) => {\\n\\t\\t\\tif (this.account !== undefined) {\\n\\t\\t\\t\\treturn this.account[prop]\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn def\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tloading: false,\\n\\t\\t\\tloadingMessage: undefined,\\n\\t\\t\\tmode: 'auto',\\n\\t\\t\\taccountName: this.displayName,\\n\\t\\t\\temailAddress: this.email,\\n\\t\\t\\tautoConfig: {\\n\\t\\t\\t\\tpassword: '',\\n\\t\\t\\t},\\n\\t\\t\\tmanualConfig: {\\n\\t\\t\\t\\timapHost: fromAccountOr('imapHost', ''),\\n\\t\\t\\t\\timapPort: fromAccountOr('imapPort', 993),\\n\\t\\t\\t\\timapSslMode: fromAccountOr('imapSslMode', 'ssl'),\\n\\t\\t\\t\\timapUser: fromAccountOr('imapUser', ''),\\n\\t\\t\\t\\timapPassword: '',\\n\\t\\t\\t\\tsmtpHost: fromAccountOr('smtpHost', ''),\\n\\t\\t\\t\\tsmtpPort: fromAccountOr('smtpPort', 587),\\n\\t\\t\\t\\tsmtpSslMode: fromAccountOr('smtpSslMode', 'tls'),\\n\\t\\t\\t\\tsmtpUser: fromAccountOr('smtpUser', ''),\\n\\t\\t\\t\\tsmtpPassword: '',\\n\\t\\t\\t},\\n\\t\\t\\tfeedback: null,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'googleOauthUrl',\\n\\t\\t]),\\n\\n\\t\\tsettingsPage() {\\n\\t\\t\\treturn this.account !== undefined\\n\\t\\t},\\n\\n\\t\\tisDisabledAuto() {\\n\\t\\t\\tif (this.loading) {\\n\\t\\t\\t\\treturn true\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (this.mode !== 'auto') {\\n\\t\\t\\t\\treturn this.loading\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !this.emailAddress || !this.isValidEmail(this.emailAddress)\\n\\t\\t\\t\\t|| (!this.isGoogleAccount && !this.autoConfig.password)\\n\\t\\t},\\n\\n\\t\\tisDisabledManual() {\\n\\t\\t\\tif (this.loading) {\\n\\t\\t\\t\\treturn true\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (this.mode !== 'manual') {\\n\\t\\t\\t\\treturn this.loading\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn !this.emailAddress || !this.isValidEmail(this.emailAddress)\\n\\t\\t\\t\\t|| !this.manualConfig.imapHost || !this.manualConfig.imapPort\\n\\t\\t\\t\\t|| !this.manualConfig.imapUser || (!this.useGoogleSso && !this.manualConfig.imapPassword)\\n\\t\\t\\t\\t|| !this.manualConfig.smtpHost || !this.manualConfig.smtpPort\\n\\t\\t\\t\\t|| !this.manualConfig.smtpUser || (!this.useGoogleSso && !this.manualConfig.smtpPassword)\\n\\t\\t},\\n\\n\\t\\tisGoogleAccount() {\\n\\t\\t\\tif (this.mode === 'auto') {\\n\\t\\t\\t\\treturn this.emailAddress.endsWith('@gmail.com')\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn this.manualConfig.imapHost === 'imap.gmail.com'\\n\\t\\t\\t\\t\\t|| this.manualConfig.smtpHost === 'smtp.gmail.com'\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tuseGoogleSso() {\\n\\t\\t\\treturn this.isGoogleAccount && this.googleOauthUrl\\n\\t\\t},\\n\\n\\t\\tsubmitButtonText() {\\n\\t\\t\\tif (this.loading) {\\n\\t\\t\\t\\treturn this.loadingMessage ?? t('mail', 'Connecting')\\n\\t\\t\\t}\\n\\t\\t\\tif (this.useGoogleSso) {\\n\\t\\t\\t\\treturn this.account ? t('mail', 'Reconnect Google account') : t('mail', 'Sign in with Google')\\n\\t\\t\\t}\\n\\t\\t\\treturn this.account ? t('mail', 'Save') : t('mail', 'Connect')\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tonModeChanged(e) {\\n\\t\\t\\tthis.mode = e.tab.id\\n\\n\\t\\t\\tif (this.mode === 'manual') {\\n\\t\\t\\t\\t// IMAP\\n\\t\\t\\t\\tif (this.manualConfig.imapUser === '') {\\n\\t\\t\\t\\t\\tthis.manualConfig.imapUser = this.emailAddress\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (this.manualConfig.imapPassword === '') {\\n\\t\\t\\t\\t\\tthis.manualConfig.imapPassword = this.autoConfig.password\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// SMTP\\n\\t\\t\\t\\tif (this.manualConfig.smtpUser === '') {\\n\\t\\t\\t\\t\\tthis.manualConfig.smtpUser = this.emailAddress\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (this.manualConfig.smtpPassword === '') {\\n\\t\\t\\t\\t\\tthis.manualConfig.smtpPassword = this.autoConfig.password\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tonImapSslModeChange() {\\n\\t\\t\\tthis.clearFeedback()\\n\\n\\t\\t\\tswitch (this.manualConfig.imapSslMode) {\\n\\t\\t\\tcase 'none':\\n\\t\\t\\tcase 'tls':\\n\\t\\t\\t\\tthis.manualConfig.imapPort = 143\\n\\t\\t\\t\\tbreak\\n\\t\\t\\tcase 'ssl':\\n\\t\\t\\t\\tthis.manualConfig.imapPort = 993\\n\\t\\t\\t\\tbreak\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tonSmtpSslModeChange() {\\n\\t\\t\\tthis.clearFeedback()\\n\\n\\t\\t\\tswitch (this.manualConfig.smtpSslMode) {\\n\\t\\t\\tcase 'none':\\n\\t\\t\\tcase 'tls':\\n\\t\\t\\t\\tthis.manualConfig.smtpPort = 587\\n\\t\\t\\t\\tbreak\\n\\t\\t\\tcase 'ssl':\\n\\t\\t\\t\\tthis.manualConfig.smtpPort = 465\\n\\t\\t\\t\\tbreak\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tclearFeedback() {\\n\\t\\t\\tthis.feedback = null\\n\\t\\t},\\n\\t\\tapplyAutoConfig(config) {\\n\\t\\t\\tif (!config) {\\n\\t\\t\\t\\treturn false\\n\\t\\t\\t}\\n\\t\\t\\tif (config?.imapConfig) {\\n\\t\\t\\t\\tthis.manualConfig.imapUser = config.imapConfig.username\\n\\t\\t\\t\\tthis.manualConfig.imapHost = config.imapConfig.host\\n\\t\\t\\t\\tthis.manualConfig.imapPort = config.imapConfig.port\\n\\t\\t\\t\\tthis.manualConfig.imapSslMode = config.imapConfig.security\\n\\t\\t\\t\\tthis.manualConfig.imapPassword = this.autoConfig.password\\n\\t\\t\\t}\\n\\t\\t\\tif (config?.smtpConfig) {\\n\\t\\t\\t\\tthis.manualConfig.smtpUser = config.smtpConfig.username\\n\\t\\t\\t\\tthis.manualConfig.smtpHost = config.smtpConfig.host\\n\\t\\t\\t\\tthis.manualConfig.smtpPort = config.smtpConfig.port\\n\\t\\t\\t\\tthis.manualConfig.smtpSslMode = config.smtpConfig.security\\n\\t\\t\\t\\tthis.manualConfig.smtpPassword = this.autoConfig.password\\n\\t\\t\\t}\\n\\t\\t\\treturn true\\n\\t\\t},\\n\\t\\tasync detectConfig() {\\n\\t\\t\\tthis.loadingMessage = t('mail', 'Looking up configuration')\\n\\t\\t\\tconst config = await queryIspdb(this.emailAddress)\\n\\t\\t\\tlogger.debug('fetched auto config', { config })\\n\\t\\t\\t// Apply settings to manual mode before submitting so the user\\n\\t\\t\\t// can make modifications if the config fails\\n\\t\\t\\tif (this.applyAutoConfig(config)) {\\n\\t\\t\\t\\tlogger.debug('ISP DB config applied')\\n\\t\\t\\t\\treturn true\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis.loadingMessage = t('mail', 'Checking mail host connectivity')\\n\\t\\t\\t\\tconst mxHosts = await queryMx(this.emailAddress)\\n\\t\\t\\t\\tlogger.debug('MX hosts fetched', { mxHosts })\\n\\t\\t\\t\\tconst imapAndSmtpHosts = mxHosts.flatMap(host => {\\n\\t\\t\\t\\t\\treturn [993, 143, 465, 587].map(port => ({\\n\\t\\t\\t\\t\\t\\thost,\\n\\t\\t\\t\\t\\t\\tport,\\n\\t\\t\\t\\t\\t}))\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tconst results = await Promise.all(imapAndSmtpHosts.map(async ({ host, port }) => {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\thost,\\n\\t\\t\\t\\t\\t\\tport,\\n\\t\\t\\t\\t\\t\\tcanConnect: await testConnectivity(host, port),\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}))\\n\\t\\t\\t\\tconst firstImapHost = results.filter(({ canConnect, port }) => canConnect && port === 993)[0]\\n\\t\\t\\t\\tconst firstSmtpHost = results.filter(({ canConnect, port }) => canConnect && [465, 587].includes(port))[0]\\n\\t\\t\\t\\tlogger.debug('MX connectivity tested', { firstImapHost, firstSmtpHost })\\n\\t\\t\\t\\tif (firstImapHost && firstSmtpHost) {\\n\\t\\t\\t\\t\\tthis.applyAutoConfig({\\n\\t\\t\\t\\t\\t\\timapConfig: {\\n\\t\\t\\t\\t\\t\\t\\tusername: this.emailAddress, // Assumption\\n\\t\\t\\t\\t\\t\\t\\thost: firstImapHost.host,\\n\\t\\t\\t\\t\\t\\t\\tport: firstImapHost.port,\\n\\t\\t\\t\\t\\t\\t\\tsecurity: firstImapHost.port === 993 ? 'ssl' : 'tls',\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tsmtpConfig: {\\n\\t\\t\\t\\t\\t\\t\\tusername: this.emailAddress, // Assumption\\n\\t\\t\\t\\t\\t\\t\\thost: firstSmtpHost.host,\\n\\t\\t\\t\\t\\t\\t\\tport: firstSmtpHost.port,\\n\\t\\t\\t\\t\\t\\t\\tsecurity: firstSmtpHost.port === 465 ? 'ssl' : 'tls',\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\treturn true\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tthis.feedback = t('mail', 'Configuration discovery failed. Please use the manual settings')\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync onSubmit(event) {\\n\\t\\t\\tlogger.debug('account form submitted', { event })\\n\\t\\t\\tif (this.isDisabledManual || this.isDisabledAuto) {\\n\\t\\t\\t\\tlogger.warn('submit is disabled')\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\tthis.clearFeedback()\\n\\t\\t\\tthis.loading = true\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tif (this.mode === 'auto') {\\n\\t\\t\\t\\t\\tif (!await this.detectConfig()) {\\n\\t\\t\\t\\t\\t\\tlogger.warn('Auto mode failed')\\n\\t\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.loadingMessage = t('mail', 'Testing authentication')\\n\\t\\t\\t\\tconst data = {\\n\\t\\t\\t\\t\\t...this.manualConfig,\\n\\t\\t\\t\\t\\taccountName: this.accountName,\\n\\t\\t\\t\\t\\temailAddress: this.emailAddress,\\n\\t\\t\\t\\t\\timapHost: this.manualConfig.imapHost.trim(),\\n\\t\\t\\t\\t\\tsmtpHost: this.manualConfig.smtpHost.trim(),\\n\\t\\t\\t\\t\\tauthMethod: this.useGoogleSso ? 'xoauth2' : 'password',\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (this.useGoogleSso) {\\n\\t\\t\\t\\t\\tdelete data.imapPassword\\n\\t\\t\\t\\t\\tdelete data.smtpPassword\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (!this.account) {\\n\\t\\t\\t\\t\\tconst account = await this.$store.dispatch('startAccountSetup', data)\\n\\t\\t\\t\\t\\tif (this.useGoogleSso) {\\n\\t\\t\\t\\t\\t\\tthis.loadingMessage = t('mail', 'Awaiting user consent')\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'Account created. Please follow the popup instructions to link your Google account')\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\tawait getUserConsent(\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.googleOauthUrl\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t.replace('_accountId_', account.id)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t.replace('_email_', encodeURIComponent(account.emailAddress))\\n\\t\\t\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\t\\t\\t\\t// Clean up the temporary account before we continue\\n\\t\\t\\t\\t\\t\\t\\tthis.$store.dispatch('deleteAccount', account)\\n\\t\\t\\t\\t\\t\\t\\tlogger.info(`Temporary account ${account.id} deleted`)\\n\\t\\t\\t\\t\\t\\t\\tthrow e\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tthis.clearFeedback()\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.loadingMessage = t('mail', 'Loading account')\\n\\t\\t\\t\\t\\tawait this.$store.dispatch('finishAccountSetup', { account })\\n\\t\\t\\t\\t\\tthis.$emit('account-created', account)\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tconst oldAccountData = this.account\\n\\t\\t\\t\\t\\tconst account = await this.$store.dispatch('updateAccount', {\\n\\t\\t\\t\\t\\t\\t...data,\\n\\t\\t\\t\\t\\t\\taccountId: this.account.id,\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\tif (this.useGoogleSso) {\\n\\t\\t\\t\\t\\t\\tthis.loadingMessage = t('mail', 'Awaiting user consent')\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'Account updated. Please follow the popup instructions to reconnect your Google account')\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\tawait getUserConsent(\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.googleOauthUrl\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t.replace('_accountId_', account.id)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t.replace('_email_', encodeURIComponent(account.emailAddress))\\n\\t\\t\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\t\\t\\t\\t// Undo changes\\n\\t\\t\\t\\t\\t\\t\\tawait this.$store.dispatch('updateAccount', {\\n\\t\\t\\t\\t\\t\\t\\t\\t...oldAccountData,\\n\\t\\t\\t\\t\\t\\t\\t\\taccountId: oldAccountData.id,\\n\\t\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t\\tlogger.info(`Account ${account.id} update undone`)\\n\\t\\t\\t\\t\\t\\t\\tthrow e\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tthis.clearFeedback()\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.feedback = t('mail', 'Account updated')\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tlogger.error('could not save account details', { error })\\n\\n\\t\\t\\t\\tif (error.data?.error === 'CONNECTION_ERROR') {\\n\\t\\t\\t\\t\\tif (error.data.service === 'IMAP') {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'IMAP server is not reachable')\\n\\t\\t\\t\\t\\t} else if (error.data.service === 'SMTP') {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'SMTP server is not reachable')\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else if (error.data?.error === 'AUTHENTICATION') {\\n\\t\\t\\t\\t\\tif (error.data.service === 'IMAP') {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'IMAP username or password is wrong')\\n\\t\\t\\t\\t\\t} else if (error.data.service === 'SMTP') {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'SMTP username or password is wrong')\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (error.data?.service === 'IMAP') {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'IMAP connection failed')\\n\\t\\t\\t\\t\\t} else if (error.data?.service === 'SMTP') {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'SMTP connection failed')\\n\\t\\t\\t\\t\\t} else if (error.message === CONSENT_ABORTED) {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'Google authorization popup closed')\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tthis.feedback = t('mail', 'There was an error while setting up your account')\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} finally {\\n\\t\\t\\t\\tthis.loading = false\\n\\t\\t\\t\\tthis.loadingMessage = undefined\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tisValidEmail(email) {\\n\\t\\t\\tconst regExpEmail = /^(([^<>()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+(\\\\.[^<>()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+)*)|(\\\".+\\\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$/\\n\\t\\t\\treturn regExpEmail.test(email)\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style lang=\\\"scss\\\" scoped>\\n:deep(.tabs-component-tabs) {\\n\\tdisplay: flex;\\n}\\n\\n:deep(.tabs-component-tab) {\\n\\tflex-grow: 1;\\n\\ttext-align: center;\\n\\tcolor: var(--color-text-lighter);\\n\\tmargin-bottom: 10px;\\n}\\n\\n:deep(.tabs-component-tab.is-active) {\\n\\tborder-bottom: 1px solid black;\\n\\tfont-weight: bold;\\n}\\n\\n.tabs-component-panels {\\n\\tpadding-top: 20px;\\n}\\n\\n.tabs-component-panels label {\\n\\ttext-align: left;\\n\\twidth: 100%;\\n\\tdisplay: inline-block;\\n}\\n\\n.tabs-component-panels input,\\n.tabs-component-panels select {\\n\\tmargin-bottom: 10px;\\n}\\n</style>\\n\\n<style scoped>\\nh4 {\\n\\ttext-align: left;\\n}\\n\\n.flex-row {\\n\\tdisplay: flex;\\n}\\n\\nlabel.button {\\n\\tdisplay: inline-block;\\n\\ttext-align: center;\\n\\tflex-grow: 1;\\n}\\nlabel.primary {\\n\\tcolor: var(--color-main-background);\\n}\\ninput.primary {\\n\\tcolor: var(--color-main-background);\\n}\\n\\ninput[type='radio'] {\\n\\tdisplay: none;\\n}\\n\\ninput[type='radio'][disabled] + label {\\n\\tcursor: default;\\n\\topacity: 0.5;\\n}\\n.account-form__label--required:after {\\n\\tcontent:\\\" *\\\";\\n}\\n.account-form__heading--required:after {\\n\\tcontent:\\\" *\\\";\\n}\\n.account-form__submit-buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\tmargin-top: 5px;\\n}\\n.account-form__submit-button {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n.account-form--feedback {\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tmargin-top: 5px;\\n\\ttext-align: center;\\n}\\n.account-form--error {\\n\\ttext-align: left;\\n\\tfont-size: 14px;\\n}\\n#account-form {\\n\\tz-index: 1001;\\n\\twidth: 250px;\\n\\ttop: 15%;\\n\\tpadding-bottom: 50px;\\n\\tmargin: 0 auto;\\n\\tpadding-top: 30px;\\n}\\n#account-form input {\\n\\twidth: 100%;\\n\\tbox-sizing: border-box;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.vue-treeselect__control {\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\twidth: 250px;\\n}\\n.vue-treeselect__control-arrow-container {\\n\\tdisplay: none;\\n}\\n.vue-treeselect--searchable .vue-treeselect__input-container {\\n\\tpadding-left: 0;\\n\\tbackground-color: var(--color-main-background)\\n}\\ninput.vue-treeselect__input {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n.vue-treeselect__menu {\\n\\tbackground: var(--color-main-background);\\n}\\n.vue-treeselect--single .vue-treeselect__option--selected {\\n\\tbackground: var(--color-primary-light);\\n\\tborder-radius: var(--border-radius-large);\\n}\\n.vue-treeselect__option.vue-treeselect__option--highlight,\\n.vue-treeselect__option:hover,\\n.vue-treeselect__option:focus {\\n\\tborder-radius: var(--border-radius-large);\\n}\\n.vue-treeselect__placeholder, .vue-treeselect__single-value {\\n\\tline-height: 44px;\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MailboxInlinePicker.vue\"],\"names\":[],\"mappings\":\";AAsEA;CACA,UAAA;CACA,SAAA;CACA,YAAA;AACA;AACA;CACA,aAAA;AACA;AACA;CACA,eAAA;CACA;AACA;AACA;CACA,SAAA;CACA,UAAA;AACA;AACA;CACA,wCAAA;AACA;AACA;CACA,sCAAA;CACA,yCAAA;AACA;AACA;;;CAGA,yCAAA;AACA;AACA;CACA,iBAAA;AACA\",\"sourcesContent\":[\"<template>\\n\\t<Treeselect\\n\\t\\tref=\\\"Treeselect\\\"\\n\\t\\tv-model=\\\"selected\\\"\\n\\t\\t:options=\\\"mailboxes\\\"\\n\\t\\t:multiple=\\\"false\\\"\\n\\t\\t:clearable=\\\"false\\\"\\n\\t\\t:disabled=\\\"disabled\\\" />\\n</template>\\n<script>\\nimport Treeselect from '@riophae/vue-treeselect'\\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\\n\\nexport default {\\n\\tname: 'MailboxInlinePicker',\\n\\tcomponents: {\\n\\t\\tTreeselect,\\n\\t},\\n\\tprops: {\\n\\t\\taccount: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tdisabled: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tvalue: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\tdefault: undefined,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tselected: this.value,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tmailboxes() {\\n\\t\\t\\treturn this.getMailboxes()\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tselected(val) {\\n\\t\\t\\tif (val !== this.value) {\\n\\t\\t\\t\\tthis.$emit('input', val)\\n\\t\\t\\t\\tthis.selected = val\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tgetMailboxes(mailboxId) {\\n\\t\\t\\tlet mailboxes = []\\n\\t\\t\\tif (!mailboxId) {\\n\\t\\t\\t\\tmailboxes = this.$store.getters.getMailboxes(this.account.accountId)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tmailboxes = this.$store.getters.getSubMailboxes(mailboxId)\\n\\t\\t\\t}\\n\\t\\t\\treturn mailboxes.map((mailbox) => {\\n\\t\\t\\t\\t return {\\n\\t\\t\\t\\t\\tid: mailbox.databaseId,\\n\\t\\t\\t\\t\\tlabel: mailbox.displayName,\\n\\t\\t\\t\\t\\tchildren: mailbox.mailboxes.length > 0 ? this.getMailboxes(mailbox.databaseId) : '',\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n<style>\\n.vue-treeselect__control {\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\twidth: 250px;\\n}\\n.vue-treeselect__control-arrow-container {\\n\\tdisplay: none;\\n}\\n.vue-treeselect--searchable .vue-treeselect__input-container {\\n\\tpadding-left: 0;\\n\\tbackground-color: var(--color-main-background)\\n}\\ninput.vue-treeselect__input {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n.vue-treeselect__menu {\\n\\tbackground: var(--color-main-background);\\n}\\n.vue-treeselect--single .vue-treeselect__option--selected {\\n\\tbackground: var(--color-primary-light);\\n\\tborder-radius: var(--border-radius-large);\\n}\\n.vue-treeselect__option.vue-treeselect__option--highlight,\\n.vue-treeselect__option:hover,\\n.vue-treeselect__option:focus {\\n\\tborder-radius: var(--border-radius-large);\\n\\t}\\n.vue-treeselect__placeholder, .vue-treeselect__single-value {\\n\\tline-height: 44px;\\n}\\n\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\nform[data-v-14f1278f] {\\n\\twidth: 250px\\n}\\nlabel[data-v-14f1278f] {\\n\\tdisplay: inline-block;\\n}\\ninput[data-v-14f1278f] {\\n\\twidth: 100%;\\n}\\n.flex-row[data-v-14f1278f] {\\n\\tdisplay: flex;\\n}\\nlabel.button[data-v-14f1278f] {\\n\\ttext-align: center;\\n\\tflex-grow: 1;\\n}\\nlabel.error[data-v-14f1278f] {\\n\\tcolor: red;\\n}\\ninput[type='radio'][data-v-14f1278f] {\\n\\tdisplay: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SieveAccountForm.vue\"],\"names\":[],\"mappings\":\";AAwMA;CACA;AACA;AAEA;CACA,qBAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,kBAAA;CACA,YAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,aAAA;AACA\",\"sourcesContent\":[\"<template>\\n\\t<form id=\\\"sieve-form\\\">\\n\\t\\t<p>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tid=\\\"sieve-disabled\\\"\\n\\t\\t\\t\\tv-model=\\\"sieveConfig.sieveEnabled\\\"\\n\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\tclass=\\\"radio\\\"\\n\\t\\t\\t\\tname=\\\"sieve-active\\\"\\n\\t\\t\\t\\t:value=\\\"false\\\">\\n\\t\\t\\t<label\\n\\t\\t\\t\\t:class=\\\"{primary: !sieveConfig.sieveEnabled}\\\"\\n\\t\\t\\t\\tfor=\\\"sieve-disabled\\\">\\n\\t\\t\\t\\t{{ t('mail', 'Disabled') }}\\n\\t\\t\\t</label>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tid=\\\"sieve-enabled\\\"\\n\\t\\t\\t\\tv-model=\\\"sieveConfig.sieveEnabled\\\"\\n\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\tclass=\\\"radio\\\"\\n\\t\\t\\t\\tname=\\\"sieve-active\\\"\\n\\t\\t\\t\\t:value=\\\"true\\\">\\n\\t\\t\\t<label\\n\\t\\t\\t\\t:class=\\\"{primary: sieveConfig.sieveEnabled}\\\"\\n\\t\\t\\t\\tfor=\\\"sieve-enabled\\\">\\n\\t\\t\\t\\t{{ t('mail', 'Enabled') }}\\n\\t\\t\\t</label>\\n\\t\\t</p>\\n\\t\\t<template v-if=\\\"sieveConfig.sieveEnabled\\\">\\n\\t\\t\\t<label for=\\\"sieve-host\\\">{{ t('mail', 'Sieve Host') }}</label>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tid=\\\"sieve-host\\\"\\n\\t\\t\\t\\tv-model=\\\"sieveConfig.sieveHost\\\"\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\trequired>\\n\\t\\t\\t<h4>{{ t('mail', 'Sieve Security') }}</h4>\\n\\t\\t\\t<div class=\\\"flex-row\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"sieve-sec-none\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"sieveConfig.sieveSslMode\\\"\\n\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\tname=\\\"sieve-sec\\\"\\n\\t\\t\\t\\t\\tvalue=\\\"none\\\">\\n\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\tfor=\\\"sieve-sec-none\\\"\\n\\t\\t\\t\\t\\t:class=\\\"{primary: sieveConfig.sieveSslMode === 'none'}\\\">{{\\n\\t\\t\\t\\t\\t\\tt('mail', 'None')\\n\\t\\t\\t\\t\\t}}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"sieve-sec-ssl\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"sieveConfig.sieveSslMode\\\"\\n\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\tname=\\\"sieve-sec\\\"\\n\\t\\t\\t\\t\\tvalue=\\\"ssl\\\">\\n\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\tfor=\\\"sieve-sec-ssl\\\"\\n\\t\\t\\t\\t\\t:class=\\\"{primary: sieveConfig.sieveSslMode === 'ssl'}\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'SSL/TLS') }}\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"sieve-sec-tls\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"sieveConfig.sieveSslMode\\\"\\n\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\tname=\\\"sieve-sec\\\"\\n\\t\\t\\t\\t\\tvalue=\\\"tls\\\">\\n\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\tfor=\\\"sieve-sec-tls\\\"\\n\\t\\t\\t\\t\\t:class=\\\"{primary: sieveConfig.sieveSslMode === 'tls'}\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'STARTTLS') }}\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<label for=\\\"sieve-port\\\">{{ t('mail', 'Sieve Port') }}</label>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tid=\\\"sieve-port\\\"\\n\\t\\t\\t\\tv-model=\\\"sieveConfig.sievePort\\\"\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\trequired>\\n\\t\\t\\t<h4>{{ t('mail', 'Sieve Credentials') }}</h4>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"sieve-credentials-imap\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"useImapCredentials\\\"\\n\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\tclass=\\\"radio\\\"\\n\\t\\t\\t\\t\\t:value=\\\"true\\\">\\n\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t:class=\\\"{primary: useImapCredentials}\\\"\\n\\t\\t\\t\\t\\tfor=\\\"sieve-credentials-imap\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'IMAP Credentials') }}\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"sieve-credentials-custom\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"useImapCredentials\\\"\\n\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\tclass=\\\"radio\\\"\\n\\t\\t\\t\\t\\t:value=\\\"false\\\">\\n\\t\\t\\t\\t<label\\n\\t\\t\\t\\t\\t:class=\\\"{primary: !useImapCredentials}\\\"\\n\\t\\t\\t\\t\\tfor=\\\"sieve-credentials-custom\\\">\\n\\t\\t\\t\\t\\t{{ t('mail', 'Custom') }}\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</p>\\n\\t\\t\\t<template v-if=\\\"!useImapCredentials\\\">\\n\\t\\t\\t\\t<label for=\\\"sieve-user\\\">{{ t('mail', 'Sieve User') }}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"sieve-user\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"sieveConfig.sieveUser\\\"\\n\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\trequired>\\n\\t\\t\\t\\t<label for=\\\"sieve-password\\\">{{\\n\\t\\t\\t\\t\\tt('mail', 'Sieve Password')\\n\\t\\t\\t\\t}}</label>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tid=\\\"sieve-password\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"sieveConfig.sievePassword\\\"\\n\\t\\t\\t\\t\\ttype=\\\"password\\\"\\n\\t\\t\\t\\t\\trequired>\\n\\t\\t\\t</template>\\n\\t\\t</template>\\n\\t\\t<slot name=\\\"feedback\\\" />\\n\\t\\t<p v-if=\\\"errorMessage\\\">\\n\\t\\t\\t{{ t('mail', 'Oh Snap!') }}\\n\\t\\t\\t{{ errorMessage }}\\n\\t\\t</p>\\n\\t\\t<ButtonVue type=\\\"primary\\\"\\n\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t@click.prevent=\\\"onSubmit\\\">\\n\\t\\t\\t{{ t('mail', 'Save sieve settings') }}\\n\\t\\t</ButtonVue>\\n\\t</form>\\n</template>\\n\\n<script>\\nimport { NcButton as ButtonVue } from '@nextcloud/vue'\\nexport default {\\n\\tname: 'SieveAccountForm',\\n\\tcomponents: {\\n\\t\\tButtonVue,\\n\\t},\\n\\tprops: {\\n\\t\\taccount: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsieveConfig: {\\n\\t\\t\\t\\tsieveEnabled: this.account.sieveEnabled,\\n\\t\\t\\t\\tsieveHost: this.account.sieveHost || this.account.imapHost,\\n\\t\\t\\t\\tsievePort: this.account.sievePort || 4190,\\n\\t\\t\\t\\tsieveUser: this.account.sieveUser || '',\\n\\t\\t\\t\\tsievePassword: '',\\n\\t\\t\\t\\tsieveSslMode: this.account.sieveSslMode || 'tls',\\n\\t\\t\\t},\\n\\t\\t\\tloading: false,\\n\\t\\t\\tuseImapCredentials: !this.account.sieveUser,\\n\\t\\t\\terrorMessage: '',\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tasync onSubmit() {\\n\\t\\t\\tthis.loading = true\\n\\t\\t\\tthis.errorMessage = ''\\n\\n\\t\\t\\t// empty user and password => use imap credentials\\n\\t\\t\\tif (this.sieveConfig.sieveUser === '' && this.sieveConfig.sievePassword === '') {\\n\\t\\t\\t\\tthis.useImapCredentials = true\\n\\t\\t\\t}\\n\\n\\t\\t\\t// clear user and password if imap credentials are used\\n\\t\\t\\tif (this.useImapCredentials) {\\n\\t\\t\\t\\tthis.sieveConfig.sieveUser = ''\\n\\t\\t\\t\\tthis.sieveConfig.sievePassword = ''\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tawait this.$store.dispatch('updateSieveAccount', {\\n\\t\\t\\t\\t\\taccount: this.account,\\n\\t\\t\\t\\t\\tdata: this.sieveConfig,\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tif (this.sieveConfig.sieveEnabled) {\\n\\t\\t\\t\\t\\tawait this.$store.dispatch('fetchActiveSieveScript', {\\n\\t\\t\\t\\t\\t\\taccountId: this.account.id,\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tthis.errorMessage = error.message\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.loading = false\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\nform {\\n\\twidth: 250px\\n}\\n\\nlabel {\\n\\tdisplay: inline-block;\\n}\\n\\ninput {\\n\\twidth: 100%;\\n}\\n\\n.flex-row {\\n\\tdisplay: flex;\\n}\\n\\nlabel.button {\\n\\ttext-align: center;\\n\\tflex-grow: 1;\\n}\\n\\nlabel.error {\\n\\tcolor: red;\\n}\\n\\ninput[type='radio'] {\\n\\tdisplay: none;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n/*\\nOverwrite the default z-index for CKEditor\\nhttps://github.com/ckeditor/ckeditor5/issues/1142\\n */\\n:root {\\n\\t--ck-z-default: 10000;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\";AA+NA;;;EAGA;AACA;CACA,qBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  -\\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\\n  -\\n  - @license AGPL-3.0-or-later\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n\\t<ckeditor\\n\\t\\tv-if=\\\"ready\\\"\\n\\t\\t:value=\\\"value\\\"\\n\\t\\t:config=\\\"config\\\"\\n\\t\\t:editor=\\\"editor\\\"\\n\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t@input=\\\"onEditorInput\\\"\\n\\t\\t@ready=\\\"onEditorReady\\\" />\\n</template>\\n\\n<script>\\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment'\\nimport Editor from '@ckeditor/ckeditor5-editor-balloon/src/ballooneditor'\\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials'\\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote'\\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold'\\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font'\\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph'\\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading'\\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic'\\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link'\\nimport ListStyle from '@ckeditor/ckeditor5-list/src/liststyle'\\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin'\\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough'\\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin'\\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter'\\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image'\\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize'\\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload'\\nimport MailPlugin from '../ckeditor/mail/MailPlugin'\\n\\nimport { getLanguage } from '@nextcloud/l10n'\\n\\nimport logger from '../logger'\\n\\nexport default {\\n\\tname: 'TextEditor',\\n\\tcomponents: {\\n\\t\\tckeditor: CKEditor.component,\\n\\t},\\n\\tprops: {\\n\\t\\tvalue: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\thtml: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tplaceholder: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\tfocus: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tbus: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tdisabled: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\tconst plugins = [EssentialsPlugin, ParagraphPlugin, SignaturePlugin, QuotePlugin]\\n\\t\\tconst toolbar = ['undo', 'redo']\\n\\n\\t\\tif (this.html) {\\n\\t\\t\\tplugins.push(...[\\n\\t\\t\\t\\tHeadingPlugin,\\n\\t\\t\\t\\tAlignmentPlugin,\\n\\t\\t\\t\\tBoldPlugin,\\n\\t\\t\\t\\tItalicPlugin,\\n\\t\\t\\t\\tBlockQuotePlugin,\\n\\t\\t\\t\\tLinkPlugin,\\n\\t\\t\\t\\tListStyle,\\n\\t\\t\\t\\tFontPlugin,\\n\\t\\t\\t\\tRemoveFormat,\\n\\t\\t\\t\\tStrikethroughPlugin,\\n\\t\\t\\t\\tImagePlugin,\\n\\t\\t\\t\\tImageUploadPlugin,\\n\\t\\t\\t\\tBase64UploadAdapter,\\n\\t\\t\\t\\tImageResizePlugin,\\n\\t\\t\\t\\tMailPlugin,\\n\\t\\t\\t])\\n\\t\\t\\ttoolbar.unshift(...[\\n\\t\\t\\t\\t'heading',\\n\\t\\t\\t\\t'fontFamily',\\n\\t\\t\\t\\t'fontSize',\\n\\t\\t\\t\\t'bold',\\n\\t\\t\\t\\t'italic',\\n\\t\\t\\t\\t'fontColor',\\n\\t\\t\\t\\t'imageUpload',\\n\\t\\t\\t\\t'alignment',\\n\\t\\t\\t\\t'bulletedList',\\n\\t\\t\\t\\t'numberedList',\\n\\t\\t\\t\\t'blockquote',\\n\\t\\t\\t\\t'fontBackgroundColor',\\n\\t\\t\\t\\t'strikethrough',\\n\\t\\t\\t\\t'link',\\n\\t\\t\\t\\t'removeFormat',\\n\\t\\t\\t])\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tready: false,\\n\\t\\t\\teditor: Editor,\\n\\t\\t\\tconfig: {\\n\\t\\t\\t\\tplaceholder: this.placeholder,\\n\\t\\t\\t\\tplugins,\\n\\t\\t\\t\\ttoolbar: {\\n\\t\\t\\t\\t\\titems: toolbar,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tlanguage: 'en',\\n\\t\\t\\t},\\n\\t\\t}\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tthis.loadEditorTranslations(getLanguage())\\n\\t},\\n\\tmethods: {\\n\\t\\tasync loadEditorTranslations(language) {\\n\\t\\t\\tif (language === 'en') {\\n\\t\\t\\t\\t// The default, nothing to fetch\\n\\t\\t\\t\\treturn this.showEditor('en')\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tlogger.debug(`loading ${language} translations for CKEditor`)\\n\\t\\t\\t\\tawait import(\\n\\t\\t\\t\\t\\t/* webpackMode: \\\"lazy-once\\\" */\\n\\t\\t\\t\\t\\t/* webpackPrefetch: true */\\n\\t\\t\\t\\t\\t/* webpackPreload: true */\\n\\t\\t\\t\\t\\t`@ckeditor/ckeditor5-build-balloon/build/translations/${language}`\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\tthis.showEditor(language)\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tlogger.error(`could not find CKEditor translations for \\\"${language}\\\"`, { error })\\n\\t\\t\\t\\tthis.showEditor('en')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tshowEditor(language) {\\n\\t\\t\\tlogger.debug(`using \\\"${language}\\\" as CKEditor language`)\\n\\t\\t\\tthis.config.language = language\\n\\n\\t\\t\\tthis.ready = true\\n\\t\\t},\\n\\t\\t/**\\n\\t\\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\\n\\t\\t */\\n\\t\\tonEditorReady(editor) {\\n\\t\\t\\tlogger.debug('TextEditor is ready', { editor })\\n\\t\\t\\tthis.editorInstance = editor\\n\\n\\t\\t\\tif (this.focus) {\\n\\t\\t\\t\\tlogger.debug('focusing TextEditor')\\n\\t\\t\\t\\teditor.editing.view.focus()\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.bus.$on('append-to-body-at-cursor', this.appendToBodyAtCursor)\\n\\t\\t\\tthis.$emit('ready', editor)\\n\\t\\t},\\n\\t\\tonEditorInput(text) {\\n\\t\\t\\tlogger.debug(`TextEditor input changed to <${text}>`)\\n\\t\\t\\tthis.$emit('input', text)\\n\\t\\t},\\n\\t\\tappendToBodyAtCursor(toAppend) {\\n\\t\\t\\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\\n\\t\\t\\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\\n\\t\\t\\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\\n\\t\\t\\tthis.editorInstance.model.insertContent(modelFragment)\\n\\t\\t},\\n\\t\\teditorExecute(commandName, ...args) {\\n\\t\\t\\tif (this.editorInstance) {\\n\\t\\t\\t\\tthis.editorInstance.execute(commandName, ...args)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthrow new Error('Impossible to execute a command before editor is ready.')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style lang=\\\"scss\\\" scoped>\\n\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n</style>\\n\\n<style>\\n/*\\nOverwrite the default z-index for CKEditor\\nhttps://github.com/ckeditor/ckeditor5/issues/1142\\n */\\n:root {\\n\\t--ck-z-default: 10000;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{attrs:{\"id\":\"account-form\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('Tabs',{attrs:{\"options\":{useUrlFragment: false, defaultTabHash: _vm.settingsPage ? 'manual' : 'auto'},\"cache-lifetime\":\"0\"},on:{\"changed\":_vm.onModeChanged}},[_c('Tab',{key:\"auto\",attrs:{\"id\":\"auto\",\"name\":_vm.t('mail', 'Auto')}},[_c('label',{attrs:{\"for\":\"auto-name\"}},[_vm._v(_vm._s(_vm.t('mail', 'Name')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.accountName),expression:\"accountName\"}],attrs:{\"id\":\"auto-name\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Name'),\"disabled\":_vm.loading,\"autofocus\":\"\"},domProps:{\"value\":(_vm.accountName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.accountName=$event.target.value}}}),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"auto-address\"}},[_vm._v(_vm._s(_vm.t('mail', 'Mail address')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.emailAddress),expression:\"emailAddress\",modifiers:{\"lazy\":true}}],attrs:{\"id\":\"auto-address\",\"disabled\":_vm.loading,\"placeholder\":_vm.t('mail', 'name@example.org'),\"required\":\"\",\"type\":\"email\"},domProps:{\"value\":(_vm.emailAddress)},on:{\"blur\":function($event){return _vm.isValidEmail(_vm.emailAddress)},\"change\":[function($event){_vm.emailAddress=$event.target.value},_vm.clearFeedback]}}),_vm._v(\" \"),(!_vm.isValidEmail(_vm.emailAddress))?_c('p',{staticClass:\"account-form--error\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Please enter an email of the format name@example.com'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.useGoogleSso)?_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"auto-password\"}},[_vm._v(_vm._s(_vm.t('mail', 'Password')))]):_vm._e(),_vm._v(\" \"),(!_vm.useGoogleSso)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.autoConfig.password),expression:\"autoConfig.password\"}],attrs:{\"id\":\"auto-password\",\"disabled\":_vm.loading,\"placeholder\":_vm.t('mail', 'Password'),\"required\":\"\",\"type\":\"password\"},domProps:{\"value\":(_vm.autoConfig.password)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.autoConfig, \"password\", $event.target.value)}}}):_vm._e()]),_vm._v(\" \"),_c('Tab',{key:\"manual\",attrs:{\"id\":\"manual\",\"name\":_vm.t('mail', 'Manual')}},[_c('label',{attrs:{\"for\":\"man-name\"}},[_vm._v(_vm._s(_vm.t('mail', 'Name')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.accountName),expression:\"accountName\"}],attrs:{\"id\":\"man-name\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Name'),\"disabled\":_vm.loading},domProps:{\"value\":(_vm.accountName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.accountName=$event.target.value}}}),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-address\"}},[_vm._v(_vm._s(_vm.t('mail', 'Mail address')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.emailAddress),expression:\"emailAddress\",modifiers:{\"lazy\":true}}],attrs:{\"id\":\"man-address\",\"type\":\"email\",\"placeholder\":_vm.t('mail', 'name@example.org'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.emailAddress)},on:{\"blur\":function($event){return _vm.isValidEmail(_vm.emailAddress)},\"change\":[function($event){_vm.emailAddress=$event.target.value},_vm.clearFeedback]}}),_vm._v(\" \"),(!_vm.isValidEmail(_vm.emailAddress))?_c('p',{staticClass:\"account-form--error\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Please enter an email of the format name@example.com'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('mail', 'IMAP Settings')))]),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-imap-host\"}},[_vm._v(_vm._s(_vm.t('mail', 'IMAP Host')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.imapHost),expression:\"manualConfig.imapHost\"}],attrs:{\"id\":\"man-imap-host\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'IMAP Host'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.imapHost)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"imapHost\", $event.target.value)}}}),_vm._v(\" \"),_c('h4',{staticClass:\"account-form__heading--required\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'IMAP Security'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.imapSslMode),expression:\"manualConfig.imapSslMode\"}],attrs:{\"id\":\"man-imap-sec-none\",\"type\":\"radio\",\"name\":\"man-imap-sec\",\"disabled\":_vm.loading,\"value\":\"none\"},domProps:{\"checked\":_vm._q(_vm.manualConfig.imapSslMode,\"none\")},on:{\"change\":[function($event){return _vm.$set(_vm.manualConfig, \"imapSslMode\", \"none\")},_vm.onImapSslModeChange]}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.manualConfig.imapSslMode === 'none'},attrs:{\"for\":\"man-imap-sec-none\"}},[_vm._v(_vm._s(_vm.t('mail', 'None')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.imapSslMode),expression:\"manualConfig.imapSslMode\"}],attrs:{\"id\":\"man-imap-sec-ssl\",\"type\":\"radio\",\"name\":\"man-imap-sec\",\"disabled\":_vm.loading,\"value\":\"ssl\"},domProps:{\"checked\":_vm._q(_vm.manualConfig.imapSslMode,\"ssl\")},on:{\"change\":[function($event){return _vm.$set(_vm.manualConfig, \"imapSslMode\", \"ssl\")},_vm.onImapSslModeChange]}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.manualConfig.imapSslMode === 'ssl'},attrs:{\"for\":\"man-imap-sec-ssl\"}},[_vm._v(_vm._s(_vm.t('mail', 'SSL/TLS')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.imapSslMode),expression:\"manualConfig.imapSslMode\"}],attrs:{\"id\":\"man-imap-sec-tls\",\"type\":\"radio\",\"name\":\"man-imap-sec\",\"disabled\":_vm.loading,\"value\":\"tls\"},domProps:{\"checked\":_vm._q(_vm.manualConfig.imapSslMode,\"tls\")},on:{\"change\":[function($event){return _vm.$set(_vm.manualConfig, \"imapSslMode\", \"tls\")},_vm.onImapSslModeChange]}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.manualConfig.imapSslMode === 'tls'},attrs:{\"for\":\"man-imap-sec-tls\"}},[_vm._v(_vm._s(_vm.t('mail', 'STARTTLS')))])]),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-imap-port\"}},[_vm._v(_vm._s(_vm.t('mail', 'IMAP Port')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.imapPort),expression:\"manualConfig.imapPort\"}],attrs:{\"id\":\"man-imap-port\",\"type\":\"number\",\"placeholder\":_vm.t('mail', 'IMAP Port'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.imapPort)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"imapPort\", $event.target.value)}}}),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-imap-user\"}},[_vm._v(_vm._s(_vm.t('mail', 'IMAP User')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.imapUser),expression:\"manualConfig.imapUser\"}],attrs:{\"id\":\"man-imap-user\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'IMAP User'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.imapUser)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"imapUser\", $event.target.value)}}}),_vm._v(\" \"),(!_vm.useGoogleSso)?_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-imap-password\"}},[_vm._v(_vm._s(_vm.t('mail', 'IMAP Password')))]):_vm._e(),_vm._v(\" \"),(!_vm.useGoogleSso)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.imapPassword),expression:\"manualConfig.imapPassword\"}],attrs:{\"id\":\"man-imap-password\",\"type\":\"password\",\"placeholder\":_vm.t('mail', 'IMAP Password'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.imapPassword)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"imapPassword\", $event.target.value)}}}):_vm._e(),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('mail', 'SMTP Settings')))]),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-smtp-host\"}},[_vm._v(_vm._s(_vm.t('mail', 'SMTP Host')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.smtpHost),expression:\"manualConfig.smtpHost\"}],ref:\"smtpHost\",attrs:{\"id\":\"man-smtp-host\",\"type\":\"text\",\"name\":\"smtp-host\",\"placeholder\":_vm.t('mail', 'SMTP Host'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.smtpHost)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"smtpHost\", $event.target.value)}}}),_vm._v(\" \"),_c('h4',{staticClass:\"account-form__heading--required\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'SMTP Security'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.smtpSslMode),expression:\"manualConfig.smtpSslMode\"}],attrs:{\"id\":\"man-smtp-sec-none\",\"type\":\"radio\",\"name\":\"man-smtp-sec\",\"disabled\":_vm.loading,\"value\":\"none\"},domProps:{\"checked\":_vm._q(_vm.manualConfig.smtpSslMode,\"none\")},on:{\"change\":[function($event){return _vm.$set(_vm.manualConfig, \"smtpSslMode\", \"none\")},_vm.onSmtpSslModeChange]}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.manualConfig.smtpSslMode === 'none'},attrs:{\"for\":\"man-smtp-sec-none\"}},[_vm._v(_vm._s(_vm.t('mail', 'None')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.smtpSslMode),expression:\"manualConfig.smtpSslMode\"}],attrs:{\"id\":\"man-smtp-sec-ssl\",\"type\":\"radio\",\"name\":\"man-smtp-sec\",\"disabled\":_vm.loading,\"value\":\"ssl\"},domProps:{\"checked\":_vm._q(_vm.manualConfig.smtpSslMode,\"ssl\")},on:{\"change\":[function($event){return _vm.$set(_vm.manualConfig, \"smtpSslMode\", \"ssl\")},_vm.onSmtpSslModeChange]}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.manualConfig.smtpSslMode === 'ssl'},attrs:{\"for\":\"man-smtp-sec-ssl\"}},[_vm._v(_vm._s(_vm.t('mail', 'SSL/TLS')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.smtpSslMode),expression:\"manualConfig.smtpSslMode\"}],attrs:{\"id\":\"man-smtp-sec-tls\",\"type\":\"radio\",\"name\":\"man-smtp-sec\",\"disabled\":_vm.loading,\"value\":\"tls\"},domProps:{\"checked\":_vm._q(_vm.manualConfig.smtpSslMode,\"tls\")},on:{\"change\":[function($event){return _vm.$set(_vm.manualConfig, \"smtpSslMode\", \"tls\")},_vm.onSmtpSslModeChange]}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.manualConfig.smtpSslMode === 'tls'},attrs:{\"for\":\"man-smtp-sec-tls\"}},[_vm._v(_vm._s(_vm.t('mail', 'STARTTLS')))])]),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-smtp-port\"}},[_vm._v(_vm._s(_vm.t('mail', 'SMTP Port')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.smtpPort),expression:\"manualConfig.smtpPort\"}],attrs:{\"id\":\"man-smtp-port\",\"type\":\"number\",\"placeholder\":_vm.t('mail', 'SMTP Port'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.smtpPort)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"smtpPort\", $event.target.value)}}}),_vm._v(\" \"),_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-smtp-user\"}},[_vm._v(_vm._s(_vm.t('mail', 'SMTP User')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.smtpUser),expression:\"manualConfig.smtpUser\"}],attrs:{\"id\":\"man-smtp-user\",\"type\":\"text\",\"placeholder\":_vm.t('mail', 'SMTP User'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.smtpUser)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"smtpUser\", $event.target.value)}}}),_vm._v(\" \"),(!_vm.useGoogleSso)?_c('label',{staticClass:\"account-form__label--required\",attrs:{\"for\":\"man-smtp-password\"}},[_vm._v(_vm._s(_vm.t('mail', 'SMTP Password')))]):_vm._e(),_vm._v(\" \"),(!_vm.useGoogleSso)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualConfig.smtpPassword),expression:\"manualConfig.smtpPassword\"}],attrs:{\"id\":\"man-smtp-password\",\"type\":\"password\",\"placeholder\":_vm.t('mail', 'SMTP Password'),\"disabled\":_vm.loading,\"required\":\"\"},domProps:{\"value\":(_vm.manualConfig.smtpPassword)},on:{\"change\":_vm.clearFeedback,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.manualConfig, \"smtpPassword\", $event.target.value)}}}):_vm._e()])],1),_vm._v(\" \"),(_vm.isGoogleAccount && !_vm.googleOauthUrl)?_c('div',{staticClass:\"account-form__google-sso\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'For the Google account to work with this app you need to enable two-factor authentication for Google and generate an app password.'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"account-form__submit-buttons\"},[(_vm.mode === 'auto')?_c('ButtonVue',{staticClass:\"account-form__submit-button\",attrs:{\"type\":\"primary\",\"native-type\":\"submit\",\"disabled\":_vm.isDisabledAuto || _vm.loading},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}],null,false,4145190044)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.submitButtonText)+\"\\n\\t\\t\")]):(_vm.mode === 'manual')?_c('ButtonVue',{staticClass:\"account-form__submit-button\",attrs:{\"type\":\"primary\",\"native-type\":\"submit\",\"disabled\":_vm.isDisabledManual || _vm.loading},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.submitButtonText)+\"\\n\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.feedback)?_c('div',{staticClass:\"account-form--feedback\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.feedback)+\"\\n\\t\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright 2022 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2022 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport async function queryIspdb(email) {\n\treturn (await axios.get(generateUrl('/apps/mail/api/autoconfig/ispdb/{email}', { email }))).data.data\n}\n\nexport async function queryMx(email) {\n\treturn (await axios.get(generateUrl('/apps/mail/api/autoconfig/mx/{email}', { email }))).data.data\n}\n\nexport async function testConnectivity(host, port) {\n\treturn (await axios.get(generateUrl('/apps/mail/api/autoconfig/test?host={host}&port={port}', { host, port }))).data.data\n}\n","/*\n * @copyright 2022 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2022 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { translate as t } from '@nextcloud/l10n'\n\nimport logger from '../logger'\n\nexport const CONSENT_ABORTED = 'GOOGLE_CONSENT_ABORTED'\n\nexport async function getUserConsent(redirectUrl) {\n\tconst ssoWindow = window.open(\n\t\tredirectUrl,\n\t\tt('mail', 'Sign in with Google'),\n\t\t'toolbar=no, menubar=no, width=600, height=700'\n\t)\n\tssoWindow.focus()\n\tawait new Promise((resolve, reject) => {\n\t\twindow.addEventListener('message', (event) => {\n\t\t\tconst { data } = event\n\t\t\tlogger.debug('Child window message received', { event })\n\n\t\t\tif (data === 'DONE') {\n\t\t\t\tlogger.info('Google user consent given')\n\t\t\t\tresolve()\n\t\t\t}\n\t\t})\n\t\tconst windowClosedTimer = setInterval(() => {\n\t\t\tif (ssoWindow.closed) {\n\t\t\t\tclearInterval(windowClosedTimer)\n\t\t\t\treject(new Error(CONSENT_ABORTED))\n\t\t\t}\n\t\t}, 200)\n\t})\n}\n","<template>\n\t<form id=\"account-form\" @submit.prevent=\"onSubmit\">\n\t\t<Tabs\n\t\t\t:options=\"{useUrlFragment: false, defaultTabHash: settingsPage ? 'manual' : 'auto'}\"\n\t\t\tcache-lifetime=\"0\"\n\t\t\t@changed=\"onModeChanged\">\n\t\t\t<Tab id=\"auto\" key=\"auto\" :name=\"t('mail', 'Auto')\">\n\t\t\t\t<label for=\"auto-name\">{{ t('mail', 'Name') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"auto-name\"\n\t\t\t\t\tv-model=\"accountName\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"t('mail', 'Name')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\tautofocus>\n\t\t\t\t<label for=\"auto-address\" class=\"account-form__label--required\">{{ t('mail', 'Mail address') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"auto-address\"\n\t\t\t\t\tv-model.lazy=\"emailAddress\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t:placeholder=\"t('mail', 'name@example.org')\"\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t@blur=\"isValidEmail(emailAddress)\"\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<p v-if=\"!isValidEmail(emailAddress)\" class=\"account-form--error\">\n\t\t\t\t\t{{ t('mail', 'Please enter an email of the format name@example.com') }}\n\t\t\t\t</p>\n\t\t\t\t<label v-if=\"!useGoogleSso\"\n\t\t\t\t\tfor=\"auto-password\"\n\t\t\t\t\tclass=\"account-form__label--required\">{{ t('mail', 'Password') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tv-if=\"!useGoogleSso\"\n\t\t\t\t\tid=\"auto-password\"\n\t\t\t\t\tv-model=\"autoConfig.password\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t:placeholder=\"t('mail', 'Password')\"\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t</Tab>\n\t\t\t<Tab id=\"manual\" key=\"manual\" :name=\"t('mail', 'Manual')\">\n\t\t\t\t<label for=\"man-name\">{{ t('mail', 'Name') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-name\"\n\t\t\t\t\tv-model=\"accountName\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"t('mail', 'Name')\"\n\t\t\t\t\t:disabled=\"loading\">\n\t\t\t\t<label for=\"man-address\" class=\"account-form__label--required\">{{ t('mail', 'Mail address') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-address\"\n\t\t\t\t\tv-model.lazy=\"emailAddress\"\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t:placeholder=\"t('mail', 'name@example.org')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@blur=\"isValidEmail(emailAddress)\"\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<p v-if=\"!isValidEmail(emailAddress)\" class=\"account-form--error\">\n\t\t\t\t\t{{ t('mail', 'Please enter an email of the format name@example.com') }}\n\t\t\t\t</p>\n\n\t\t\t\t<h3>{{ t('mail', 'IMAP Settings') }}</h3>\n\t\t\t\t<label for=\"man-imap-host\" class=\"account-form__label--required\">{{ t('mail', 'IMAP Host') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-imap-host\"\n\t\t\t\t\tv-model=\"manualConfig.imapHost\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"t('mail', 'IMAP Host')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<h4 class=\"account-form__heading--required\">\n\t\t\t\t\t{{ t('mail', 'IMAP Security') }}\n\t\t\t\t</h4>\n\t\t\t\t<div class=\"flex-row\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"man-imap-sec-none\"\n\t\t\t\t\t\tv-model=\"manualConfig.imapSslMode\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"man-imap-sec\"\n\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\tvalue=\"none\"\n\t\t\t\t\t\t@change=\"onImapSslModeChange\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tfor=\"man-imap-sec-none\"\n\t\t\t\t\t\t:class=\"{primary: manualConfig.imapSslMode === 'none'}\">{{ t('mail', 'None') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"man-imap-sec-ssl\"\n\t\t\t\t\t\tv-model=\"manualConfig.imapSslMode\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"man-imap-sec\"\n\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\tvalue=\"ssl\"\n\t\t\t\t\t\t@change=\"onImapSslModeChange\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tfor=\"man-imap-sec-ssl\"\n\t\t\t\t\t\t:class=\"{primary: manualConfig.imapSslMode === 'ssl'}\">{{ t('mail', 'SSL/TLS') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"man-imap-sec-tls\"\n\t\t\t\t\t\tv-model=\"manualConfig.imapSslMode\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"man-imap-sec\"\n\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\tvalue=\"tls\"\n\t\t\t\t\t\t@change=\"onImapSslModeChange\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tfor=\"man-imap-sec-tls\"\n\t\t\t\t\t\t:class=\"{primary: manualConfig.imapSslMode === 'tls'}\">{{ t('mail', 'STARTTLS') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<label for=\"man-imap-port\" class=\"account-form__label--required\">{{ t('mail', 'IMAP Port') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-imap-port\"\n\t\t\t\t\tv-model=\"manualConfig.imapPort\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t:placeholder=\"t('mail', 'IMAP Port')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<label for=\"man-imap-user\" class=\"account-form__label--required\">{{ t('mail', 'IMAP User') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-imap-user\"\n\t\t\t\t\tv-model=\"manualConfig.imapUser\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"t('mail', 'IMAP User')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<label v-if=\"!useGoogleSso\" for=\"man-imap-password\" class=\"account-form__label--required\">{{ t('mail', 'IMAP Password') }}</label>\n\t\t\t\t<input v-if=\"!useGoogleSso\"\n\t\t\t\t\tid=\"man-imap-password\"\n\t\t\t\t\tv-model=\"manualConfig.imapPassword\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t:placeholder=\"t('mail', 'IMAP Password')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\n\t\t\t\t<h3>{{ t('mail', 'SMTP Settings') }}</h3>\n\t\t\t\t<label for=\"man-smtp-host\" class=\"account-form__label--required\">{{ t('mail', 'SMTP Host') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-smtp-host\"\n\t\t\t\t\tref=\"smtpHost\"\n\t\t\t\t\tv-model=\"manualConfig.smtpHost\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"smtp-host\"\n\t\t\t\t\t:placeholder=\"t('mail', 'SMTP Host')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<h4 class=\"account-form__heading--required\">\n\t\t\t\t\t{{ t('mail', 'SMTP Security') }}\n\t\t\t\t</h4>\n\t\t\t\t<div class=\"flex-row\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"man-smtp-sec-none\"\n\t\t\t\t\t\tv-model=\"manualConfig.smtpSslMode\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"man-smtp-sec\"\n\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\tvalue=\"none\"\n\t\t\t\t\t\t@change=\"onSmtpSslModeChange\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tfor=\"man-smtp-sec-none\"\n\t\t\t\t\t\t:class=\"{primary: manualConfig.smtpSslMode === 'none'}\">{{ t('mail', 'None') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"man-smtp-sec-ssl\"\n\t\t\t\t\t\tv-model=\"manualConfig.smtpSslMode\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"man-smtp-sec\"\n\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\tvalue=\"ssl\"\n\t\t\t\t\t\t@change=\"onSmtpSslModeChange\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tfor=\"man-smtp-sec-ssl\"\n\t\t\t\t\t\t:class=\"{primary: manualConfig.smtpSslMode === 'ssl'}\">{{ t('mail', 'SSL/TLS') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"man-smtp-sec-tls\"\n\t\t\t\t\t\tv-model=\"manualConfig.smtpSslMode\"\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname=\"man-smtp-sec\"\n\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\tvalue=\"tls\"\n\t\t\t\t\t\t@change=\"onSmtpSslModeChange\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tfor=\"man-smtp-sec-tls\"\n\t\t\t\t\t\t:class=\"{primary: manualConfig.smtpSslMode === 'tls'}\">{{ t('mail', 'STARTTLS') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<label for=\"man-smtp-port\" class=\"account-form__label--required\">{{ t('mail', 'SMTP Port') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-smtp-port\"\n\t\t\t\t\tv-model=\"manualConfig.smtpPort\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t:placeholder=\"t('mail', 'SMTP Port')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<label for=\"man-smtp-user\" class=\"account-form__label--required\">{{ t('mail', 'SMTP User') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"man-smtp-user\"\n\t\t\t\t\tv-model=\"manualConfig.smtpUser\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"t('mail', 'SMTP User')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t\t<label v-if=\"!useGoogleSso\" for=\"man-smtp-password\" class=\"account-form__label--required\">{{ t('mail', 'SMTP Password') }}</label>\n\t\t\t\t<input v-if=\"!useGoogleSso\"\n\t\t\t\t\tid=\"man-smtp-password\"\n\t\t\t\t\tv-model=\"manualConfig.smtpPassword\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t:placeholder=\"t('mail', 'SMTP Password')\"\n\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\trequired\n\t\t\t\t\t@change=\"clearFeedback\">\n\t\t\t</Tab>\n\t\t</Tabs>\n\t\t<div v-if=\"isGoogleAccount && !googleOauthUrl\" class=\"account-form__google-sso\">\n\t\t\t{{ t('mail', 'For the Google account to work with this app you need to enable two-factor authentication for Google and generate an app password.') }}\n\t\t</div>\n\t\t<div class=\"account-form__submit-buttons\">\n\t\t\t<ButtonVue v-if=\"mode === 'auto'\"\n\t\t\t\tclass=\"account-form__submit-button\"\n\t\t\t\ttype=\"primary\"\n\t\t\t\tnative-type=\"submit\"\n\t\t\t\t:disabled=\"isDisabledAuto || loading\"\n\t\t\t\t@click.prevent=\"onSubmit\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ submitButtonText }}\n\t\t\t</ButtonVue>\n\t\t\t<ButtonVue v-else-if=\"mode === 'manual'\"\n\t\t\t\tclass=\"account-form__submit-button\"\n\t\t\t\ttype=\"primary\"\n\t\t\t\tnative-type=\"submit\"\n\t\t\t\t:disabled=\"isDisabledManual || loading\"\n\t\t\t\t@click.prevent=\"onSubmit\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ submitButtonText }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<div v-if=\"feedback\" class=\"account-form--feedback\">\n\t\t\t{{ feedback }}\n\t\t</div>\n\t</form>\n</template>\n\n<script>\nimport { Tab, Tabs } from 'vue-tabs-component'\nimport { mapGetters } from 'vuex'\nimport { NcButton as ButtonVue, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconCheck from 'vue-material-design-icons/Check'\nimport { translate as t } from '@nextcloud/l10n'\n\nimport logger from '../logger'\nimport {\n\tqueryIspdb,\n\tqueryMx,\n\ttestConnectivity,\n} from '../service/AutoConfigService'\nimport { CONSENT_ABORTED, getUserConsent } from '../integration/google'\n\nexport default {\n\tname: 'AccountForm',\n\tcomponents: {\n\t\tTab,\n\t\tTabs,\n\t\tButtonVue,\n\t\tIconLoading,\n\t\tIconCheck,\n\t},\n\tprops: {\n\t\tdisplayName: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\temail: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t},\n\tdata() {\n\t\tconst fromAccountOr = (prop, def) => {\n\t\t\tif (this.account !== undefined) {\n\t\t\t\treturn this.account[prop]\n\t\t\t} else {\n\t\t\t\treturn def\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tloadingMessage: undefined,\n\t\t\tmode: 'auto',\n\t\t\taccountName: this.displayName,\n\t\t\temailAddress: this.email,\n\t\t\tautoConfig: {\n\t\t\t\tpassword: '',\n\t\t\t},\n\t\t\tmanualConfig: {\n\t\t\t\timapHost: fromAccountOr('imapHost', ''),\n\t\t\t\timapPort: fromAccountOr('imapPort', 993),\n\t\t\t\timapSslMode: fromAccountOr('imapSslMode', 'ssl'),\n\t\t\t\timapUser: fromAccountOr('imapUser', ''),\n\t\t\t\timapPassword: '',\n\t\t\t\tsmtpHost: fromAccountOr('smtpHost', ''),\n\t\t\t\tsmtpPort: fromAccountOr('smtpPort', 587),\n\t\t\t\tsmtpSslMode: fromAccountOr('smtpSslMode', 'tls'),\n\t\t\t\tsmtpUser: fromAccountOr('smtpUser', ''),\n\t\t\t\tsmtpPassword: '',\n\t\t\t},\n\t\t\tfeedback: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'googleOauthUrl',\n\t\t]),\n\n\t\tsettingsPage() {\n\t\t\treturn this.account !== undefined\n\t\t},\n\n\t\tisDisabledAuto() {\n\t\t\tif (this.loading) {\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\tif (this.mode !== 'auto') {\n\t\t\t\treturn this.loading\n\t\t\t}\n\n\t\t\treturn !this.emailAddress || !this.isValidEmail(this.emailAddress)\n\t\t\t\t|| (!this.isGoogleAccount && !this.autoConfig.password)\n\t\t},\n\n\t\tisDisabledManual() {\n\t\t\tif (this.loading) {\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\tif (this.mode !== 'manual') {\n\t\t\t\treturn this.loading\n\t\t\t}\n\n\t\t\treturn !this.emailAddress || !this.isValidEmail(this.emailAddress)\n\t\t\t\t|| !this.manualConfig.imapHost || !this.manualConfig.imapPort\n\t\t\t\t|| !this.manualConfig.imapUser || (!this.useGoogleSso && !this.manualConfig.imapPassword)\n\t\t\t\t|| !this.manualConfig.smtpHost || !this.manualConfig.smtpPort\n\t\t\t\t|| !this.manualConfig.smtpUser || (!this.useGoogleSso && !this.manualConfig.smtpPassword)\n\t\t},\n\n\t\tisGoogleAccount() {\n\t\t\tif (this.mode === 'auto') {\n\t\t\t\treturn this.emailAddress.endsWith('@gmail.com')\n\t\t\t} else {\n\t\t\t\treturn this.manualConfig.imapHost === 'imap.gmail.com'\n\t\t\t\t\t|| this.manualConfig.smtpHost === 'smtp.gmail.com'\n\t\t\t}\n\t\t},\n\n\t\tuseGoogleSso() {\n\t\t\treturn this.isGoogleAccount && this.googleOauthUrl\n\t\t},\n\n\t\tsubmitButtonText() {\n\t\t\tif (this.loading) {\n\t\t\t\treturn this.loadingMessage ?? t('mail', 'Connecting')\n\t\t\t}\n\t\t\tif (this.useGoogleSso) {\n\t\t\t\treturn this.account ? t('mail', 'Reconnect Google account') : t('mail', 'Sign in with Google')\n\t\t\t}\n\t\t\treturn this.account ? t('mail', 'Save') : t('mail', 'Connect')\n\t\t},\n\t},\n\tmethods: {\n\t\tonModeChanged(e) {\n\t\t\tthis.mode = e.tab.id\n\n\t\t\tif (this.mode === 'manual') {\n\t\t\t\t// IMAP\n\t\t\t\tif (this.manualConfig.imapUser === '') {\n\t\t\t\t\tthis.manualConfig.imapUser = this.emailAddress\n\t\t\t\t}\n\t\t\t\tif (this.manualConfig.imapPassword === '') {\n\t\t\t\t\tthis.manualConfig.imapPassword = this.autoConfig.password\n\t\t\t\t}\n\n\t\t\t\t// SMTP\n\t\t\t\tif (this.manualConfig.smtpUser === '') {\n\t\t\t\t\tthis.manualConfig.smtpUser = this.emailAddress\n\t\t\t\t}\n\t\t\t\tif (this.manualConfig.smtpPassword === '') {\n\t\t\t\t\tthis.manualConfig.smtpPassword = this.autoConfig.password\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonImapSslModeChange() {\n\t\t\tthis.clearFeedback()\n\n\t\t\tswitch (this.manualConfig.imapSslMode) {\n\t\t\tcase 'none':\n\t\t\tcase 'tls':\n\t\t\t\tthis.manualConfig.imapPort = 143\n\t\t\t\tbreak\n\t\t\tcase 'ssl':\n\t\t\t\tthis.manualConfig.imapPort = 993\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tonSmtpSslModeChange() {\n\t\t\tthis.clearFeedback()\n\n\t\t\tswitch (this.manualConfig.smtpSslMode) {\n\t\t\tcase 'none':\n\t\t\tcase 'tls':\n\t\t\t\tthis.manualConfig.smtpPort = 587\n\t\t\t\tbreak\n\t\t\tcase 'ssl':\n\t\t\t\tthis.manualConfig.smtpPort = 465\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tclearFeedback() {\n\t\t\tthis.feedback = null\n\t\t},\n\t\tapplyAutoConfig(config) {\n\t\t\tif (!config) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif (config?.imapConfig) {\n\t\t\t\tthis.manualConfig.imapUser = config.imapConfig.username\n\t\t\t\tthis.manualConfig.imapHost = config.imapConfig.host\n\t\t\t\tthis.manualConfig.imapPort = config.imapConfig.port\n\t\t\t\tthis.manualConfig.imapSslMode = config.imapConfig.security\n\t\t\t\tthis.manualConfig.imapPassword = this.autoConfig.password\n\t\t\t}\n\t\t\tif (config?.smtpConfig) {\n\t\t\t\tthis.manualConfig.smtpUser = config.smtpConfig.username\n\t\t\t\tthis.manualConfig.smtpHost = config.smtpConfig.host\n\t\t\t\tthis.manualConfig.smtpPort = config.smtpConfig.port\n\t\t\t\tthis.manualConfig.smtpSslMode = config.smtpConfig.security\n\t\t\t\tthis.manualConfig.smtpPassword = this.autoConfig.password\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\t\tasync detectConfig() {\n\t\t\tthis.loadingMessage = t('mail', 'Looking up configuration')\n\t\t\tconst config = await queryIspdb(this.emailAddress)\n\t\t\tlogger.debug('fetched auto config', { config })\n\t\t\t// Apply settings to manual mode before submitting so the user\n\t\t\t// can make modifications if the config fails\n\t\t\tif (this.applyAutoConfig(config)) {\n\t\t\t\tlogger.debug('ISP DB config applied')\n\t\t\t\treturn true\n\t\t\t} else {\n\t\t\t\tthis.loadingMessage = t('mail', 'Checking mail host connectivity')\n\t\t\t\tconst mxHosts = await queryMx(this.emailAddress)\n\t\t\t\tlogger.debug('MX hosts fetched', { mxHosts })\n\t\t\t\tconst imapAndSmtpHosts = mxHosts.flatMap(host => {\n\t\t\t\t\treturn [993, 143, 465, 587].map(port => ({\n\t\t\t\t\t\thost,\n\t\t\t\t\t\tport,\n\t\t\t\t\t}))\n\t\t\t\t})\n\t\t\t\tconst results = await Promise.all(imapAndSmtpHosts.map(async ({ host, port }) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thost,\n\t\t\t\t\t\tport,\n\t\t\t\t\t\tcanConnect: await testConnectivity(host, port),\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t\tconst firstImapHost = results.filter(({ canConnect, port }) => canConnect && port === 993)[0]\n\t\t\t\tconst firstSmtpHost = results.filter(({ canConnect, port }) => canConnect && [465, 587].includes(port))[0]\n\t\t\t\tlogger.debug('MX connectivity tested', { firstImapHost, firstSmtpHost })\n\t\t\t\tif (firstImapHost && firstSmtpHost) {\n\t\t\t\t\tthis.applyAutoConfig({\n\t\t\t\t\t\timapConfig: {\n\t\t\t\t\t\t\tusername: this.emailAddress, // Assumption\n\t\t\t\t\t\t\thost: firstImapHost.host,\n\t\t\t\t\t\t\tport: firstImapHost.port,\n\t\t\t\t\t\t\tsecurity: firstImapHost.port === 993 ? 'ssl' : 'tls',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsmtpConfig: {\n\t\t\t\t\t\t\tusername: this.emailAddress, // Assumption\n\t\t\t\t\t\t\thost: firstSmtpHost.host,\n\t\t\t\t\t\t\tport: firstSmtpHost.port,\n\t\t\t\t\t\t\tsecurity: firstSmtpHost.port === 465 ? 'ssl' : 'tls',\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\tthis.feedback = t('mail', 'Configuration discovery failed. Please use the manual settings')\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\t\tasync onSubmit(event) {\n\t\t\tlogger.debug('account form submitted', { event })\n\t\t\tif (this.isDisabledManual || this.isDisabledAuto) {\n\t\t\t\tlogger.warn('submit is disabled')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.clearFeedback()\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tif (this.mode === 'auto') {\n\t\t\t\t\tif (!await this.detectConfig()) {\n\t\t\t\t\t\tlogger.warn('Auto mode failed')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.loadingMessage = t('mail', 'Testing authentication')\n\t\t\t\tconst data = {\n\t\t\t\t\t...this.manualConfig,\n\t\t\t\t\taccountName: this.accountName,\n\t\t\t\t\temailAddress: this.emailAddress,\n\t\t\t\t\timapHost: this.manualConfig.imapHost.trim(),\n\t\t\t\t\tsmtpHost: this.manualConfig.smtpHost.trim(),\n\t\t\t\t\tauthMethod: this.useGoogleSso ? 'xoauth2' : 'password',\n\t\t\t\t}\n\t\t\t\tif (this.useGoogleSso) {\n\t\t\t\t\tdelete data.imapPassword\n\t\t\t\t\tdelete data.smtpPassword\n\t\t\t\t}\n\t\t\t\tif (!this.account) {\n\t\t\t\t\tconst account = await this.$store.dispatch('startAccountSetup', data)\n\t\t\t\t\tif (this.useGoogleSso) {\n\t\t\t\t\t\tthis.loadingMessage = t('mail', 'Awaiting user consent')\n\t\t\t\t\t\tthis.feedback = t('mail', 'Account created. Please follow the popup instructions to link your Google account')\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait getUserConsent(\n\t\t\t\t\t\t\t\tthis.googleOauthUrl\n\t\t\t\t\t\t\t\t\t.replace('_accountId_', account.id)\n\t\t\t\t\t\t\t\t\t.replace('_email_', encodeURIComponent(account.emailAddress))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// Clean up the temporary account before we continue\n\t\t\t\t\t\t\tthis.$store.dispatch('deleteAccount', account)\n\t\t\t\t\t\t\tlogger.info(`Temporary account ${account.id} deleted`)\n\t\t\t\t\t\t\tthrow e\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.clearFeedback()\n\t\t\t\t\t}\n\t\t\t\t\tthis.loadingMessage = t('mail', 'Loading account')\n\t\t\t\t\tawait this.$store.dispatch('finishAccountSetup', { account })\n\t\t\t\t\tthis.$emit('account-created', account)\n\t\t\t\t} else {\n\t\t\t\t\tconst oldAccountData = this.account\n\t\t\t\t\tconst account = await this.$store.dispatch('updateAccount', {\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\t})\n\t\t\t\t\tif (this.useGoogleSso) {\n\t\t\t\t\t\tthis.loadingMessage = t('mail', 'Awaiting user consent')\n\t\t\t\t\t\tthis.feedback = t('mail', 'Account updated. Please follow the popup instructions to reconnect your Google account')\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait getUserConsent(\n\t\t\t\t\t\t\t\tthis.googleOauthUrl\n\t\t\t\t\t\t\t\t\t.replace('_accountId_', account.id)\n\t\t\t\t\t\t\t\t\t.replace('_email_', encodeURIComponent(account.emailAddress))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// Undo changes\n\t\t\t\t\t\t\tawait this.$store.dispatch('updateAccount', {\n\t\t\t\t\t\t\t\t...oldAccountData,\n\t\t\t\t\t\t\t\taccountId: oldAccountData.id,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tlogger.info(`Account ${account.id} update undone`)\n\t\t\t\t\t\t\tthrow e\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.clearFeedback()\n\t\t\t\t\t}\n\t\t\t\t\tthis.feedback = t('mail', 'Account updated')\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not save account details', { error })\n\n\t\t\t\tif (error.data?.error === 'CONNECTION_ERROR') {\n\t\t\t\t\tif (error.data.service === 'IMAP') {\n\t\t\t\t\t\tthis.feedback = t('mail', 'IMAP server is not reachable')\n\t\t\t\t\t} else if (error.data.service === 'SMTP') {\n\t\t\t\t\t\tthis.feedback = t('mail', 'SMTP server is not reachable')\n\t\t\t\t\t}\n\t\t\t\t} else if (error.data?.error === 'AUTHENTICATION') {\n\t\t\t\t\tif (error.data.service === 'IMAP') {\n\t\t\t\t\t\tthis.feedback = t('mail', 'IMAP username or password is wrong')\n\t\t\t\t\t} else if (error.data.service === 'SMTP') {\n\t\t\t\t\t\tthis.feedback = t('mail', 'SMTP username or password is wrong')\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error.data?.service === 'IMAP') {\n\t\t\t\t\t\tthis.feedback = t('mail', 'IMAP connection failed')\n\t\t\t\t\t} else if (error.data?.service === 'SMTP') {\n\t\t\t\t\t\tthis.feedback = t('mail', 'SMTP connection failed')\n\t\t\t\t\t} else if (error.message === CONSENT_ABORTED) {\n\t\t\t\t\t\tthis.feedback = t('mail', 'Google authorization popup closed')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.feedback = t('mail', 'There was an error while setting up your account')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t\tthis.loadingMessage = undefined\n\t\t\t}\n\t\t},\n\t\tisValidEmail(email) {\n\t\t\tconst regExpEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t\treturn regExpEmail.test(email)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.tabs-component-tabs) {\n\tdisplay: flex;\n}\n\n:deep(.tabs-component-tab) {\n\tflex-grow: 1;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n\tmargin-bottom: 10px;\n}\n\n:deep(.tabs-component-tab.is-active) {\n\tborder-bottom: 1px solid black;\n\tfont-weight: bold;\n}\n\n.tabs-component-panels {\n\tpadding-top: 20px;\n}\n\n.tabs-component-panels label {\n\ttext-align: left;\n\twidth: 100%;\n\tdisplay: inline-block;\n}\n\n.tabs-component-panels input,\n.tabs-component-panels select {\n\tmargin-bottom: 10px;\n}\n</style>\n\n<style scoped>\nh4 {\n\ttext-align: left;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.primary {\n\tcolor: var(--color-main-background);\n}\ninput.primary {\n\tcolor: var(--color-main-background);\n}\n\ninput[type='radio'] {\n\tdisplay: none;\n}\n\ninput[type='radio'][disabled] + label {\n\tcursor: default;\n\topacity: 0.5;\n}\n.account-form__label--required:after {\n\tcontent:\" *\";\n}\n.account-form__heading--required:after {\n\tcontent:\" *\";\n}\n.account-form__submit-buttons {\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 5px;\n}\n.account-form__submit-button {\n\tdisplay: flex;\n\talign-items: center;\n}\n.account-form--feedback {\n\tcolor: var(--color-text-maxcontrast);\n\tmargin-top: 5px;\n\ttext-align: center;\n}\n.account-form--error {\n\ttext-align: left;\n\tfont-size: 14px;\n}\n#account-form {\n\tz-index: 1001;\n\twidth: 250px;\n\ttop: 15%;\n\tpadding-bottom: 50px;\n\tmargin: 0 auto;\n\tpadding-top: 30px;\n}\n#account-form input {\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=style&index=0&id=6ba01c25&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=style&index=0&id=6ba01c25&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=style&index=1&id=6ba01c25&prod&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=style&index=1&id=6ba01c25&prod&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AccountForm.vue?vue&type=template&id=6ba01c25&scoped=true&\"\nimport script from \"./AccountForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountForm.vue?vue&type=style&index=0&id=6ba01c25&prod&lang=scss&scoped=true&\"\nimport style1 from \"./AccountForm.vue?vue&type=style&index=1&id=6ba01c25&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ba01c25\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{on:{\"close\":_vm.onClose}},[_c('div',{ref:\"content\",staticClass:\"modal-content\"},[_c('h2',{staticClass:\"oc-dialog-title\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Choose target mailbox'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('span',{staticClass:\"crumbs\"},[_c('div',{on:{\"click\":function($event){$event.preventDefault();return _vm.onClickHome.apply(null, arguments)}}},[_c('IconInbox',{attrs:{\"size\":20}})],1),_vm._v(\" \"),_vm._l((_vm.mailboxCrumbs),function(box,index){return _c('div',{key:box.databaseId,staticClass:\"level\"},[_c('IconBreadcrumb',{attrs:{\"size\":20}}),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.onClickCrumb(index)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.getMailboxTitle(box))+\"\\n\\t\\t\\t\\t\")])],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"mailbox-list\"},[(_vm.filteredMailboxes.length > 0)?_c('ul',_vm._l((_vm.filteredMailboxes),function(box){return _c('li',{key:box.databaseId,on:{\"click\":function($event){$event.preventDefault();return _vm.onClickMailbox(box)}}},[(box.specialRole === 'inbox')?_c('IconInbox',{attrs:{\"size\":20}}):(box.specialRole === 'drafts')?_c('IconDraft',{attrs:{\"size\":20}}):(box.specialRole === 'sent')?_c('IconSent',{attrs:{\"size\":20}}):(box.specialRole === 'archive')?_c('IconArchive',{attrs:{\"size\":20}}):(box.specialRole === 'trash')?_c('IconTrash',{attrs:{\"size\":20}}):_c('IconFolder',{attrs:{\"size\":20}}),_vm._v(\" \"),_c('div',{staticClass:\"mailbox-title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.getMailboxTitle(box))+\"\\n\\t\\t\\t\\t\\t\")])],1)}),0):_c('IconFolder',{attrs:{\"size\":65}}),_vm._v(\" \"),_c('div',{staticClass:\"empty-icon empty\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'No more submailboxes in here')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[_c('ButtonVue',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading || (!_vm.allowRoot && !_vm.selectedMailboxId)},on:{\"click\":_vm.onSelect},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.loading ? _vm.labelSelectLoading : _vm.labelSelect)+\"\\n\\t\\t\\t\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=script&lang=js&\"","<template>\n\t<Modal @close=\"onClose\">\n\t\t<div ref=\"content\" class=\"modal-content\">\n\t\t\t<h2 class=\"oc-dialog-title\">\n\t\t\t\t{{ t('mail', 'Choose target mailbox') }}\n\t\t\t</h2>\n\t\t\t<span class=\"crumbs\">\n\t\t\t\t<div @click.prevent=\"onClickHome\">\n\t\t\t\t\t<IconInbox :size=\"20\" />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(box, index) in mailboxCrumbs\"\n\t\t\t\t\t:key=\"box.databaseId\"\n\t\t\t\t\tclass=\"level\">\n\t\t\t\t\t<IconBreadcrumb :size=\"20\" />\n\t\t\t\t\t<a @click.prevent=\"onClickCrumb(index)\">\n\t\t\t\t\t\t{{ getMailboxTitle(box) }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<div class=\"mailbox-list\">\n\t\t\t\t<ul v-if=\"filteredMailboxes.length > 0\">\n\t\t\t\t\t<li\n\t\t\t\t\t\tv-for=\"box in filteredMailboxes \"\n\t\t\t\t\t\t:key=\"box.databaseId\"\n\t\t\t\t\t\t@click.prevent=\"onClickMailbox(box)\">\n\t\t\t\t\t\t<IconInbox v-if=\"box.specialRole === 'inbox'\" :size=\"20\" />\n\t\t\t\t\t\t<IconDraft\n\t\t\t\t\t\t\tv-else-if=\"box.specialRole === 'drafts'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconSent\n\t\t\t\t\t\t\tv-else-if=\"box.specialRole === 'sent'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconArchive\n\t\t\t\t\t\t\tv-else-if=\"box.specialRole === 'archive'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconTrash\n\t\t\t\t\t\t\tv-else-if=\"box.specialRole === 'trash'\"\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<IconFolder v-else\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t\t<div class=\"mailbox-title\">\n\t\t\t\t\t\t\t{{ getMailboxTitle(box) }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<IconFolder v-else :size=\"65\" />\n\t\t\t\t<div class=\"empty-icon empty\" />\n\t\t\t\t<h2>{{ t('mail', 'No more submailboxes in here') }}</h2>\n\t\t\t</div>\n\t\t\t<div class=\"buttons\">\n\t\t\t\t<ButtonVue type=\"primary\" :disabled=\"loading || (!allowRoot && !selectedMailboxId)\" @click=\"onSelect\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ loading ? labelSelectLoading : labelSelect }}\n\t\t\t\t</ButtonVue>\n\t\t\t</div>\n\t\t</div>\n\t</Modal>\n</template>\n<script>\nimport { NcModal as Modal, NcLoadingIcon as IconLoading, NcButton as ButtonVue } from '@nextcloud/vue'\nimport IconBreadcrumb from 'vue-material-design-icons/ChevronRight'\nimport IconInbox from 'vue-material-design-icons/Home'\nimport IconDraft from 'vue-material-design-icons/Pencil'\nimport IconSent from 'vue-material-design-icons/Send'\nimport IconArchive from 'vue-material-design-icons/PackageDown'\nimport IconTrash from 'vue-material-design-icons/Delete'\nimport IconFolder from 'vue-material-design-icons/Folder'\n\nimport { translate as t } from '@nextcloud/l10n'\nimport { translate as translateMailboxName } from '../i18n/MailboxTranslator'\n\nexport default {\n\tname: 'MailboxPicker',\n\tcomponents: {\n\t\tButtonVue,\n\t\tModal,\n\t\tIconInbox,\n\t\tIconDraft,\n\t\tIconSent,\n\t\tIconArchive,\n\t\tIconTrash,\n\t\tIconFolder,\n\t\tIconBreadcrumb,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tselected: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: undefined,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tlabelSelect: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Choose'),\n\t\t},\n\t\tlabelSelectLoading: {\n\t\t\ttype: String,\n\t\t\tdefault: t('mail', 'Choose'),\n\t\t},\n\t\tpickedMailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tallowRoot: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselectedMailboxId: undefined,\n\t\t\tmailboxCrumbs: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tmailboxes() {\n\t\t\tif (!this.selectedMailboxId) {\n\t\t\t\treturn this.$store.getters.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\treturn this.$store.getters.getSubMailboxes(this.selectedMailboxId)\n\t\t\t}\n\t\t},\n\t\tfilteredMailboxes() {\n\t\t\tif (this.pickedMailbox) {\n\t\t\t\treturn this.mailboxes.filter(mailbox => mailbox.databaseId !== this.pickedMailbox.databaseId)\n\t\t\t}\n\t\t\treturn this.mailboxes\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxIcon(mailbox) {\n\t\t\treturn mailbox.specialRole ? 'icon-' + mailbox.specialRole : 'icon-folder'\n\t\t},\n\t\tgetMailboxTitle(mailbox) {\n\t\t\treturn translateMailboxName(mailbox)\n\t\t},\n\t\tonClickHome() {\n\t\t\tthis.selectedMailboxId = undefined\n\t\t\tthis.$emit('update:selected', undefined)\n\t\t\tthis.mailboxCrumbs = []\n\t\t},\n\t\tonClickCrumb(index) {\n\t\t\tthis.selectedMailboxId = this.mailboxCrumbs[index].databaseId\n\t\t\tthis.$emit('update:selected', this.selectedMailboxId)\n\t\t\tthis.mailboxCrumbs = this.mailboxCrumbs.slice(0, index + 1)\n\t\t},\n\t\tonClickMailbox(mailbox) {\n\t\t\tthis.selectedMailboxId = mailbox.databaseId\n\t\t\tthis.$emit('update:selected', this.selectedMailboxId)\n\t\t\tthis.mailboxCrumbs.push(mailbox)\n\t\t},\n\t\tonSelect() {\n\t\t\tthis.$emit('select', this.selectedMailboxId)\n\t\t},\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-container) {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 600px !important;\n\tmax-height: 500px !important;\n}\n\n.modal-content {\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\tflex-direction: column;\n\tpadding: 15px;\n}\n\n.crumbs {\n\tdisplay: inline-flex;\n\tpadding-right: 0px;\n\tflex-wrap: wrap;\n\n\t.level {\n\t\tdisplay: inline-flex;\n\t\theight: 44px;\n\t\tmin-width: 0px;\n\t\tflex: 0 0 auto;\n\t\torder: 1;\n\t\tpadding-right: 7px;\n\t\tbackground-position: right center;\n\t\tbackground-size: auto 24px;\n\t\tmargin-top: -10px;\n\t}\n\n\ta {\n\t\tposition: relative;\n\t\tpadding: 12px;\n\t\topacity: 0.5;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\tflex: 0 0 auto;\n\t\tmin-width: 0px;\n\t\tmax-width: 200px;\n\n\t\t&:hover {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\n\ta.icon-home {\n\t\twidth: 0px;\n\t\tbackground-position: left center;\n\t}\n}\n\n.mailbox-list {\n\tdisplay: inline-block;\n\twidth: 100%;\n\theight: 100%;\n\toverflow-y: auto;\n\tflex: 1;\n\n\tli {\n\t\tdisplay: flex;\n\t\tcursor: pointer;\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\th2 {\n\t\twidth: 100%;\n\t\tcolor: var(--color-text-maxcontrast);\n\t\ttext-align: center;\n\t\tmargin-top: 80px;\n\t\topacity: 0.4;\n\t\tbackground-size: 64px;\n\t\theight: 64px;\n\t}\n\n\t.mailbox-icon {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tpadding: 14px;\n\t\topacity: 0.9;\n\t\tbackground-size: 24px;\n\t}\n\n\t.mailbox-title {\n\t\tpadding: 14px 14px 14px 0;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n.buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding-top: 10px;\n\n\t.spinner {\n\t\tmargin-right: 5px;\n\t}\n}\n.material-design-icon {\n\topacity: .7;\n\tmargin-right: 6px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=style&index=0&id=14f08174&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxPicker.vue?vue&type=style&index=0&id=14f08174&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MailboxPicker.vue?vue&type=template&id=14f08174&scoped=true&\"\nimport script from \"./MailboxPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./MailboxPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MailboxPicker.vue?vue&type=style&index=0&id=14f08174&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14f08174\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigation',{scopedSlots:_vm._u([{key:\"list\",fn:function(){return [_vm._l((_vm.unifiedMailboxes),function(mailbox){return _c('NavigationMailbox',{key:'mailbox-' + mailbox.databaseId,attrs:{\"account\":_vm.unifiedAccount,\"mailbox\":mailbox}})}),_vm._v(\" \"),_c('NavigationOutbox'),_vm._v(\" \"),_c('AppNavigationSpacer'),_vm._v(\" \"),_vm._l((_vm.menu),function(group){return [(group.account)?_c('NavigationAccount',{key:group.account.id,attrs:{\"account\":group.account,\"first-mailbox\":group.mailboxes[0],\"is-first\":_vm.isFirst(group.account),\"is-last\":_vm.isLast(group.account),\"is-disabled\":_vm.isDisabled(group.account)}}):_vm._e(),_vm._v(\" \"),(!_vm.isDisabled(group.account))?[_vm._l((group.mailboxes),function(item){return [_c('NavigationMailbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n\t\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t\t!_vm.isCollapsed(group.account, item)\n\t\t\t\t\t\t),expression:\"\\n\\t\\t\\t\\t\\t\\t\\t!group.isCollapsible ||\\n\\t\\t\\t\\t\\t\\t\\t\\t!group.account.collapsed ||\\n\\t\\t\\t\\t\\t\\t\\t\\t!isCollapsed(group.account, item)\\n\\t\\t\\t\\t\\t\\t\"}],key:'mailbox-' + item.databaseId,attrs:{\"account\":group.account,\"mailbox\":item}}),_vm._v(\" \"),(!group.account.isUnified && item.specialRole === 'inbox')?_c('NavigationMailbox',{key:item.databaseId + '-starred',attrs:{\"account\":group.account,\"mailbox\":item,\"filter\":\"starred\"}}):_vm._e()]}),_vm._v(\" \"),(!group.account.isUnified && group.isCollapsible)?_c('NavigationAccountExpandCollapse',{key:'collapse-' + group.account.id,attrs:{\"account\":group.account}}):_vm._e(),_vm._v(\" \"),_c('AppNavigationSpacer',{key:'spacer-' + group.account.id})]:_vm._e()]})]},proxy:true},{key:\"footer\",fn:function(){return [_c('AppNavigationSettings',{attrs:{\"title\":_vm.t('mail', 'Mail settings')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconSetting',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\" \"),_c('AppSettingsMenu')],1)]},proxy:true}])},[_c('NewMessageButtonHeader')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"header\">\n\t\t<Button\n\t\t\ttype=\"primary\"\n\t\t\tclass=\"new-message-button\"\n\t\t\t:disabled=\"$store.getters.showMessageComposer\"\n\t\t\tbutton-id=\"mail_new_message\"\n\t\t\trole=\"complementary\"\n\t\t\t:wide=\"true\"\n\t\t\t@click=\"onNewMessage\">\n\t\t\t<template #icon>\n\t\t\t\t<IconAdd\n\t\t\t\t\t:size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'New message') }}\n\t\t</Button>\n\t\t<Button v-if=\"currentMailbox\"\n\t\t\ttype=\"tertiary-no-background\"\n\t\t\tclass=\"refresh__button\"\n\t\t\t:disabled=\"refreshing\"\n\t\t\t@click=\"refreshMailbox\">\n\t\t\t<template #icon>\n\t\t\t\t<IconRefresh v-if=\"!refreshing\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconLoading v-if=\"refreshing\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t</template>\n\t\t</Button>\n\t</div>\n</template>\n\n<script>\nimport { NcButton as Button } from '@nextcloud/vue'\nimport IconAdd from 'vue-material-design-icons/Plus'\nimport IconRefresh from 'vue-material-design-icons/Refresh'\nimport IconLoading from '@nextcloud/vue/dist/Components/NcLoadingIcon'\nimport logger from '../logger'\n\nexport default {\n\tname: 'NewMessageButtonHeader',\n\tcomponents: {\n\t\tButton,\n\t\tIconAdd,\n\t\tIconRefresh,\n\t\tIconLoading,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trefreshing: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tcurrentMailbox() {\n\t\t\tif (this.$route.name === 'message' || this.$route.name === 'mailbox') {\n\t\t\t\treturn this.$store.getters.getMailbox(this.$route.params.mailboxId)\n\t\t\t}\n\t\t\treturn undefined\n\t\t},\n\t},\n\tmethods: {\n\t\tasync refreshMailbox() {\n\t\t\tif (this.refreshing === true) {\n\t\t\t\tlogger.debug('already sync\\'ing mailbox.. aborting')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.refreshing = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('syncEnvelopes', { mailboxId: this.currentMailbox.databaseId })\n\t\t\t\tlogger.debug('Current mailbox is sync\\'ing ')\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not sync current mailbox', { error })\n\t\t\t} finally {\n\t\t\t\tthis.refreshing = false\n\t\t\t}\n\t\t},\n\t\tonNewMessage() {\n\t\t\tthis.$store.dispatch('showMessageComposer', {\n\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: calc(var(--default-grid-baseline, 4px) * 2);\n\tgap: 4px;\n\theight: 61px;\n}\n.refresh__button {\n\tbackground-color: transparent;\n}\n.new-message-button {\n\tbackground-image: var(--gradient-primary-background);\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=style&index=0&id=212fef3d&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewMessageButtonHeader.vue?vue&type=style&index=0&id=212fef3d&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NewMessageButtonHeader.vue?vue&type=template&id=212fef3d&scoped=true&\"\nimport script from \"./NewMessageButtonHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./NewMessageButtonHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewMessageButtonHeader.vue?vue&type=style&index=0&id=212fef3d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"212fef3d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('Button',{staticClass:\"new-message-button\",attrs:{\"type\":\"primary\",\"disabled\":_vm.$store.getters.showMessageComposer,\"button-id\":\"mail_new_message\",\"role\":\"complementary\",\"wide\":true},on:{\"click\":_vm.onNewMessage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconAdd',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'New message'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.currentMailbox)?_c('Button',{staticClass:\"refresh__button\",attrs:{\"type\":\"tertiary-no-background\",\"disabled\":_vm.refreshing},on:{\"click\":_vm.refreshMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.refreshing)?_c('IconRefresh',{attrs:{\"size\":20}}):_vm._e(),_vm._v(\" \"),(_vm.refreshing)?_c('IconLoading',{attrs:{\"size\":20}}):_vm._e()]},proxy:true}],null,false,2669673868)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorSettings.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div>\n\t\t<p>\n\t\t\t<input id=\"plaintext\"\n\t\t\t\tv-model=\"mode\"\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclass=\"radio\"\n\t\t\t\tvalue=\"plaintext\">\n\t\t\t<label :class=\"{primary: mode === 'plaintext'}\" for=\"plaintext\">\n\t\t\t\t{{ t('mail', 'Plain text') }}\n\t\t\t</label>\n\t\t\t<input id=\"richtext\"\n\t\t\t\tv-model=\"mode\"\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclass=\"radio\"\n\t\t\t\tvalue=\"richtext\">\n\t\t\t<label :class=\"{primary: mode === 'richtext'}\" for=\"richtext\">\n\t\t\t\t{{ t('mail', 'Rich text') }}\n\t\t\t</label>\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport Logger from '../logger'\n\nexport default {\n\tname: 'EditorSettings',\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmode: this.account.editorMode,\n\t\t}\n\t},\n\twatch: {\n\t\tmode(val, oldVal) {\n\t\t\tthis.$store\n\t\t\t\t.dispatch('patchAccount', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\teditorMode: val,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tLogger.info('editor mode updated')\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tLogger.error('could not update editor mode', { error })\n\t\t\t\t\tthis.editorMode = oldVal\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\nlabel {\n\tpadding-right: 12px;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorSettings.vue?vue&type=style&index=0&id=2a4cf7ad&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorSettings.vue?vue&type=style&index=0&id=2a4cf7ad&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EditorSettings.vue?vue&type=template&id=2a4cf7ad&scoped=true&\"\nimport script from \"./EditorSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditorSettings.vue?vue&type=style&index=0&id=2a4cf7ad&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a4cf7ad\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode),expression:\"mode\"}],staticClass:\"radio\",attrs:{\"id\":\"plaintext\",\"type\":\"radio\",\"value\":\"plaintext\"},domProps:{\"checked\":_vm._q(_vm.mode,\"plaintext\")},on:{\"change\":function($event){_vm.mode=\"plaintext\"}}}),_vm._v(\" \"),_c('label',{class:{primary: _vm.mode === 'plaintext'},attrs:{\"for\":\"plaintext\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Plain text'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode),expression:\"mode\"}],staticClass:\"radio\",attrs:{\"id\":\"richtext\",\"type\":\"radio\",\"value\":\"richtext\"},domProps:{\"checked\":_vm._q(_vm.mode,\"richtext\")},on:{\"change\":function($event){_vm.mode=\"richtext\"}}}),_vm._v(\" \"),_c('label',{class:{primary: _vm.mode === 'richtext'},attrs:{\"for\":\"richtext\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Rich text'))+\"\\n\\t\\t\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxInlinePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxInlinePicker.vue?vue&type=script&lang=js&\"","<template>\n\t<Treeselect\n\t\tref=\"Treeselect\"\n\t\tv-model=\"selected\"\n\t\t:options=\"mailboxes\"\n\t\t:multiple=\"false\"\n\t\t:clearable=\"false\"\n\t\t:disabled=\"disabled\" />\n</template>\n<script>\nimport Treeselect from '@riophae/vue-treeselect'\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\n\nexport default {\n\tname: 'MailboxInlinePicker',\n\tcomponents: {\n\t\tTreeselect,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Number,\n\t\t\tdefault: undefined,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: this.value,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmailboxes() {\n\t\t\treturn this.getMailboxes()\n\t\t},\n\t},\n\twatch: {\n\t\tselected(val) {\n\t\t\tif (val !== this.value) {\n\t\t\t\tthis.$emit('input', val)\n\t\t\t\tthis.selected = val\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxes(mailboxId) {\n\t\t\tlet mailboxes = []\n\t\t\tif (!mailboxId) {\n\t\t\t\tmailboxes = this.$store.getters.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\tmailboxes = this.$store.getters.getSubMailboxes(mailboxId)\n\t\t\t}\n\t\t\treturn mailboxes.map((mailbox) => {\n\t\t\t\t return {\n\t\t\t\t\tid: mailbox.databaseId,\n\t\t\t\t\tlabel: mailbox.displayName,\n\t\t\t\t\tchildren: mailbox.mailboxes.length > 0 ? this.getMailboxes(mailbox.databaseId) : '',\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n<style>\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n\tbackground-color: var(--color-main-background)\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n.vue-treeselect__menu {\n\tbackground: var(--color-main-background);\n}\n.vue-treeselect--single .vue-treeselect__option--selected {\n\tbackground: var(--color-primary-light);\n\tborder-radius: var(--border-radius-large);\n}\n.vue-treeselect__option.vue-treeselect__option--highlight,\n.vue-treeselect__option:hover,\n.vue-treeselect__option:focus {\n\tborder-radius: var(--border-radius-large);\n\t}\n.vue-treeselect__placeholder, .vue-treeselect__single-value {\n\tline-height: 44px;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxInlinePicker.vue?vue&type=style&index=0&id=2b97e125&prod&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailboxInlinePicker.vue?vue&type=style&index=0&id=2b97e125&prod&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","<!--\n  - @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div>\n\t\t<p>\n\t\t\t{{ t('mail', 'Drafts are saved in:') }}\n\t\t</p>\n\t\t<MailboxInlinePicker v-model=\"draftsMailbox\" :account=\"account\" :disabled=\"saving\" />\n\n\t\t<p>\n\t\t\t{{ t('mail', 'Sent messages are saved in:') }}\n\t\t</p>\n\n\t\t<MailboxInlinePicker v-model=\"sentMailbox\" :account=\"account\" :disabled=\"saving\" />\n\t\t<p>\n\t\t\t{{ t('mail', 'Deleted messages are moved in:') }}\n\t\t</p>\n\n\t\t<MailboxInlinePicker v-model=\"trashMailbox\" :account=\"account\" :disabled=\"saving\" />\n\t\t<p>\n\t\t\t{{ t('mail', 'Archived messages are moved in:') }}\n\t\t</p>\n\n\t\t<MailboxInlinePicker v-model=\"archiveMailbox\" :account=\"account\" :disabled=\"saving\" />\n\t</div>\n</template>\n\n<script>\nimport logger from '../logger'\nimport MailboxInlinePicker from './MailboxInlinePicker'\n\nexport default {\n\tname: 'AccountDefaultsSettings',\n\tcomponents: {\n\t\tMailboxInlinePicker,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsaving: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tdraftsMailbox: {\n\t\t\tget() {\n\t\t\t\tconst mb = this.$store.getters.getMailbox(this.account.draftsMailboxId)\n\t\t\t\tif (!mb) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\treturn mb.databaseId\n\t\t\t},\n\t\t\tasync set(draftsMailboxId) {\n\t\t\t\tlogger.debug('setting drafts mailbox to ' + draftsMailboxId)\n\t\t\t\tthis.saving = true\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('patchAccount', {\n\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tdraftsMailboxId,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not set drafts mailbox', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.saving = false\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tsentMailbox: {\n\t\t\tget() {\n\t\t\t\tconst mb = this.$store.getters.getMailbox(this.account.sentMailboxId)\n\t\t\t\tif (!mb) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\treturn mb.databaseId\n\t\t\t},\n\t\t\tasync set(sentMailboxId) {\n\t\t\t\tlogger.debug('setting sent mailbox to ' + sentMailboxId)\n\t\t\t\tthis.saving = true\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('patchAccount', {\n\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tsentMailboxId,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not set sent mailbox', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.saving = false\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\ttrashMailbox: {\n\t\t\tget() {\n\t\t\t\tconst mb = this.$store.getters.getMailbox(this.account.trashMailboxId)\n\t\t\t\tif (!mb) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\treturn mb.databaseId\n\t\t\t},\n\t\t\tasync set(trashMailboxId) {\n\t\t\t\tlogger.debug('setting trash mailbox to ' + trashMailboxId)\n\t\t\t\tthis.saving = true\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('patchAccount', {\n\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttrashMailboxId,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not set trash mailbox', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.saving = false\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tarchiveMailbox: {\n\t\t\tget() {\n\t\t\t\tconst mb = this.$store.getters.getMailbox(this.account.archiveMailboxId)\n\t\t\t\tif (!mb) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\treturn mb.databaseId\n\t\t\t},\n\t\t\tasync set(archiveMailboxId) {\n\t\t\t\tlogger.debug('setting archive mailbox to ' + archiveMailboxId)\n\t\t\t\tthis.saving = true\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('patchAccount', {\n\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tarchiveMailboxId,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not set archive mailbox', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.saving = false\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.button.icon-rename {\n\tbackground-color: transparent;\n\tborder: none;\n\topacity: 0.3;\n\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountDefaultsSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountDefaultsSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MailboxInlinePicker.vue?vue&type=template&id=2b97e125&\"\nimport script from \"./MailboxInlinePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./MailboxInlinePicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MailboxInlinePicker.vue?vue&type=style&index=0&id=2b97e125&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Treeselect',{ref:\"Treeselect\",attrs:{\"options\":_vm.mailboxes,\"multiple\":false,\"clearable\":false,\"disabled\":_vm.disabled},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountDefaultsSettings.vue?vue&type=style&index=0&id=e90324b0&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountDefaultsSettings.vue?vue&type=style&index=0&id=e90324b0&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AccountDefaultsSettings.vue?vue&type=template&id=e90324b0&scoped=true&\"\nimport script from \"./AccountDefaultsSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountDefaultsSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountDefaultsSettings.vue?vue&type=style&index=0&id=e90324b0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e90324b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Drafts are saved in:'))+\"\\n\\t\")]),_vm._v(\" \"),_c('MailboxInlinePicker',{attrs:{\"account\":_vm.account,\"disabled\":_vm.saving},model:{value:(_vm.draftsMailbox),callback:function ($$v) {_vm.draftsMailbox=$$v},expression:\"draftsMailbox\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Sent messages are saved in:'))+\"\\n\\t\")]),_vm._v(\" \"),_c('MailboxInlinePicker',{attrs:{\"account\":_vm.account,\"disabled\":_vm.saving},model:{value:(_vm.sentMailbox),callback:function ($$v) {_vm.sentMailbox=$$v},expression:\"sentMailbox\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Deleted messages are moved in:'))+\"\\n\\t\")]),_vm._v(\" \"),_c('MailboxInlinePicker',{attrs:{\"account\":_vm.account,\"disabled\":_vm.saving},model:{value:(_vm.trashMailbox),callback:function ($$v) {_vm.trashMailbox=$$v},expression:\"trashMailbox\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Archived messages are moved in:'))+\"\\n\\t\")]),_vm._v(\" \"),_c('MailboxInlinePicker',{attrs:{\"account\":_vm.account,\"disabled\":_vm.saving},model:{value:(_vm.archiveMailbox),callback:function ($$v) {_vm.archiveMailbox=$$v},expression:\"archiveMailbox\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div class=\"section\">\n\t\t<div>\n\t\t\t<input\n\t\t\t\tid=\"signature-above-quote-toggle\"\n\t\t\t\tv-model=\"signatureAboveQuote\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tclass=\"checkbox\">\n\t\t\t<label for=\"signature-above-quote-toggle\">\n\t\t\t\t{{ t(\"mail\", \"Place signature above quoted text\") }}\n\t\t\t</label>\n\t\t</div>\n\t\t<Multiselect\n\t\t\tv-if=\"identities.length > 1\"\n\t\t\t:allow-empty=\"false\"\n\t\t\t:options=\"identities\"\n\t\t\t:searchable=\"false\"\n\t\t\t:value=\"identity\"\n\t\t\tlabel=\"label\"\n\t\t\ttrack-by=\"id\"\n\t\t\t@select=\"changeIdentity\" />\n\t\t<TextEditor\n\t\t\tv-model=\"signature\"\n\t\t\t:html=\"true\"\n\t\t\t:placeholder=\"t('mail', 'Signature …')\"\n\t\t\t:bus=\"bus\" />\n\t\t<p v-if=\"isLargeSignature\" class=\"warning-large-signature\">\n\t\t\t{{ t('mail', 'Your signature is larger than 2 MB. This may affect the performance of your editor.') }}\n\t\t</p>\n\t\t<ButtonVue\n\t\t\ttype=\"primary\"\n\t\t\t:disabled=\"loading\"\n\t\t\t@click=\"saveSignature\">\n\t\t\t<template #icon>\n\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" fill-color=\"white\" />\n\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Save signature') }}\n\t\t</ButtonVue>\n\t\t<ButtonVue v-if=\"signature\"\n\t\t\ttype=\"tertiary-no-background\"\n\t\t\tclass=\"button-text\"\n\t\t\t@click=\"deleteSignature\">\n\t\t\t{{ t('mail', 'Delete') }}\n\t\t</ButtonVue>\n\t</div>\n</template>\n\n<script>\nimport logger from '../logger'\nimport TextEditor from './TextEditor'\nimport { detect, toHtml } from '../util/text'\nimport Vue from 'vue'\n\nimport { NcMultiselect as Multiselect, NcButton as ButtonVue, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconCheck from 'vue-material-design-icons/Check'\n\nexport default {\n\tname: 'SignatureSettings',\n\tcomponents: {\n\t\tTextEditor,\n\t\tMultiselect,\n\t\tButtonVue,\n\t\tIconLoading,\n\t\tIconCheck,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tbus: new Vue(),\n\t\t\tidentity: null,\n\t\t\tsignature: '',\n\t\t\tsignatureAboveQuote: this.account.signatureAboveQuote,\n\t\t}\n\t},\n\tcomputed: {\n\t\tidentities() {\n\t\t\tconst identities = this.account.aliases.map((alias) => {\n\t\t\t\treturn {\n\t\t\t\t\tid: alias.id,\n\t\t\t\t\tlabel: alias.name + ' (' + alias.alias + ')',\n\t\t\t\t\tsignature: alias.signature,\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tidentities.unshift({\n\t\t\t\tid: -1,\n\t\t\t\tlabel: this.account.name + ' (' + this.account.emailAddress + ')',\n\t\t\t\tsignature: this.account.signature,\n\t\t\t})\n\n\t\t\treturn identities\n\t\t},\n\t\tisLargeSignature() {\n\t\t\treturn (new Blob([this.signature])).size > 2 * 1024 * 1024\n\t\t},\n\t},\n\twatch: {\n\t\tasync signatureAboveQuote(val, oldVal) {\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('patchAccount', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsignatureAboveQuote: val,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tlogger.debug('signature above quoted updated to ' + val)\n\t\t\t} catch (e) {\n\t\t\t\tlogger.error('could not update signature above quote', { e })\n\t\t\t\tthis.signatureAboveQuote = oldVal\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.changeIdentity(this.identities[0])\n\t},\n\tmethods: {\n\t\tchangeIdentity(identity) {\n\t\t\tlogger.debug('select identity', { identity })\n\t\t\tthis.identity = identity\n\t\t\tthis.signature = identity.signature\n\t\t\t\t? toHtml(detect(identity.signature)).value\n\t\t\t\t: ''\n\t\t},\n\t\tasync deleteSignature() {\n\t\t\tthis.signature = null\n\t\t\tawait this.saveSignature()\n\t\t},\n\t\tasync saveSignature() {\n\t\t\tthis.loading = true\n\n\t\t\tlet dispatchType = 'updateAccountSignature'\n\t\t\tconst payload = {\n\t\t\t\taccount: this.account,\n\t\t\t\tsignature: this.signature,\n\t\t\t}\n\n\t\t\tif (this.identity.id > -1) {\n\t\t\t\tdispatchType = 'updateAliasSignature'\n\t\t\t\tpayload.aliasId = this.identity.id\n\t\t\t}\n\n\t\t\treturn this.$store\n\t\t\t\t.dispatch(dispatchType, payload)\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.info('signature updated')\n\t\t\t\t\tthis.loading = false\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('could not update account signature', { error })\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ck.ck-editor__editable_inline {\n  width: 100%;\n  max-width: 78vw;\n  height: 100%;\n  min-height: 100px;\n  border-radius: var(--border-radius) !important;\n  border: 1px solid var(--color-border) !important;\n  box-shadow: none !important;\n}\n\n.primary {\n  padding-left: 26px;\n  background-position: 6px;\n  color: var(--color-main-background);\n\n  &:after {\n    left: 14px;\n  }\n}\n\n.button-text {\n  background-color: transparent;\n  border: none;\n  color: var(--color-text-maxcontrast);\n  font-weight: normal;\n\n  &:hover,\n  &:focus {\n    color: var(--color-main-text);\n  }\n}\n.section {\n  display: block;\n  padding: 0;\n  margin-bottom: 23px;\n}\n.multiselect--single {\n  width: 100%;\n}\n.ck-balloon-panel {\n\t z-index: 10000 !important;\n }\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n.warning-large-signature {\n\tcolor: darkorange;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureSettings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureSettings.vue?vue&type=style&index=0&id=389ef109&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureSettings.vue?vue&type=style&index=0&id=389ef109&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SignatureSettings.vue?vue&type=template&id=389ef109&scoped=true&\"\nimport script from \"./SignatureSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./SignatureSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignatureSettings.vue?vue&type=style&index=0&id=389ef109&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"389ef109\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section\"},[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.signatureAboveQuote),expression:\"signatureAboveQuote\"}],staticClass:\"checkbox\",attrs:{\"id\":\"signature-above-quote-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.signatureAboveQuote)?_vm._i(_vm.signatureAboveQuote,null)>-1:(_vm.signatureAboveQuote)},on:{\"change\":function($event){var $$a=_vm.signatureAboveQuote,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.signatureAboveQuote=$$a.concat([$$v]))}else{$$i>-1&&(_vm.signatureAboveQuote=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.signatureAboveQuote=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"signature-above-quote-toggle\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t(\"mail\", \"Place signature above quoted text\"))+\"\\n\\t\\t\")])]),_vm._v(\" \"),(_vm.identities.length > 1)?_c('Multiselect',{attrs:{\"allow-empty\":false,\"options\":_vm.identities,\"searchable\":false,\"value\":_vm.identity,\"label\":\"label\",\"track-by\":\"id\"},on:{\"select\":_vm.changeIdentity}}):_vm._e(),_vm._v(\" \"),_c('TextEditor',{attrs:{\"html\":true,\"placeholder\":_vm.t('mail', 'Signature …'),\"bus\":_vm.bus},model:{value:(_vm.signature),callback:function ($$v) {_vm.signature=$$v},expression:\"signature\"}}),_vm._v(\" \"),(_vm.isLargeSignature)?_c('p',{staticClass:\"warning-large-signature\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Your signature is larger than 2 MB. This may affect the performance of your editor.'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.saveSignature},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20,\"fill-color\":\"white\"}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Save signature'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.signature)?_c('ButtonVue',{staticClass:\"button-text\",attrs:{\"type\":\"tertiary-no-background\"},on:{\"click\":_vm.deleteSignature}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Delete'))+\"\\n\\t\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2021 Daniel Kesselberg <mail@danielkesselberg.de>\n  -\n  - @author 2021 Daniel Kesselberg <mail@danielkesselberg.de>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div>\n\t\t<form v-if=\"showForm\" class=\"alias-form\" @submit.prevent=\"updateAlias\">\n\t\t\t<div>\n\t\t\t\t<input v-model=\"changeName\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\trequired>\n\t\t\t\t<input v-model=\"changeAlias\"\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t:disabled=\"alias.provisioned\"\n\t\t\t\t\trequired>\n\t\t\t</div>\n\t\t\t<div class=\"button-group\">\n\t\t\t\t<ButtonVue\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\tnative-type=\"submit\"\n\t\t\t\t\t:title=\"t('mail', 'Update alias')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</ButtonVue>\n\t\t\t</div>\n\t\t</form>\n\t\t<div v-else class=\"alias-item\">\n\t\t\t<p><strong>{{ alias.name }}</strong> &lt;{{ alias.alias }}&gt;</p>\n\t\t\t<div class=\"button-group\">\n\t\t\t\t<ButtonVue\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:title=\"t('mail', 'Show update alias form')\"\n\t\t\t\t\t@click=\"showForm = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconRename :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</ButtonVue>\n\t\t\t\t<ButtonVue v-if=\"!alias.provisioned\"\n\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t:title=\"t('mail', 'Delete alias')\"\n\t\t\t\t\t@click=\"deleteAlias\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t\t<IconDelete v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</ButtonVue>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport logger from '../logger'\nimport { NcButton as ButtonVue, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconDelete from 'vue-material-design-icons/Delete'\nimport IconRename from 'vue-material-design-icons/Pencil'\nimport IconCheck from 'vue-material-design-icons/Check'\nexport default {\n\tname: 'AliasForm',\n\tcomponents: {\n\t\tButtonVue,\n\t\tIconRename,\n\t\tIconLoading,\n\t\tIconDelete,\n\t\tIconCheck,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\talias: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tchangeAlias: this.alias.alias,\n\t\t\tchangeName: this.alias.name,\n\t\t\tshowForm: false,\n\t\t\tloading: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tasync updateAlias(e) {\n\t\t\tthis.loading = true\n\n\t\t\tawait this.$store.dispatch('updateAlias', {\n\t\t\t\taccount: this.account,\n\t\t\t\taliasId: this.alias.id,\n\t\t\t\talias: this.changeAlias,\n\t\t\t\tname: this.changeName,\n\t\t\t})\n\n\t\t\tlogger.debug('updated alias', {\n\t\t\t\taccountId: this.account.id,\n\t\t\t\taliasId: this.alias.id,\n\t\t\t\talias: this.changeAlias,\n\t\t\t\tname: this.changeName,\n\t\t\t})\n\n\t\t\tthis.showForm = false\n\t\t\tthis.loading = false\n\t\t},\n\t\tasync deleteAlias() {\n\t\t\tthis.loading = true\n\n\t\t\tawait this.$store.dispatch('deleteAlias', {\n\t\t\t\taccount: this.account,\n\t\t\t\taliasId: this.alias.id,\n\t\t\t})\n\n\t\t\tlogger.debug('deleted alias', {\n\t\t\t\taccountId: this.account.id,\n\t\t\t\taliasId: this.alias.id,\n\t\t\t\talias: this.alias.alias,\n\t\t\t\tname: this.alias.name,\n\t\t\t})\n\n\t\t\tthis.showForm = false\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.alias-form, .alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.button-group {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.icon {\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\n\t&:hover, &:focus {\n\t\topacity: 1;\n\t}\n}\n\n.icon-checkmark {\n\tbackground-image: var(--icon-checkmark-000);\n}\n\n.icon-delete {\n\tbackground-image: var(--icon-delete-000);\n}\n\n.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasForm.vue?vue&type=style&index=0&id=d0a75566&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasForm.vue?vue&type=style&index=0&id=d0a75566&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AliasForm.vue?vue&type=template&id=d0a75566&scoped=true&\"\nimport script from \"./AliasForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AliasForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AliasForm.vue?vue&type=style&index=0&id=d0a75566&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0a75566\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.showForm)?_c('form',{staticClass:\"alias-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.updateAlias.apply(null, arguments)}}},[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.changeName),expression:\"changeName\"}],attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.changeName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.changeName=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.changeAlias),expression:\"changeAlias\"}],attrs:{\"type\":\"email\",\"disabled\":_vm.alias.provisioned,\"required\":\"\"},domProps:{\"value\":(_vm.changeAlias)},on:{\"input\":function($event){if($event.target.composing)return;_vm.changeAlias=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"button-group\"},[_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"native-type\":\"submit\",\"title\":_vm.t('mail', 'Update alias')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}],null,false,4145190044)})],1)]):_c('div',{staticClass:\"alias-item\"},[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.alias.name))]),_vm._v(\" <\"+_vm._s(_vm.alias.alias)+\">\")]),_vm._v(\" \"),_c('div',{staticClass:\"button-group\"},[_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"title\":_vm.t('mail', 'Show update alias form')},on:{\"click\":function($event){_vm.showForm = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconRename',{attrs:{\"size\":20}})]},proxy:true}])}),_vm._v(\" \"),(!_vm.alias.provisioned)?_c('ButtonVue',{attrs:{\"type\":\"tertiary-no-background\",\"title\":_vm.t('mail', 'Delete alias')},on:{\"click\":_vm.deleteAlias},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconDelete',{attrs:{\"size\":20}})]},proxy:true}],null,false,1111346051)}):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2020 Patrick Bender <patrick@bender-it-services.de>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div>\n\t\t<ul class=\"aliases-list\">\n\t\t\t<li v-for=\"alias in aliases\" :key=\"alias.id\">\n\t\t\t\t<AliasForm :account=\"account\" :alias=\"alias\" />\n\t\t\t</li>\n\t\t\t<li v-if=\"showForm\">\n\t\t\t\t<form id=\"createAliasForm\" @submit.prevent=\"createAlias\">\n\t\t\t\t\t<input v-model=\"newName\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:placeholder=\"t('mail', 'Name')\"\n\t\t\t\t\t\trequired>\n\t\t\t\t\t<input v-model=\"newAlias\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t:placeholder=\"t('mail', 'Email address')\"\n\t\t\t\t\t\trequired>\n\t\t\t\t</form>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<div v-if=\"!account.provisioningId\">\n\t\t\t<ButtonVue v-if=\"!showForm\" type=\"primary\" @click=\"showForm = true\">\n\t\t\t\t{{ t('mail', 'Add alias') }}\n\t\t\t</ButtonVue>\n\n\t\t\t<ButtonVue v-if=\"showForm\"\n\t\t\t\tnative-type=\"submit\"\n\t\t\t\ttype=\"primary\"\n\t\t\t\tform=\"createAliasForm\"\n\t\t\t\t:disabled=\"loading\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Create alias') }}\n\t\t\t</ButtonVue>\n\t\t\t<ButtonVue v-if=\"showForm\"\n\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\tclass=\"button-text\"\n\t\t\t\t@click=\"resetCreate\">\n\t\t\t\t{{ t(\"mail\", \"Cancel\") }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcButton as ButtonVue, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconCheck from 'vue-material-design-icons/Check'\nimport logger from '../logger'\nimport AliasForm from './AliasForm'\n\nexport default {\n\tname: 'AliasSettings',\n\tcomponents: { AliasForm, ButtonVue, IconLoading, IconCheck },\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnewAlias: '',\n\t\t\tnewName: this.account.name,\n\t\t\tshowForm: false,\n\t\t\tloading: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\taliases() {\n\t\t\treturn this.account.aliases\n\t\t},\n\t},\n\tmethods: {\n\t\tasync createAlias() {\n\t\t\tthis.loading = true\n\n\t\t\tawait this.$store.dispatch('createAlias', {\n\t\t\t\taccount: this.account,\n\t\t\t\talias: this.newAlias,\n\t\t\t\tname: this.newName,\n\t\t\t})\n\n\t\t\tlogger.debug('created alias', {\n\t\t\t\taccountId: this.account.id,\n\t\t\t\talias: this.newAlias,\n\t\t\t\tname: this.newName,\n\t\t\t})\n\n\t\t\tthis.resetCreate()\n\t\t\tthis.loading = false\n\t\t},\n\t\tresetCreate() {\n\t\t\tthis.newAlias = ''\n\t\t\tthis.newName = this.account.name\n\t\t\tthis.showForm = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\tleft: 14px;\n\t}\n}\n\n.button-text {\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: var(--color-text-maxcontrast);\n\tfont-weight: normal;\n\n\t&:hover,\n\t&:focus {\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\ninput {\n\twidth: 195px;\n}\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasSettings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasSettings.vue?vue&type=style&index=0&id=69f65517&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AliasSettings.vue?vue&type=style&index=0&id=69f65517&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AliasSettings.vue?vue&type=template&id=69f65517&scoped=true&\"\nimport script from \"./AliasSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./AliasSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AliasSettings.vue?vue&type=style&index=0&id=69f65517&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69f65517\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('ul',{staticClass:\"aliases-list\"},[_vm._l((_vm.aliases),function(alias){return _c('li',{key:alias.id},[_c('AliasForm',{attrs:{\"account\":_vm.account,\"alias\":alias}})],1)}),_vm._v(\" \"),(_vm.showForm)?_c('li',[_c('form',{attrs:{\"id\":\"createAliasForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.createAlias.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newName),expression:\"newName\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.t('mail', 'Name'),\"required\":\"\"},domProps:{\"value\":(_vm.newName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newName=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAlias),expression:\"newAlias\"}],attrs:{\"type\":\"email\",\"placeholder\":_vm.t('mail', 'Email address'),\"required\":\"\"},domProps:{\"value\":(_vm.newAlias)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newAlias=$event.target.value}}})])]):_vm._e()],2),_vm._v(\" \"),(!_vm.account.provisioningId)?_c('div',[(!_vm.showForm)?_c('ButtonVue',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showForm = true}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add alias'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showForm)?_c('ButtonVue',{attrs:{\"native-type\":\"submit\",\"type\":\"primary\",\"form\":\"createAliasForm\",\"disabled\":_vm.loading},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}],null,false,4145190044)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Create alias'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showForm)?_c('ButtonVue',{staticClass:\"button-text\",attrs:{\"type\":\"tertiary-no-background\"},on:{\"click\":_vm.resetCreate}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t(\"mail\", \"Cancel\"))+\"\\n\\t\\t\")]):_vm._e()],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2020 Greta Doci <gretadoci@gmail.com>\n  -\n  - @author 2020 Greta Doci <gretadoci@gmail.com>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div>\n\t\t<div v-for=\"sender in sortedSenders\"\n\t\t\t:key=\"sender.email\">\n\t\t\t{{ sender.email }}\n\t\t\t{{ senderType(sender.type) }}\n\t\t\t<ButtonVue type=\"tertiary\"\n\t\t\t\tclass=\"button\"\n\t\t\t\t@click=\"removeSender(sender)\">\n\t\t\t\t{{ t('mail','Remove') }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<span v-if=\"!sortedSenders.length\"> {{ t('mail', 'No senders are trusted at the moment.') }}</span>\n\t</div>\n</template>\n\n<script>\n\nimport { fetchTrustedSenders, trustSender } from '../service/TrustedSenderService'\nimport { NcButton as ButtonVue } from '@nextcloud/vue'\nimport prop from 'lodash/fp/prop'\nimport sortBy from 'lodash/fp/sortBy'\nimport logger from '../logger'\nimport { showError } from '@nextcloud/dialogs'\n\nconst sortByEmail = sortBy(prop('email'))\n\nexport default {\n\tname: 'TrustedSenders',\n\tcomponents: {\n\t\tButtonVue,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tlist: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedSenders() {\n\t\t\treturn sortByEmail(this.list)\n\t\t},\n\t},\n\tasync mounted() {\n\t\tthis.list = await fetchTrustedSenders()\n\t},\n\tmethods: {\n\t\tasync removeSender(sender) {\n\t\t\t// Remove the item immediately\n\t\t\tthis.list = this.list.filter(s => s.id !== sender.id)\n\t\t\ttry {\n\t\t\t\tawait trustSender(\n\t\t\t\t\tsender.email,\n\t\t\t\t\tsender.type,\n\t\t\t\t\tfalse\n\t\t\t\t)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`Could not remove trusted sender ${sender.email}`, {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t\tshowError(t('mail', 'Could not remove trusted sender {sender}', {\n\t\t\t\t\tsender: sender.email,\n\t\t\t\t}))\n\t\t\t\t// Put the sender back\n\t\t\t\tthis.list.push(sender)\n\t\t\t}\n\t\t},\n\t\tsenderType(type) {\n\t\t\tswitch (type) {\n\t\t\tcase 'individual':\n\t\t\t\treturn t('mail', 'individual')\n\t\t\tcase 'domain':\n\t\t\t\treturn t('mail', 'domain')\n\t\t\t}\n\t\t\treturn type\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=style&index=0&id=188a02c7&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrustedSenders.vue?vue&type=style&index=0&id=188a02c7&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TrustedSenders.vue?vue&type=template&id=188a02c7&scoped=true&\"\nimport script from \"./TrustedSenders.vue?vue&type=script&lang=js&\"\nexport * from \"./TrustedSenders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrustedSenders.vue?vue&type=style&index=0&id=188a02c7&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"188a02c7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.sortedSenders),function(sender){return _c('div',{key:sender.email},[_vm._v(\"\\n\\t\\t\"+_vm._s(sender.email)+\"\\n\\t\\t\"+_vm._s(_vm.senderType(sender.type))+\"\\n\\t\\t\"),_c('ButtonVue',{staticClass:\"button\",attrs:{\"type\":\"tertiary\"},on:{\"click\":function($event){return _vm.removeSender(sender)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail','Remove'))+\"\\n\\t\\t\")])],1)}),_vm._v(\" \"),(!_vm.sortedSenders.length)?_c('span',[_vm._v(\" \"+_vm._s(_vm.t('mail', 'No senders are trusted at the moment.')))]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<form id=\"sieve-form\">\n\t\t<p>\n\t\t\t<input\n\t\t\t\tid=\"sieve-disabled\"\n\t\t\t\tv-model=\"sieveConfig.sieveEnabled\"\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclass=\"radio\"\n\t\t\t\tname=\"sieve-active\"\n\t\t\t\t:value=\"false\">\n\t\t\t<label\n\t\t\t\t:class=\"{primary: !sieveConfig.sieveEnabled}\"\n\t\t\t\tfor=\"sieve-disabled\">\n\t\t\t\t{{ t('mail', 'Disabled') }}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid=\"sieve-enabled\"\n\t\t\t\tv-model=\"sieveConfig.sieveEnabled\"\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclass=\"radio\"\n\t\t\t\tname=\"sieve-active\"\n\t\t\t\t:value=\"true\">\n\t\t\t<label\n\t\t\t\t:class=\"{primary: sieveConfig.sieveEnabled}\"\n\t\t\t\tfor=\"sieve-enabled\">\n\t\t\t\t{{ t('mail', 'Enabled') }}\n\t\t\t</label>\n\t\t</p>\n\t\t<template v-if=\"sieveConfig.sieveEnabled\">\n\t\t\t<label for=\"sieve-host\">{{ t('mail', 'Sieve Host') }}</label>\n\t\t\t<input\n\t\t\t\tid=\"sieve-host\"\n\t\t\t\tv-model=\"sieveConfig.sieveHost\"\n\t\t\t\ttype=\"text\"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t('mail', 'Sieve Security') }}</h4>\n\t\t\t<div class=\"flex-row\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"sieve-sec-none\"\n\t\t\t\t\tv-model=\"sieveConfig.sieveSslMode\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"sieve-sec\"\n\t\t\t\t\tvalue=\"none\">\n\t\t\t\t<label\n\t\t\t\t\tclass=\"button\"\n\t\t\t\t\tfor=\"sieve-sec-none\"\n\t\t\t\t\t:class=\"{primary: sieveConfig.sieveSslMode === 'none'}\">{{\n\t\t\t\t\t\tt('mail', 'None')\n\t\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"sieve-sec-ssl\"\n\t\t\t\t\tv-model=\"sieveConfig.sieveSslMode\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"sieve-sec\"\n\t\t\t\t\tvalue=\"ssl\">\n\t\t\t\t<label\n\t\t\t\t\tclass=\"button\"\n\t\t\t\t\tfor=\"sieve-sec-ssl\"\n\t\t\t\t\t:class=\"{primary: sieveConfig.sieveSslMode === 'ssl'}\">\n\t\t\t\t\t{{ t('mail', 'SSL/TLS') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"sieve-sec-tls\"\n\t\t\t\t\tv-model=\"sieveConfig.sieveSslMode\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"sieve-sec\"\n\t\t\t\t\tvalue=\"tls\">\n\t\t\t\t<label\n\t\t\t\t\tclass=\"button\"\n\t\t\t\t\tfor=\"sieve-sec-tls\"\n\t\t\t\t\t:class=\"{primary: sieveConfig.sieveSslMode === 'tls'}\">\n\t\t\t\t\t{{ t('mail', 'STARTTLS') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<label for=\"sieve-port\">{{ t('mail', 'Sieve Port') }}</label>\n\t\t\t<input\n\t\t\t\tid=\"sieve-port\"\n\t\t\t\tv-model=\"sieveConfig.sievePort\"\n\t\t\t\ttype=\"text\"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t('mail', 'Sieve Credentials') }}</h4>\n\t\t\t<p>\n\t\t\t\t<input\n\t\t\t\t\tid=\"sieve-credentials-imap\"\n\t\t\t\t\tv-model=\"useImapCredentials\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t:value=\"true\">\n\t\t\t\t<label\n\t\t\t\t\t:class=\"{primary: useImapCredentials}\"\n\t\t\t\t\tfor=\"sieve-credentials-imap\">\n\t\t\t\t\t{{ t('mail', 'IMAP Credentials') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"sieve-credentials-custom\"\n\t\t\t\t\tv-model=\"useImapCredentials\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t:value=\"false\">\n\t\t\t\t<label\n\t\t\t\t\t:class=\"{primary: !useImapCredentials}\"\n\t\t\t\t\tfor=\"sieve-credentials-custom\">\n\t\t\t\t\t{{ t('mail', 'Custom') }}\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<template v-if=\"!useImapCredentials\">\n\t\t\t\t<label for=\"sieve-user\">{{ t('mail', 'Sieve User') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"sieve-user\"\n\t\t\t\t\tv-model=\"sieveConfig.sieveUser\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\trequired>\n\t\t\t\t<label for=\"sieve-password\">{{\n\t\t\t\t\tt('mail', 'Sieve Password')\n\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"sieve-password\"\n\t\t\t\t\tv-model=\"sieveConfig.sievePassword\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\trequired>\n\t\t\t</template>\n\t\t</template>\n\t\t<slot name=\"feedback\" />\n\t\t<p v-if=\"errorMessage\">\n\t\t\t{{ t('mail', 'Oh Snap!') }}\n\t\t\t{{ errorMessage }}\n\t\t</p>\n\t\t<ButtonVue type=\"primary\"\n\t\t\t:disabled=\"loading\"\n\t\t\t@click.prevent=\"onSubmit\">\n\t\t\t{{ t('mail', 'Save sieve settings') }}\n\t\t</ButtonVue>\n\t</form>\n</template>\n\n<script>\nimport { NcButton as ButtonVue } from '@nextcloud/vue'\nexport default {\n\tname: 'SieveAccountForm',\n\tcomponents: {\n\t\tButtonVue,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsieveConfig: {\n\t\t\t\tsieveEnabled: this.account.sieveEnabled,\n\t\t\t\tsieveHost: this.account.sieveHost || this.account.imapHost,\n\t\t\t\tsievePort: this.account.sievePort || 4190,\n\t\t\t\tsieveUser: this.account.sieveUser || '',\n\t\t\t\tsievePassword: '',\n\t\t\t\tsieveSslMode: this.account.sieveSslMode || 'tls',\n\t\t\t},\n\t\t\tloading: false,\n\t\t\tuseImapCredentials: !this.account.sieveUser,\n\t\t\terrorMessage: '',\n\t\t}\n\t},\n\tmethods: {\n\t\tasync onSubmit() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = ''\n\n\t\t\t// empty user and password => use imap credentials\n\t\t\tif (this.sieveConfig.sieveUser === '' && this.sieveConfig.sievePassword === '') {\n\t\t\t\tthis.useImapCredentials = true\n\t\t\t}\n\n\t\t\t// clear user and password if imap credentials are used\n\t\t\tif (this.useImapCredentials) {\n\t\t\t\tthis.sieveConfig.sieveUser = ''\n\t\t\t\tthis.sieveConfig.sievePassword = ''\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('updateSieveAccount', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: this.sieveConfig,\n\t\t\t\t})\n\t\t\t\tif (this.sieveConfig.sieveEnabled) {\n\t\t\t\t\tawait this.$store.dispatch('fetchActiveSieveScript', {\n\t\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error.message\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\nform {\n\twidth: 250px\n}\n\nlabel {\n\tdisplay: inline-block;\n}\n\ninput {\n\twidth: 100%;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\ttext-align: center;\n\tflex-grow: 1;\n}\n\nlabel.error {\n\tcolor: red;\n}\n\ninput[type='radio'] {\n\tdisplay: none;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveAccountForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveAccountForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveAccountForm.vue?vue&type=style&index=0&id=14f1278f&prod&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveAccountForm.vue?vue&type=style&index=0&id=14f1278f&prod&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SieveAccountForm.vue?vue&type=template&id=14f1278f&scoped=true&\"\nimport script from \"./SieveAccountForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SieveAccountForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SieveAccountForm.vue?vue&type=style&index=0&id=14f1278f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14f1278f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{attrs:{\"id\":\"sieve-form\"}},[_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sieveEnabled),expression:\"sieveConfig.sieveEnabled\"}],staticClass:\"radio\",attrs:{\"id\":\"sieve-disabled\",\"type\":\"radio\",\"name\":\"sieve-active\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.sieveConfig.sieveEnabled,false)},on:{\"change\":function($event){return _vm.$set(_vm.sieveConfig, \"sieveEnabled\", false)}}}),_vm._v(\" \"),_c('label',{class:{primary: !_vm.sieveConfig.sieveEnabled},attrs:{\"for\":\"sieve-disabled\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Disabled'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sieveEnabled),expression:\"sieveConfig.sieveEnabled\"}],staticClass:\"radio\",attrs:{\"id\":\"sieve-enabled\",\"type\":\"radio\",\"name\":\"sieve-active\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.sieveConfig.sieveEnabled,true)},on:{\"change\":function($event){return _vm.$set(_vm.sieveConfig, \"sieveEnabled\", true)}}}),_vm._v(\" \"),_c('label',{class:{primary: _vm.sieveConfig.sieveEnabled},attrs:{\"for\":\"sieve-enabled\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Enabled'))+\"\\n\\t\\t\")])]),_vm._v(\" \"),(_vm.sieveConfig.sieveEnabled)?[_c('label',{attrs:{\"for\":\"sieve-host\"}},[_vm._v(_vm._s(_vm.t('mail', 'Sieve Host')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sieveHost),expression:\"sieveConfig.sieveHost\"}],attrs:{\"id\":\"sieve-host\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.sieveConfig.sieveHost)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.sieveConfig, \"sieveHost\", $event.target.value)}}}),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Sieve Security')))]),_vm._v(\" \"),_c('div',{staticClass:\"flex-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sieveSslMode),expression:\"sieveConfig.sieveSslMode\"}],attrs:{\"id\":\"sieve-sec-none\",\"type\":\"radio\",\"name\":\"sieve-sec\",\"value\":\"none\"},domProps:{\"checked\":_vm._q(_vm.sieveConfig.sieveSslMode,\"none\")},on:{\"change\":function($event){return _vm.$set(_vm.sieveConfig, \"sieveSslMode\", \"none\")}}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.sieveConfig.sieveSslMode === 'none'},attrs:{\"for\":\"sieve-sec-none\"}},[_vm._v(_vm._s(_vm.t('mail', 'None')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sieveSslMode),expression:\"sieveConfig.sieveSslMode\"}],attrs:{\"id\":\"sieve-sec-ssl\",\"type\":\"radio\",\"name\":\"sieve-sec\",\"value\":\"ssl\"},domProps:{\"checked\":_vm._q(_vm.sieveConfig.sieveSslMode,\"ssl\")},on:{\"change\":function($event){return _vm.$set(_vm.sieveConfig, \"sieveSslMode\", \"ssl\")}}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.sieveConfig.sieveSslMode === 'ssl'},attrs:{\"for\":\"sieve-sec-ssl\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'SSL/TLS'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sieveSslMode),expression:\"sieveConfig.sieveSslMode\"}],attrs:{\"id\":\"sieve-sec-tls\",\"type\":\"radio\",\"name\":\"sieve-sec\",\"value\":\"tls\"},domProps:{\"checked\":_vm._q(_vm.sieveConfig.sieveSslMode,\"tls\")},on:{\"change\":function($event){return _vm.$set(_vm.sieveConfig, \"sieveSslMode\", \"tls\")}}}),_vm._v(\" \"),_c('label',{staticClass:\"button\",class:{primary: _vm.sieveConfig.sieveSslMode === 'tls'},attrs:{\"for\":\"sieve-sec-tls\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'STARTTLS'))+\"\\n\\t\\t\\t\")])]),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"sieve-port\"}},[_vm._v(_vm._s(_vm.t('mail', 'Sieve Port')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sievePort),expression:\"sieveConfig.sievePort\"}],attrs:{\"id\":\"sieve-port\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.sieveConfig.sievePort)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.sieveConfig, \"sievePort\", $event.target.value)}}}),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('mail', 'Sieve Credentials')))]),_vm._v(\" \"),_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.useImapCredentials),expression:\"useImapCredentials\"}],staticClass:\"radio\",attrs:{\"id\":\"sieve-credentials-imap\",\"type\":\"radio\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.useImapCredentials,true)},on:{\"change\":function($event){_vm.useImapCredentials=true}}}),_vm._v(\" \"),_c('label',{class:{primary: _vm.useImapCredentials},attrs:{\"for\":\"sieve-credentials-imap\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'IMAP Credentials'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.useImapCredentials),expression:\"useImapCredentials\"}],staticClass:\"radio\",attrs:{\"id\":\"sieve-credentials-custom\",\"type\":\"radio\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.useImapCredentials,false)},on:{\"change\":function($event){_vm.useImapCredentials=false}}}),_vm._v(\" \"),_c('label',{class:{primary: !_vm.useImapCredentials},attrs:{\"for\":\"sieve-credentials-custom\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Custom'))+\"\\n\\t\\t\\t\")])]),_vm._v(\" \"),(!_vm.useImapCredentials)?[_c('label',{attrs:{\"for\":\"sieve-user\"}},[_vm._v(_vm._s(_vm.t('mail', 'Sieve User')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sieveUser),expression:\"sieveConfig.sieveUser\"}],attrs:{\"id\":\"sieve-user\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.sieveConfig.sieveUser)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.sieveConfig, \"sieveUser\", $event.target.value)}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"sieve-password\"}},[_vm._v(_vm._s(_vm.t('mail', 'Sieve Password')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sieveConfig.sievePassword),expression:\"sieveConfig.sievePassword\"}],attrs:{\"id\":\"sieve-password\",\"type\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.sieveConfig.sievePassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.sieveConfig, \"sievePassword\", $event.target.value)}}})]:_vm._e()]:_vm._e(),_vm._v(\" \"),_vm._t(\"feedback\"),_vm._v(\" \"),(_vm.errorMessage)?_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Oh Snap!'))+\"\\n\\t\\t\"+_vm._s(_vm.errorMessage)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Save sieve settings'))+\"\\n\\t\")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"section\">\n\t\t<textarea\n\t\t\tid=\"sieve-text-area\"\n\t\t\tv-model=\"script\"\n\t\t\tv-shortkey.avoid\n\t\t\trows=\"20\"\n\t\t\t:disabled=\"loading\" />\n\t\t<p v-if=\"errorMessage\">\n\t\t\t{{ t('mail', 'Oh Snap!') }}\n\t\t\t{{ errorMessage }}\n\t\t</p>\n\t\t<ButtonVue\n\t\t\ttype=\"primary\"\n\t\t\t:disabled=\"loading\"\n\t\t\t@click=\"saveActiveScript\">\n\t\t\t<template #icon>\n\t\t\t\t<IconLoading v-if=\"loading\" :size=\"20\" />\n\t\t\t\t<IconCheck v-else :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Save sieve script') }}\n\t\t</ButtonVue>\n\t</div>\n</template>\n\n<script>\nimport { NcButton as ButtonVue, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconCheck from 'vue-material-design-icons/Check'\nexport default {\n\tname: 'SieveFilterForm',\n\tcomponents: {\n\t\tButtonVue,\n\t\tIconLoading,\n\t\tIconCheck,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tscript: '',\n\t\t\tloading: true,\n\t\t\terrorMessage: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\tscriptData() {\n\t\t\treturn this.$store.getters.getActiveSieveScript(this.account.id)\n\t\t},\n\t},\n\twatch: {\n\t\tscriptData: {\n\t\t\timmediate: true,\n\t\t\thandler(scriptData) {\n\t\t\t\tif (!scriptData) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tthis.script = scriptData.script\n\t\t\t\tthis.loading = false\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tasync saveActiveScript() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = ''\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('updateActiveSieveScript', {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tscriptData: {\n\t\t\t\t\t\t...this.scriptData,\n\t\t\t\t\t\tscript: this.script,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error.message\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.section {\n\tdisplay: block;\n\tpadding: 0;\n\tmargin-bottom: 23px;\n}\n\ntextarea {\n\twidth: 100%;\n}\n\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\t left: 14px;\n\t }\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveFilterForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveFilterForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveFilterForm.vue?vue&type=style&index=0&id=669a6150&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SieveFilterForm.vue?vue&type=style&index=0&id=669a6150&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SieveFilterForm.vue?vue&type=template&id=669a6150&scoped=true&\"\nimport script from \"./SieveFilterForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SieveFilterForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SieveFilterForm.vue?vue&type=style&index=0&id=669a6150&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"669a6150\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.script),expression:\"script\"},{name:\"shortkey\",rawName:\"v-shortkey.avoid\",modifiers:{\"avoid\":true}}],attrs:{\"id\":\"sieve-text-area\",\"rows\":\"20\",\"disabled\":_vm.loading},domProps:{\"value\":(_vm.script)},on:{\"input\":function($event){if($event.target.composing)return;_vm.script=$event.target.value}}}),_vm._v(\" \"),(_vm.errorMessage)?_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Oh Snap!'))+\"\\n\\t\\t\"+_vm._s(_vm.errorMessage)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('ButtonVue',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.saveActiveScript},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('IconLoading',{attrs:{\"size\":20}}):_c('IconCheck',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Save sieve script'))+\"\\n\\t\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @author Richard Steinmetz <richard@steinmetz.cloud>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nconst MARKER = '### Nextcloud Mail: Vacation Responder ### DON\\'T EDIT ###'\nconst DATA_MARKER = '# DATA: '\nconst VERSION = 1\n\n// Parser states\nconst PARSER_COPY = 0\nconst PARSER_SKIP = 1\n\nexport class OOOParserError extends Error {}\n\n/**\n * Parse embedded out of office state from the given sieve script.\n * Return the original sieve script without any out of office data/script.\n *\n * @param {string} sieveScript\n * @return {{data: object|undefined, sieveScript: string}}\n */\nexport function parseOutOfOfficeState(sieveScript) {\n\tconst lines = sieveScript.split(/\\r?\\n/)\n\n\tconst out = []\n\tlet data\n\n\tlet state = PARSER_COPY\n\tlet nextState = state\n\n\tfor (const line of lines) {\n\t\tswitch (state) {\n\t\tcase PARSER_COPY:\n\t\t\tif (line.startsWith(MARKER)) {\n\t\t\t\tnextState = PARSER_SKIP\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tout.push(line)\n\t\t\tbreak\n\t\tcase PARSER_SKIP:\n\t\t\tif (line.startsWith(MARKER)) {\n\t\t\t\tnextState = PARSER_COPY\n\t\t\t} else if (line.startsWith(DATA_MARKER)) {\n\t\t\t\tconst json = line.slice(DATA_MARKER.length)\n\t\t\t\tdata = JSON.parse(json)\n\t\t\t\tif (data.start) data.start = new Date(data.start)\n\t\t\t\tif (data.end) data.end = new Date(data.end)\n\t\t\t}\n\t\t\tbreak\n\t\tdefault:\n\t\t\tthrow new OOOParserError('Reached an invalid state')\n\t\t}\n\t\tstate = nextState\n\t}\n\n\treturn {\n\t\tsieveScript: out.join('\\n'),\n\t\tdata,\n\t}\n}\n\n/**\n * Embed vacation responder action and out of office state into the given sieve script.\n *\n * @param {string} sieveScript\n * @param {object} data\n * @param {bool} data.enabled\n * @param {Date=} data.start First day (inclusive)\n * @param {Date=} data.end Last day (inclusive)\n * @param {string} data.subject\n * @param {string} data.message\n * @param {string[]=} data.allowedRecipients Only respond if recipient of incoming mail is in this list. Format: `Test Test <test@test.com>`\n * @return {string} Sieve script\n */\nexport function buildOutOfOfficeSieveScript(sieveScript, {\n\tenabled,\n\tstart,\n\tend,\n\tsubject,\n\tmessage,\n\tallowedRecipients,\n}) {\n\t// State to be embedded in the sieve script\n\tconst data = {\n\t\tversion: VERSION,\n\t\tenabled,\n\t\tstart: start ? formatDateForSieve(start) : undefined,\n\t\tend: end ? formatDateForSieve(end) : undefined,\n\t\tsubject,\n\t\tmessage,\n\t}\n\n\t// Save only state if vacation responder is disabled\n\tif (!enabled) {\n\t\tdelete data.start\n\t\tdelete data.end\n\t\treturn [\n\t\t\tsieveScript,\n\t\t\tMARKER,\n\t\t\tDATA_MARKER + JSON.stringify(data),\n\t\t\tMARKER,\n\t\t].join('\\n')\n\t}\n\n\t// Build if condition for start and end dates\n\tlet condition\n\tif (end) {\n\t\tcondition = `allof(currentdate :value \"ge\" \"date\" \"${formatDateForSieve(start)}\", currentdate :value \"le\" \"date\" \"${formatDateForSieve(end)}\")`\n\t} else {\n\t\tcondition = `currentdate :value \"ge\" \"date\" \"${formatDateForSieve(start)}\"`\n\t}\n\n\t// Build vacation command\n\tconst vacation = [\n\t\t'vacation',\n\t\t':days 4',\n\t\t`:subject \"${escapeStringForSieve(subject)}\"`,\n\t]\n\n\tif (allowedRecipients?.length) {\n\t\tconst formattedRecipients = allowedRecipients.map(recipient => `\"${recipient}\"`).join(', ')\n\t\tvacation.push(`:addresses [${formattedRecipients}]`)\n\t}\n\n\tvacation.push(`\"${escapeStringForSieve(message)}\"`)\n\n\t// Build sieve script\n\tconst requireSection = [\n\t\tMARKER,\n\t\t'require \"date\";',\n\t\t'require \"relational\";',\n\t\t'require \"vacation\";',\n\t\tMARKER,\n\t].join('\\n')\n\n\tconst vacationSection = [\n\t\tMARKER,\n\t\tDATA_MARKER + JSON.stringify(data),\n\t\t`if ${condition} {`,\n\t\t`\\t${vacation.join(' ')};`,\n\t\t'}',\n\t\tMARKER,\n\t].join('\\n')\n\n\treturn [\n\t\trequireSection,\n\t\tsieveScript,\n\t\tvacationSection,\n\t].join('\\n')\n}\n\n/**\n * Format a JavaScript date object to use with the sieve :vacation action.\n *\n * @param {Date} date JavaScript date object\n * @return {string} YYYY-MM-DD\n */\nexport function formatDateForSieve(date) {\n\tconst year = date.getFullYear().toString().padStart(4, '0')\n\tconst month = (date.getMonth() + 1).toString().padStart(2, '0')\n\tconst day = date.getDate().toString().padStart(2, '0')\n\treturn `${year}-${month}-${day}`\n}\n\n/**\n * Escape a string for use in a sieve script.\n * The string has to be surrounded by double quotes (`\"`) manually.\n *\n * @param {string} string String to escape\n * @return {string} Escaped string\n */\nexport function escapeStringForSieve(string) {\n\treturn string\n\t\t.replaceAll(/\\\\/g, '\\\\\\\\')\n\t\t.replaceAll(/\"/g, '\\\\\"')\n}\n","<!--\n  - @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @author Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<!-- Wait until sieve script has been fetched before showing form. -->\n\t<form v-if=\"sieveScriptData\" class=\"form\" @submit.prevent=\"submit\">\n\t\t<div class=\"form__multi-row\">\n\t\t\t<fieldset class=\"form__fieldset\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"ooo-disabled\"\n\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"enabled\"\n\t\t\t\t\t:checked=\"!enabled\"\n\t\t\t\t\t@change=\"enabled = false\">\n\t\t\t\t<label for=\"ooo-disabled\">{{ t('mail', 'Autoresponder off') }}</label>\n\t\t\t</fieldset>\n\n\t\t\t<fieldset class=\"form__fieldset\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"ooo-enabled\"\n\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"enabled\"\n\t\t\t\t\t:checked=\"enabled\"\n\t\t\t\t\t@change=\"enabled = true\">\n\t\t\t\t<label for=\"ooo-enabled\">{{ t('mail', 'Autoresponder on') }}</label>\n\t\t\t</fieldset>\n\t\t</div>\n\n\t\t<div class=\"form__multi-row\">\n\t\t\t<fieldset class=\"form__fieldset\">\n\t\t\t\t<label for=\"ooo-first-day\">{{ t('mail', 'First day') }}</label>\n\t\t\t\t<DatetimePicker\n\t\t\t\t\tid=\"ooo-first-day\"\n\t\t\t\t\tv-model=\"firstDay\"\n\t\t\t\t\t:disabled=\"!enabled\" />\n\t\t\t</fieldset>\n\n\t\t\t<fieldset class=\"form__fieldset\">\n\t\t\t\t<div class=\"form__fieldset__label\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"ooo-enable-last-day\"\n\t\t\t\t\t\tv-model=\"enableLastDay\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t:disabled=\"!enabled\">\n\t\t\t\t\t<label for=\"ooo-enable-last-day\">\n\t\t\t\t\t\t{{ t('mail', 'Last day (optional)') }}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<DatetimePicker\n\t\t\t\t\tid=\"ooo-last-day\"\n\t\t\t\t\tv-model=\"lastDay\"\n\t\t\t\t\t:disabled=\"!enabled || !enableLastDay\" />\n\t\t\t</fieldset>\n\t\t</div>\n\n\t\t<fieldset class=\"form__fieldset\">\n\t\t\t<label for=\"ooo-subject\">{{ t('mail', 'Subject') }}</label>\n\t\t\t<input\n\t\t\t\tid=\"ooo-subject\"\n\t\t\t\tv-model=\"subject\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:disabled=\"!enabled\">\n\t\t</fieldset>\n\n\t\t<fieldset class=\"form__fieldset\">\n\t\t\t<label for=\"ooo-message\">{{ t('mail', 'Message') }}</label>\n\t\t\t<TextEditor\n\t\t\t\tid=\"ooo-message\"\n\t\t\t\tv-model=\"message\"\n\t\t\t\t:html=\"false\"\n\t\t\t\t:disabled=\"!enabled\"\n\t\t\t\t:bus=\"{ '$on': () => { /* noop */ } }\" />\n\t\t</fieldset>\n\n\t\t<p v-if=\"errorMessage\">\n\t\t\t{{ t('mail', 'Oh Snap!') }}\n\t\t\t{{ errorMessage }}\n\t\t</p>\n\n\t\t<Button type=\"primary\" native-type=\"submit\" :disabled=\"loading || !valid\">\n\t\t\t<template #icon>\n\t\t\t\t<CheckIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Save autoresponder') }}\n\t\t</Button>\n\t</form>\n</template>\n\n<script>\nimport { NcDatetimePicker as DatetimePicker, NcButton as Button } from '@nextcloud/vue'\nimport TextEditor from './TextEditor'\nimport CheckIcon from 'vue-material-design-icons/Check'\nimport { buildOutOfOfficeSieveScript, parseOutOfOfficeState } from '../util/outOfOffice'\nimport logger from '../logger'\nimport { html, plain, toHtml, toPlain } from '../util/text'\n\nexport default {\n\tname: 'OutOfOfficeForm',\n\tcomponents: {\n\t\tDatetimePicker,\n\t\tTextEditor,\n\t\tButton,\n\t\tCheckIcon,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tenabled: false,\n\t\t\tenableLastDay: false,\n\t\t\tfirstDay: new Date(),\n\t\t\tlastDay: null,\n\t\t\tsubject: '',\n\t\t\tmessage: '',\n\t\t\tloading: false,\n\t\t\terrorMessage: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tvalid() {\n\t\t\treturn !!(this.firstDay\n\t\t\t\t&& (!this.enableLastDay || (this.enableLastDay && this.lastDay))\n\t\t\t\t&& (!this.enableLastDay || (this.lastDay >= this.firstDay))\n\t\t\t\t&& this.subject\n\t\t\t\t&& this.message)\n\t\t},\n\n\t\t/**\n\t\t * @return {{script: string, scriptName: string}|undefined}\n\t\t */\n\t\tsieveScriptData() {\n\t\t\treturn this.$store.getters.getActiveSieveScript(this.account.id)\n\t\t},\n\n\t\t/**\n\t\t * @return {object|undefined}\n\t\t */\n\t\tparsedState() {\n\t\t\tif (!this.sieveScriptData?.script) {\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\treturn parseOutOfOfficeState(this.sieveScriptData.script).data\n\t\t\t} catch (error) {\n\t\t\t\tlogger.warn('Failed to parse OOO state', { error })\n\t\t\t}\n\n\t\t\treturn undefined\n\t\t},\n\n\t\t/**\n\t\t * Main address and all aliases formatted for use with sieve.\n\t\t *\n\t\t * @return {string[]}\n\t\t */\n\t\taliases() {\n\t\t\t return [\n\t\t\t\t {\n\t\t\t\t\t name: this.account.name,\n\t\t\t\t\t alias: this.account.emailAddress,\n\t\t\t\t },\n\t\t\t\t ...this.account.aliases,\n\t\t\t ].map(({ name, alias }) => `${name} <${alias}>`)\n\t\t},\n\t},\n\twatch: {\n\t\tparsedState: {\n\t\t\timmediate: true,\n\t\t\thandler(state) {\n\t\t\t\tstate ??= {}\n\t\t\t\tthis.enabled = !!state.enabled ?? false\n\t\t\t\tthis.firstDay = state.start ?? new Date()\n\t\t\t\tthis.lastDay = state.end ?? null\n\t\t\t\tthis.enableLastDay = !!this.lastDay\n\t\t\t\tthis.subject = state.subject ?? ''\n\t\t\t\tthis.message = toHtml(plain(state.message ?? '')).value\n\t\t\t},\n\t\t},\n\t\tenableLastDay(enableLastDay) {\n\t\t\tif (enableLastDay) {\n\t\t\t\tthis.lastDay = new Date(this.firstDay)\n\t\t\t\tthis.lastDay.setDate(this.lastDay.getDate() + 6)\n\t\t\t} else {\n\t\t\t\tthis.lastDay = null\n\t\t\t}\n\t\t},\n\t\tfirstDay(firstDay, previousFirstDay) {\n\t\t\tif (!this.enableLastDay) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst dayInMillis = 24 * 60 * 60 * 1000\n\t\t\tconst diffDays = Math.floor((this.lastDay - previousFirstDay) / dayInMillis)\n\t\t\tif (diffDays < 0) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.lastDay = new Date(firstDay)\n\t\t\tthis.lastDay.setDate(firstDay.getDate() + diffDays)\n\t\t},\n\t},\n\tmethods: {\n\t\tasync submit() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = ''\n\n\t\t\tconst state = parseOutOfOfficeState(this.sieveScriptData.script)\n\t\t\tconst originalScript = state.sieveScript\n\n\t\t\tconst enrichedScript = buildOutOfOfficeSieveScript(originalScript, {\n\t\t\t\tenabled: this.enabled,\n\t\t\t\tstart: this.firstDay,\n\t\t\t\tend: this.lastDay,\n\t\t\t\tsubject: this.subject,\n\t\t\t\tmessage: toPlain(html(this.message)).value, // CKEditor always returns html data\n\t\t\t\tallowedRecipients: this.aliases,\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('updateActiveSieveScript', {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tscriptData: {\n\t\t\t\t\t\t...this.sieveScriptData,\n\t\t\t\t\t\tscript: enrichedScript,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error.message\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.form {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\n\t&__fieldset {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__label {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 5px;\n\t\t}\n\n\t\t&__input {\n\t\t\tflex: 1 auto;\n\t\t}\n\t}\n\n\t&__multi-row {\n\t\tdisplay: flex;\n\t\talign-items: end;\n\t\tgap: 15px;\n\t}\n\n\t#ooo-enable-last-day {\n\t\tcursor: pointer;\n\t\tmin-height: unset;\n\t}\n\n\t#ooo-subject {\n\t\twidth: 100%;\n\t}\n\n\t#ooo-message {\n\t\twidth: 100%;\n\t\tmin-height: 100px;\n\t\tborder: 1px solid var(--color-border);\n\n\t\t&:active,\n\t\t&:focus,\n\t\t&:hover {\n\t\t\tborder-color: var(--color-primary-element) !important;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutOfOfficeForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutOfOfficeForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutOfOfficeForm.vue?vue&type=style&index=0&id=0c0f23a0&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutOfOfficeForm.vue?vue&type=style&index=0&id=0c0f23a0&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./OutOfOfficeForm.vue?vue&type=template&id=0c0f23a0&scoped=true&\"\nimport script from \"./OutOfOfficeForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OutOfOfficeForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OutOfOfficeForm.vue?vue&type=style&index=0&id=0c0f23a0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c0f23a0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.sieveScriptData)?_c('form',{staticClass:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('div',{staticClass:\"form__multi-row\"},[_c('fieldset',{staticClass:\"form__fieldset\"},[_c('input',{staticClass:\"radio\",attrs:{\"id\":\"ooo-disabled\",\"type\":\"radio\",\"name\":\"enabled\"},domProps:{\"checked\":!_vm.enabled},on:{\"change\":function($event){_vm.enabled = false}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"ooo-disabled\"}},[_vm._v(_vm._s(_vm.t('mail', 'Autoresponder off')))])]),_vm._v(\" \"),_c('fieldset',{staticClass:\"form__fieldset\"},[_c('input',{staticClass:\"radio\",attrs:{\"id\":\"ooo-enabled\",\"type\":\"radio\",\"name\":\"enabled\"},domProps:{\"checked\":_vm.enabled},on:{\"change\":function($event){_vm.enabled = true}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"ooo-enabled\"}},[_vm._v(_vm._s(_vm.t('mail', 'Autoresponder on')))])])]),_vm._v(\" \"),_c('div',{staticClass:\"form__multi-row\"},[_c('fieldset',{staticClass:\"form__fieldset\"},[_c('label',{attrs:{\"for\":\"ooo-first-day\"}},[_vm._v(_vm._s(_vm.t('mail', 'First day')))]),_vm._v(\" \"),_c('DatetimePicker',{attrs:{\"id\":\"ooo-first-day\",\"disabled\":!_vm.enabled},model:{value:(_vm.firstDay),callback:function ($$v) {_vm.firstDay=$$v},expression:\"firstDay\"}})],1),_vm._v(\" \"),_c('fieldset',{staticClass:\"form__fieldset\"},[_c('div',{staticClass:\"form__fieldset__label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enableLastDay),expression:\"enableLastDay\"}],attrs:{\"id\":\"ooo-enable-last-day\",\"type\":\"checkbox\",\"disabled\":!_vm.enabled},domProps:{\"checked\":Array.isArray(_vm.enableLastDay)?_vm._i(_vm.enableLastDay,null)>-1:(_vm.enableLastDay)},on:{\"change\":function($event){var $$a=_vm.enableLastDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.enableLastDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.enableLastDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.enableLastDay=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"ooo-enable-last-day\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Last day (optional)'))+\"\\n\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('DatetimePicker',{attrs:{\"id\":\"ooo-last-day\",\"disabled\":!_vm.enabled || !_vm.enableLastDay},model:{value:(_vm.lastDay),callback:function ($$v) {_vm.lastDay=$$v},expression:\"lastDay\"}})],1)]),_vm._v(\" \"),_c('fieldset',{staticClass:\"form__fieldset\"},[_c('label',{attrs:{\"for\":\"ooo-subject\"}},[_vm._v(_vm._s(_vm.t('mail', 'Subject')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subject),expression:\"subject\"}],attrs:{\"id\":\"ooo-subject\",\"type\":\"text\",\"disabled\":!_vm.enabled},domProps:{\"value\":(_vm.subject)},on:{\"input\":function($event){if($event.target.composing)return;_vm.subject=$event.target.value}}})]),_vm._v(\" \"),_c('fieldset',{staticClass:\"form__fieldset\"},[_c('label',{attrs:{\"for\":\"ooo-message\"}},[_vm._v(_vm._s(_vm.t('mail', 'Message')))]),_vm._v(\" \"),_c('TextEditor',{attrs:{\"id\":\"ooo-message\",\"html\":false,\"disabled\":!_vm.enabled,\"bus\":{ '$on': () => { /* noop */ } }},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_vm._v(\" \"),(_vm.errorMessage)?_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Oh Snap!'))+\"\\n\\t\\t\"+_vm._s(_vm.errorMessage)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\",\"disabled\":_vm.loading || !_vm.valid},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,2630571749)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Save autoresponder'))+\"\\n\\t\")])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @copyright 2020 Greta Doci <gretadoci@gmail.com>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2020 Greta Doci <gretadoci@gmail.com>\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppSettingsDialog\n\t\tid=\"app-settings-dialog\"\n\t\t:open.sync=\"showSettings\"\n\t\t:show-navigation=\"true\">\n\t\t<AppSettingsSection\n\t\t\tid=\"account-settings\"\n\t\t\t:title=\"t('mail', 'Account settings')\">\n\t\t\t<div class=\"alias-item\">\n\t\t\t\t<p><strong>{{ displayName }}</strong> &lt;{{ email }}&gt;</p>\n\t\t\t\t<a\n\t\t\t\t\tv-if=\"!account.provisioningId\"\n\t\t\t\t\tclass=\"button icon-rename\"\n\t\t\t\t\t:title=\"t('mail', 'Change name')\"\n\t\t\t\t\t@click=\"handleClick\" />\n\t\t\t</div>\n\t\t\t<AliasSettings :account=\"account\" />\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection id=\"signature\" :title=\"t('mail', 'Signature')\">\n\t\t\t<p class=\"settings-hint\">\n\t\t\t\t{{ t('mail', 'A signature is added to the text of new messages and replies.') }}\n\t\t\t</p>\n\t\t\t<SignatureSettings :account=\"account\" />\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection id=\"writing-mode\" :title=\"t('mail', 'Writing mode')\">\n\t\t\t<p class=\"settings-hint\">\n\t\t\t\t{{ t('mail', 'Preferred writing mode for new messages and replies.') }}\n\t\t\t</p>\n\t\t\t<EditorSettings :account=\"account\" />\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection id=\"default-folders\" :title=\" t('mail', 'Default folders')\">\n\t\t\t<p class=\"settings-hint\">\n\t\t\t\t{{\n\t\t\t\t\tt('mail', 'The folders to use for drafts, sent messages, deleted messages and archived messages.')\n\t\t\t\t}}\n\t\t\t</p>\n\t\t\t<AccountDefaultsSettings :account=\"account\" />\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection\n\t\t\tv-if=\"account\"\n\t\t\tid=\"out-of-office-replies\"\n\t\t\t:title=\"t('mail', 'Autoresponder')\">\n\t\t\t<p class=\"settings-hint\">\n\t\t\t\t{{ t('mail', 'Automated reply to incoming messages. If someone sends you several messages, this automated reply will be sent at most once every 4 days.') }}\n\t\t\t</p>\n\t\t\t<OutOfOfficeForm v-if=\"account.sieveEnabled\" :account=\"account\" />\n\t\t\t<p v-else>\n\t\t\t\t{{ t('mail', 'Please connect to a sieve server first.') }}\n\t\t\t</p>\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection v-if=\"account && account.sieveEnabled\"\n\t\t\tid=\"sieve-filter\"\n\t\t\t:title=\"t('mail', 'Sieve filter rules')\">\n\t\t\t<div id=\"sieve-filter\">\n\t\t\t\t<SieveFilterForm\n\t\t\t\t\t:key=\"account.accountId\"\n\t\t\t\t\tref=\"sieveFilterForm\"\n\t\t\t\t\t:account=\"account\" />\n\t\t\t</div>\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection id=\"trusted-sender\" :title=\"t('mail', 'Trusted senders')\">\n\t\t\t<TrustedSenders />\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection v-if=\"account && !account.provisioningId\"\n\t\t\tid=\"mail-server\"\n\t\t\t:title=\"t('mail', 'Mail server')\">\n\t\t\t<div id=\"mail-settings\">\n\t\t\t\t<AccountForm\n\t\t\t\t\t:key=\"account.accountId\"\n\t\t\t\t\tref=\"accountForm\"\n\t\t\t\t\t:display-name=\"displayName\"\n\t\t\t\t\t:email=\"email\"\n\t\t\t\t\t:account=\"account\" />\n\t\t\t</div>\n\t\t</AppSettingsSection>\n\t\t<AppSettingsSection v-if=\"account && !account.provisioningId\"\n\t\t\tid=\"sieve-settings\"\n\t\t\t:title=\"t('mail', 'Sieve filter server')\">\n\t\t\t<div id=\"sieve-settings\">\n\t\t\t\t<SieveAccountForm\n\t\t\t\t\t:key=\"account.accountId\"\n\t\t\t\t\tref=\"sieveAccountForm\"\n\t\t\t\t\t:account=\"account\" />\n\t\t\t</div>\n\t\t</AppSettingsSection>\n\t</AppSettingsDialog>\n</template>\n\n<script>\nimport AccountForm from '../components/AccountForm'\nimport EditorSettings from '../components/EditorSettings'\nimport AccountDefaultsSettings from '../components/AccountDefaultsSettings'\nimport SignatureSettings from '../components/SignatureSettings'\nimport AliasSettings from '../components/AliasSettings'\nimport { NcAppSettingsDialog as AppSettingsDialog, NcAppSettingsSection as AppSettingsSection } from '@nextcloud/vue'\nimport TrustedSenders from './TrustedSenders'\nimport SieveAccountForm from './SieveAccountForm'\nimport SieveFilterForm from './SieveFilterForm'\nimport OutOfOfficeForm from './OutOfOfficeForm'\n\nexport default {\n\tname: 'AccountSettings',\n\tcomponents: {\n\t\tSieveAccountForm,\n\t\tSieveFilterForm,\n\t\tTrustedSenders,\n\t\tAccountForm,\n\t\tAliasSettings,\n\t\tEditorSettings,\n\t\tSignatureSettings,\n\t\tAppSettingsDialog,\n\t\tAppSettingsSection,\n\t\tAccountDefaultsSettings,\n\t\tOutOfOfficeForm,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\trequired: true,\n\t\t\ttype: Object,\n\t\t},\n\t\topen: {\n\t\t\trequired: true,\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowSettings: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmenu() {\n\t\t\treturn this.buildMenu()\n\t\t},\n\t\tdisplayName() {\n\t\t\treturn this.account.name\n\t\t},\n\t\temail() {\n\t\t\treturn this.account.emailAddress\n\t\t},\n\t},\n\twatch: {\n\t\tshowSettings(value) {\n\t\t\tif (!value) {\n\t\t\t\tthis.$emit('update:open', value)\n\t\t\t}\n\t\t},\n\t\tasync open(value) {\n\t\t\tif (value) {\n\t\t\t\tawait this.onOpen()\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\thandleClick() {\n\t\t\tthis.$refs.accountForm.$el.scrollIntoView({\n\t\t\t\tbehavior: 'smooth',\n\t\t\t})\n\n\t\t},\n\t\tasync onOpen() {\n\t\t\tthis.showSettings = true\n\t\t\tawait this.$store.dispatch('fetchActiveSieveScript', {\n\t\t\t\taccountId: this.account.id,\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.button.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n.settings-hint {\n\tmargin-top: -12px;\n\tmargin-bottom: 6px;\n\tcolor: var(--color-text-maxcontrast);\n}\nh2 {\n\tfont-weight: bold;\n\tfont-size: 20px;\n\tmargin-bottom: 12px;\n\tmargin-left: -30px;\n\tline-height: 30px;\n\tcolor: var(--color-text-light);\n}\n.app-settings-section {\nmargin-bottom: 45px;\n}\n\n// Fix weird modal glitches on Firefox when toggling autoresponder\n:deep(.modal-container),\n:deep(.app-settings__wrapper) {\n\tposition: unset !important;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountSettings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountSettings.vue?vue&type=style&index=0&id=3caa85fe&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountSettings.vue?vue&type=style&index=0&id=3caa85fe&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AccountSettings.vue?vue&type=template&id=3caa85fe&scoped=true&\"\nimport script from \"./AccountSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountSettings.vue?vue&type=style&index=0&id=3caa85fe&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3caa85fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppSettingsDialog',{attrs:{\"id\":\"app-settings-dialog\",\"open\":_vm.showSettings,\"show-navigation\":true},on:{\"update:open\":function($event){_vm.showSettings=$event}}},[_c('AppSettingsSection',{attrs:{\"id\":\"account-settings\",\"title\":_vm.t('mail', 'Account settings')}},[_c('div',{staticClass:\"alias-item\"},[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.displayName))]),_vm._v(\" <\"+_vm._s(_vm.email)+\">\")]),_vm._v(\" \"),(!_vm.account.provisioningId)?_c('a',{staticClass:\"button icon-rename\",attrs:{\"title\":_vm.t('mail', 'Change name')},on:{\"click\":_vm.handleClick}}):_vm._e()]),_vm._v(\" \"),_c('AliasSettings',{attrs:{\"account\":_vm.account}})],1),_vm._v(\" \"),_c('AppSettingsSection',{attrs:{\"id\":\"signature\",\"title\":_vm.t('mail', 'Signature')}},[_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'A signature is added to the text of new messages and replies.'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('SignatureSettings',{attrs:{\"account\":_vm.account}})],1),_vm._v(\" \"),_c('AppSettingsSection',{attrs:{\"id\":\"writing-mode\",\"title\":_vm.t('mail', 'Writing mode')}},[_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Preferred writing mode for new messages and replies.'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('EditorSettings',{attrs:{\"account\":_vm.account}})],1),_vm._v(\" \"),_c('AppSettingsSection',{attrs:{\"id\":\"default-folders\",\"title\":_vm.t('mail', 'Default folders')}},[_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'The folders to use for drafts, sent messages, deleted messages and archived messages.'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('AccountDefaultsSettings',{attrs:{\"account\":_vm.account}})],1),_vm._v(\" \"),(_vm.account)?_c('AppSettingsSection',{attrs:{\"id\":\"out-of-office-replies\",\"title\":_vm.t('mail', 'Autoresponder')}},[_c('p',{staticClass:\"settings-hint\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Automated reply to incoming messages. If someone sends you several messages, this automated reply will be sent at most once every 4 days.'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.account.sieveEnabled)?_c('OutOfOfficeForm',{attrs:{\"account\":_vm.account}}):_c('p',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Please connect to a sieve server first.'))+\"\\n\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.account && _vm.account.sieveEnabled)?_c('AppSettingsSection',{attrs:{\"id\":\"sieve-filter\",\"title\":_vm.t('mail', 'Sieve filter rules')}},[_c('div',{attrs:{\"id\":\"sieve-filter\"}},[_c('SieveFilterForm',{key:_vm.account.accountId,ref:\"sieveFilterForm\",attrs:{\"account\":_vm.account}})],1)]):_vm._e(),_vm._v(\" \"),_c('AppSettingsSection',{attrs:{\"id\":\"trusted-sender\",\"title\":_vm.t('mail', 'Trusted senders')}},[_c('TrustedSenders')],1),_vm._v(\" \"),(_vm.account && !_vm.account.provisioningId)?_c('AppSettingsSection',{attrs:{\"id\":\"mail-server\",\"title\":_vm.t('mail', 'Mail server')}},[_c('div',{attrs:{\"id\":\"mail-settings\"}},[_c('AccountForm',{key:_vm.account.accountId,ref:\"accountForm\",attrs:{\"display-name\":_vm.displayName,\"email\":_vm.email,\"account\":_vm.account}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.account && !_vm.account.provisioningId)?_c('AppSettingsSection',{attrs:{\"id\":\"sieve-settings\",\"title\":_vm.t('mail', 'Sieve filter server')}},[_c('div',{attrs:{\"id\":\"sieve-settings\"}},[_c('SieveAccountForm',{key:_vm.account.accountId,ref:\"sieveAccountForm\",attrs:{\"account\":_vm.account}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigationItem\n\t\tv-if=\"visible\"\n\t\t:id=\"id\"\n\t\t:key=\"id\"\n\t\t:menu-open.sync=\"menuOpen\"\n\t\t:title=\"account.emailAddress\"\n\t\t:to=\"firstMailboxRoute\"\n\t\t:exact=\"true\"\n\t\t@update:menuOpen=\"onMenuToggle\">\n\t\t<template #icon>\n\t\t\t<IconError v-if=\"account.error || isDisabled\" :size=\"20\" />\n\t\t\t<IconBullet v-else-if=\"bulletColor\" :size=\"16\" :fill-color=\"bulletColor\" />\n\t\t</template>\n\t\t<!-- Actions -->\n\t\t<template #actions>\n\t\t\t<template v-if=\"isDisabled\">\n\t\t\t\t<ActionText :title=\"t('mail', 'Provisioned account is disabled')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconInfo :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Please login using a password to enable this account. The current session is using passwordless authentication, e.g. SSO or WebAuthn.') }}\n\t\t\t\t</ActionText>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<ActionText v-if=\"!account.isUnified\" :title=\"t('mail', 'Quota')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconInfo\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ quotaText }}\n\t\t\t\t</ActionText>\n\t\t\t\t<ActionButton\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"showAccountSettings\"\n\t\t\t\t\t@shortkey=\"toggleAccountSettings\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconSettings\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Account settings') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionCheckbox\n\t\t\t\t\t:checked=\"account.showSubscribedOnly\"\n\t\t\t\t\t:disabled=\"savingShowOnlySubscribed\"\n\t\t\t\t\t@update:checked=\"changeShowSubscribedOnly\">\n\t\t\t\t\t{{ t('mail', 'Show only subscribed mailboxes') }}\n\t\t\t\t</ActionCheckbox>\n\t\t\t\t<ActionButton v-if=\"!editing\" @click=\"openCreateMailbox\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconFolderAdd\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Add mailbox') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionInput v-if=\"editing\" @submit.prevent.stop=\"createMailbox\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconFolderAdd\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</ActionInput>\n\t\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconLoading :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Saving') }}\n\t\t\t\t</ActionText>\n\t\t\t\t<ActionButton v-if=\"!isFirst\" @click=\"changeAccountOrderUp\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<MenuUp\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Move up') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"!isLast\" @click=\"changeAccountOrderDown\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<MenuDown\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Move down') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"!account.provisioningId\" @click=\"removeAccount\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconDelete\n\t\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('mail', 'Remove account') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\t\t</template>\n\t\t<template #extra>\n\t\t\t<AccountSettings :open.sync=\"showSettings\" :account=\"account\" />\n\t\t</template>\n\t</AppNavigationItem>\n</template>\n\n<script>\n\nimport { NcAppNavigationItem as AppNavigationItem, NcActionButton as ActionButton, NcActionCheckbox as ActionCheckbox, NcActionInput as ActionInput, NcActionText as ActionText, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport { formatFileSize } from '@nextcloud/files'\nimport { generateUrl } from '@nextcloud/router'\n\nimport { calculateAccountColor } from '../util/AccountColor'\nimport logger from '../logger'\nimport { fetchQuota } from '../service/AccountService'\nimport AccountSettings from './AccountSettings'\nimport IconInfo from 'vue-material-design-icons/Information'\nimport IconSettings from 'vue-material-design-icons/Cog'\nimport IconFolderAdd from 'vue-material-design-icons/Folder'\nimport MenuDown from 'vue-material-design-icons/ChevronDown'\nimport MenuUp from 'vue-material-design-icons/ChevronUp'\nimport IconDelete from 'vue-material-design-icons/Delete'\nimport IconError from 'vue-material-design-icons/AlertCircle'\nimport IconBullet from 'vue-material-design-icons/CheckboxBlankCircle'\n\nexport default {\n\tname: 'NavigationAccount',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tActionText,\n\t\tAccountSettings,\n\t\tIconInfo,\n\t\tIconSettings,\n\t\tIconFolderAdd,\n\t\tMenuDown,\n\t\tMenuUp,\n\t\tIconDelete,\n\t\tIconError,\n\t\tIconBullet,\n\t\tIconLoading,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfirstMailbox: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t\tisFirst: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisLast: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisDisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmenuOpen: false,\n\t\t\tloading: {\n\t\t\t\tdelete: false,\n\t\t\t},\n\t\t\tsavingShowOnlySubscribed: false,\n\t\t\tquota: undefined,\n\t\t\tediting: false,\n\t\t\tshowSaving: false,\n\t\t\tshowSettings: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tvisible() {\n\t\t\treturn this.account.isUnified !== true && this.account.visible !== false\n\t\t},\n\t\tfirstMailboxRoute() {\n\t\t\tif (this.firstMailbox && !this.isDisabled) {\n\t\t\t\treturn {\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.firstMailbox.databaseId,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\tid() {\n\t\t\treturn 'account-' + this.account.id\n\t\t},\n\t\tbulletColor() {\n\t\t\treturn this.account.error ? undefined : calculateAccountColor(this.account.emailAddress)\n\t\t},\n\t\tquotaText() {\n\t\t\tif (this.quota === undefined) {\n\t\t\t\treturn t('mail', 'Loading …')\n\t\t\t}\n\t\t\tif (this.quota === false) {\n\t\t\t\treturn t('mail', 'Not supported by the server')\n\t\t\t}\n\n\t\t\treturn t('mail', '{usage} of {limit} used', {\n\t\t\t\tusage: formatFileSize(this.quota.usage),\n\t\t\t\tlimit: formatFileSize(this.quota.limit),\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\tcreateMailbox(e) {\n\t\t\tthis.editing = true\n\t\t\tconst name = e.target.elements[1].value\n\t\t\tlogger.info('creating mailbox ' + name)\n\t\t\tthis.menuOpen = false\n\t\t\tthis.$store\n\t\t\t\t.dispatch('createMailbox', { account: this.account, name })\n\t\t\t\t.then(() => logger.info(`mailbox ${name} created`))\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('could not create mailbox', { error })\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t\tthis.editing = false\n\t\t\tthis.showSaving = false\n\t\t},\n\t\topenCreateMailbox() {\n\t\t\tthis.editing = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tremoveAccount() {\n\t\t\tconst id = this.account.id\n\t\t\tlogger.info('delete account', { account: this.account })\n\t\t\t// eslint-disable-next-line\n\t\t\tconst dialogueText = t('mail', 'The account for {email} and cached email data will be removed from Nextcloud, but not from your email provider.', { email: this.account.emailAddress });\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tdialogueText,\n\t\t\t\tt('mail', 'Remove account {email}', { email: this.account.emailAddress }),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('mail', 'Remove {email}', { email: this.account.emailAddress }),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('mail', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\treturn this.$store\n\t\t\t\t\t\t\t.dispatch('deleteAccount', this.account)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.loading.delete = true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tlogger.info(`account ${id} deleted, redirecting …`)\n\n\t\t\t\t\t\t\t\t// TODO: update store and handle this more efficiently\n\t\t\t\t\t\t\t\tlocation.href = generateUrl('/apps/mail')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => logger.error('could not delete account', { error }))\n\t\t\t\t\t}\n\t\t\t\t\tthis.loading.delete = false\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t\tchangeAccountOrderUp() {\n\t\t\tthis.$store\n\t\t\t\t.dispatch('moveAccount', { account: this.account, up: true })\n\t\t\t\t.catch((error) => logger.error('could not move account up', { error }))\n\t\t},\n\t\tchangeAccountOrderDown() {\n\t\t\tthis.$store\n\t\t\t\t.dispatch('moveAccount', { account: this.account })\n\t\t\t\t.catch((error) => logger.error('could not move account down', { error }))\n\t\t},\n\t\tchangeShowSubscribedOnly(onlySubscribed) {\n\t\t\tthis.savingShowOnlySubscribed = true\n\t\t\tthis.$store\n\t\t\t\t.dispatch('patchAccount', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tshowSubscribedOnly: onlySubscribed,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.savingShowOnlySubscribed = false\n\t\t\t\t\tlogger.info('show only subscribed mailboxes updated to ' + onlySubscribed)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('could not update subscription mode', { error })\n\t\t\t\t\tthis.savingShowOnlySubscribed = false\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t\tonMenuToggle(open) {\n\t\t\tif (open) {\n\t\t\t\tconsole.debug('accounts menu opened, fetching quota')\n\t\t\t\tthis.fetchQuota()\n\t\t\t}\n\t\t},\n\t\tasync fetchQuota() {\n\t\t\tconst quota = await fetchQuota(this.account.id)\n\t\t\tconsole.debug('quota fetched', {\n\t\t\t\tquota,\n\t\t\t})\n\n\t\t\tif (quota === undefined) {\n\t\t\t\t// Server does not support this\n\t\t\t\tthis.quota = false\n\t\t\t} else {\n\t\t\t\tthis.quota = quota\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Toggles the account settings overview\n\t\t */\n\t\ttoggleAccountSettings() {\n\t\t\tthis.displayAccountSettings = !this.displayAccountSettings\n\t\t},\n\t\t/**\n\t\t * Shows the account settings\n\t\t */\n\t\tshowAccountSettings() {\n\t\t\tthis.showSettings = true\n\t\t},\n\t},\n}\n</script>\n","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport md5 from 'md5'\nimport conv from 'color-convert'\n\nexport const calculateAccountColor = (name) => {\n\tconst hashed = md5(name)\n\tconst hsl = conv.hex.hsl(hashed)\n\tconst fixedHsl = [Math.round(hsl[0] / 40) * 40, hsl[1], hsl[2]]\n\n\treturn '#' + conv.hsl.hex(fixedHsl)\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigationAccount.vue?vue&type=template&id=b7560b1c&\"\nimport script from \"./NavigationAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c('AppNavigationItem',{key:_vm.id,attrs:{\"id\":_vm.id,\"menu-open\":_vm.menuOpen,\"title\":_vm.account.emailAddress,\"to\":_vm.firstMailboxRoute,\"exact\":true},on:{\"update:menuOpen\":[function($event){_vm.menuOpen=$event},_vm.onMenuToggle],\"update:menu-open\":function($event){_vm.menuOpen=$event}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.account.error || _vm.isDisabled)?_c('IconError',{attrs:{\"size\":20}}):(_vm.bulletColor)?_c('IconBullet',{attrs:{\"size\":16,\"fill-color\":_vm.bulletColor}}):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.isDisabled)?[_c('ActionText',{attrs:{\"title\":_vm.t('mail', 'Provisioned account is disabled')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}],null,false,3812223437)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Please login using a password to enable this account. The current session is using passwordless authentication, e.g. SSO or WebAuthn.'))+\"\\n\\t\\t\\t\")])]:[(!_vm.account.isUnified)?_c('ActionText',{attrs:{\"title\":_vm.t('mail', 'Quota')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}],null,false,3812223437)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.quotaText)+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.showAccountSettings,\"shortkey\":_vm.toggleAccountSettings},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconSettings',{attrs:{\"size\":20}})]},proxy:true}],null,false,408832678)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Account settings'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionCheckbox',{attrs:{\"checked\":_vm.account.showSubscribedOnly,\"disabled\":_vm.savingShowOnlySubscribed},on:{\"update:checked\":_vm.changeShowSubscribedOnly}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Show only subscribed mailboxes'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(!_vm.editing)?_c('ActionButton',{on:{\"click\":_vm.openCreateMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2169509812)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add mailbox'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing)?_c('ActionInput',{on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"size\":20}})]},proxy:true}],null,false,2169509812)}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isFirst)?_c('ActionButton',{on:{\"click\":_vm.changeAccountOrderUp},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('MenuUp',{attrs:{\"size\":20}})]},proxy:true}],null,false,859424094)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move up'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isLast)?_c('ActionButton',{on:{\"click\":_vm.changeAccountOrderDown},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('MenuDown',{attrs:{\"size\":20}})]},proxy:true}],null,false,3657048169)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move down'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.provisioningId)?_c('ActionButton',{on:{\"click\":_vm.removeAccount},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"size\":20}})]},proxy:true}],null,false,881161434)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Remove account'))+\"\\n\\t\\t\\t\")]):_vm._e()]]},proxy:true},{key:\"extra\",fn:function(){return [_c('AccountSettings',{attrs:{\"open\":_vm.showSettings,\"account\":_vm.account},on:{\"update:open\":function($event){_vm.showSettings=$event}}})]},proxy:true}],null,false,3134979053)}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigationItem :title=\"title\" @click=\"toggleCollapse\" />\n</template>\n\n<script>\nimport { NcAppNavigationItem as AppNavigationItem } from '@nextcloud/vue'\nimport logger from '../logger'\n\nexport default {\n\tname: 'NavigationAccountExpandCollapse',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tid() {\n\t\t\treturn 'collapse-' + this.account.id\n\t\t},\n\t\ttitle() {\n\t\t\tif (this.account.collapsed && this.account.showSubscribedOnly) {\n\t\t\t\treturn t('mail', 'Show all subscribed mailboxes')\n\t\t\t} else if (this.account.collapsed && !this.account.showSubscribedOnly) {\n\t\t\t\treturn t('mail', 'Show all mailboxes')\n\t\t\t}\n\t\t\treturn t('mail', 'Collapse mailboxes')\n\t\t},\n\t},\n\tmethods: {\n\t\tasync toggleCollapse() {\n\t\t\tlogger.debug('toggling collapsed mailboxes for account ' + this.account.id)\n\t\t\ttry {\n\t\t\t\tawait this.$store.commit('toggleAccountCollapsed', this.account.id)\n\t\t\t\tawait this.$store\n\t\t\t\t\t.dispatch('setAccountSetting', {\n\t\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\t\tkey: 'collapsed',\n\t\t\t\t\t\tvalue: this.account.collapsed,\n\t\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('could not update account settings', {\n\t\t\t\t\terror,\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.app-navigation-entry__title) {\n\tcolor: var(--color-text-maxcontrast);\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=7b982a77&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=7b982a77&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationAccountExpandCollapse.vue?vue&type=template&id=7b982a77&scoped=true&\"\nimport script from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=7b982a77&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b982a77\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigationItem',{attrs:{\"title\":_vm.title},on:{\"click\":_vm.toggleCollapse}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<MailboxPicker :account=\"account\"\n\t\t:selected.sync=\"destMailboxId\"\n\t\t:loading=\"moving\"\n\t\t:picked-mailbox=\"mailbox\"\n\t\t:allow-root=\"true\"\n\t\t:label-select=\"t('mail', 'Move')\"\n\t\t:label-select-loading=\"t('mail', 'Moving')\"\n\t\t@select=\"onMove\"\n\t\t@close=\"onClose\" />\n</template>\n\n<script>\nimport logger from '../logger'\nimport MailboxPicker from './MailboxPicker'\n\nexport default {\n\tname: 'MoveMailboxModal',\n\tcomponents: {\n\t\tMailboxPicker,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmoving: false,\n\t\t\tdestMailboxId: undefined,\n\t\t}\n\t},\n\tmethods: {\n\t\tonClose() {\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync onMove() {\n\t\t\tthis.moving = true\n\t\t\tif (this.mailbox.id !== this.destMailboxId) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!this.destMailboxId) {\n\t\t\t\t\t\tconst newName = this.mailbox.displayName\n\t\t\t\t\t\tawait this.$store.dispatch('renameMailbox', {\n\t\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\t\t\tnewName,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst destMailbox = this.$store.getters.getMailbox(this.destMailboxId)\n\t\t\t\t\t\tconst newName = destMailbox.name + this.mailbox.delimiter + this.mailbox.name\n\t\t\t\t\t\tawait this.$store.dispatch('renameMailbox', {\n\t\t\t\t\t\t\taccount: this.account,\n\t\t\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\t\t\tnewName,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tlogger.error('could not move mailbox', {\n\t\t\t\t\t\terror,\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.moving = false\n\t\t\t\t\tthis.$emit('close')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgenId(mailbox) {\n\t\t\treturn 'mailbox-' + mailbox.databaseId\n\t\t },\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveMailboxModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveMailboxModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveMailboxModal.vue?vue&type=template&id=6df74cd6&\"\nimport script from \"./MoveMailboxModal.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveMailboxModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('MailboxPicker',{attrs:{\"account\":_vm.account,\"selected\":_vm.destMailboxId,\"loading\":_vm.moving,\"picked-mailbox\":_vm.mailbox,\"allow-root\":true,\"label-select\":_vm.t('mail', 'Move'),\"label-select-loading\":_vm.t('mail', 'Moving')},on:{\"update:selected\":function($event){_vm.destMailboxId=$event},\"select\":_vm.onMove,\"close\":_vm.onClose}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '../../../store'\nimport logger from '../../../logger'\nimport dragEventBus from '../util/dragEventBus'\n\nexport class DroppableMailbox {\n\n\tconstructor(el, componentInstance, options) {\n\t\tthis.el = el\n\t\tthis.options = options\n\t\tthis.registerListeners.bind(this)(el)\n\t\tthis.setInitialAttributes()\n\t}\n\n\tsetInitialAttributes() {\n\t\tthis.draggableInfo = {}\n\t\tthis.setStatus('enabled')\n\t}\n\n\tupdate(el, instance) {\n\t\tthis.setInitialAttributes()\n\t\tthis.options = instance.options\n\t}\n\n\tregisterListeners(el) {\n\t\tdragEventBus.$on('drag-start', this.onDragStart.bind(this))\n\t\tdragEventBus.$on('drag-end', this.onDragEnd.bind(this))\n\n\t\t// event listeners need to be attached to the first child element\n\t\t// (a button or an anchor tag) instead of the root el, because there\n\t\t// can be sub-mailboxes within the root element of the directive\n\t\tel.firstChild.addEventListener('dragover', this.onDragOver.bind(this))\n\t\tel.firstChild.addEventListener('dragleave', this.onDragLeave.bind(this))\n\t\tel.firstChild.addEventListener('drop', this.onDrop.bind(this))\n\t}\n\n\tremoveListeners(el) {\n\t\tdragEventBus.$off('drag-start', this.onDragStart)\n\t\tdragEventBus.$off('drag-end', this.onDragEnd)\n\n\t\tel.firstChild.removeEventListener('dragover', this.onDragOver)\n\t\tel.firstChild.removeEventListener('dragleave', this.onDragLeave)\n\t\tel.firstChild.removeEventListener('drop', this.onDrop)\n\t}\n\n\tsetStatus(status) {\n\t\tthis.el.setAttribute('droppable-mailbox', status)\n\t}\n\n\tonDragStart(draggableInfo) {\n\t\tthis.draggableInfo = draggableInfo\n\n\t\tif (!this.canBeDropped()) {\n\t\t\tthis.setStatus('disabled')\n\t\t}\n\t}\n\n\tcanBeDropped() {\n\t\treturn this.isSameAccount() && this.options.isValidDropTarget\n\t}\n\n\tisSameAccount() {\n\t\treturn this.draggableInfo.accountId === this.options.accountId\n\t}\n\n\tonDragEnd() {\n\t\tthis.setInitialAttributes()\n\t}\n\n\tonDragOver(event) {\n\t\tevent.preventDefault()\n\n\t\t// Prevent dropping into current folder\n\t\tif (this.draggableInfo.mailboxId === this.options.mailboxId) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.options.isValidDropTarget) {\n\t\t\tthis.setStatus('dragover')\n\t\t}\n\n\t\tevent.dataTransfer.dropEffect = 'move'\n\t}\n\n\tonDragLeave(event) {\n\t\tevent.preventDefault()\n\t\tthis.setStatus('enabled')\n\t}\n\n\tasync onDrop(event) {\n\t\tevent.preventDefault()\n\n\t\t// Prevent dropping into current folder\n\t\tif (this.draggableInfo.mailboxId === this.options.mailboxId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.setInitialAttributes()\n\t\tconst envelopesBeingDragged = JSON.parse(event.dataTransfer.getData('text'))\n\t\tdragEventBus.$emit('envelopes-dropped', { envelopes: envelopesBeingDragged })\n\n\t\ttry {\n\t\t\tconst processedEnvelopes = envelopesBeingDragged.map(async envelope => {\n\t\t\t\tconst processed = await this.processDroppedItem(parseInt(envelope.envelopeId))\n\t\t\t\treturn processed\n\t\t\t})\n\t\t\tawait Promise.all(processedEnvelopes)\n\t\t} catch (error) {\n\t\t\tlogger.error('could not process dropped messages', error)\n\t\t} finally {\n\t\t\tdragEventBus.$emit('envelopes-moved', {\n\t\t\t\tmailboxId: this.options.mailboxId,\n\t\t\t\tmovedEnvelopes: envelopesBeingDragged,\n\t\t\t})\n\t\t}\n\t}\n\n\tasync processDroppedItem(envelopeId) {\n\t\tconst item = document.querySelector(`[data-envelope-id=\"${envelopeId}\"]`)\n\t\titem.setAttribute('draggable-envelope', 'pending')\n\n\t\ttry {\n\t\t\tawait store.dispatch('moveMessage', {\n\t\t\t\tid: envelopeId,\n\t\t\t\tdestMailboxId: this.options.mailboxId,\n\t\t\t})\n\t\t} catch (error) {\n\t\t\titem.removeAttribute('draggable-envelope')\n\t\t\tlogger.error('could not move messages', error)\n\t\t}\n\t}\n\n}\n","import { DroppableMailbox } from './droppable-mailbox'\n\nlet instance\n\nexport const DroppableMailboxDirective = {\n\tbind(el, binding, vnode) {\n\t\tinstance = new DroppableMailbox(el, vnode.context, binding.value)\n\t},\n\tcomponentUpdated(el, binding) {\n\t\tinstance.options = binding.value\n\t\tinstance.update(el, instance)\n\t},\n}\n\nexport default DroppableMailbox\n","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigationItem\n\t\tv-if=\"visible\"\n\t\t:id=\"genId(mailbox)\"\n\t\t:key=\"genId(mailbox)\"\n\t\tv-droppable-mailbox=\"{\n\t\t\tmailboxId: mailbox.databaseId,\n\t\t\taccountId: mailbox.accountId,\n\t\t\tisValidDropTarget,\n\t\t}\"\n\t\t:allow-collapse=\"true\"\n\t\t:menu-open.sync=\"menuOpen\"\n\t\t:force-menu=\"true\"\n\t\t:title=\"title\"\n\t\t:to=\"to\"\n\t\t:open.sync=\"showSubMailboxes\"\n\t\t@update:menuOpen=\"onMenuToggle\">\n\t\t<template #icon>\n\t\t\t<div class=\"sidebar-opacity-icon\">\n\t\t\t\t<ImportantIcon v-if=\"mailbox.isPriorityInbox\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconAllInboxes\n\t\t\t\t\tv-else-if=\"mailbox.id === UNIFIED_INBOX_ID\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconInbox\n\t\t\t\t\tv-else-if=\"mailbox.specialRole === 'inbox' && !mailbox.isPriorityInbox && filter !=='starred'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFavorite v-else-if=\"filter === 'starred'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconDraft v-else-if=\"mailbox.specialRole === 'drafts'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconSend v-else-if=\"mailbox.specialRole === 'sent'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconArchive v-else-if=\"mailbox.specialRole === 'archive'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconDelete v-else-if=\"mailbox.specialRole === 'trash'\"\n\t\t\t\t\t:size=\"20\" />\n\t\t\t\t<IconFolder v-else\n\t\t\t\t\t:size=\"20\" />\n\t\t\t</div>\n\t\t</template>\n\t\t<!-- actions -->\n\t\t<template slot=\"actions\">\n\t\t\t<ActionText\n\t\t\t\tv-if=\"!account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:title=\"mailbox.name\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconInfo\n\t\t\t\t\t\t:title=\"statsText\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ statsText }}\n\t\t\t</ActionText>\n\n\t\t\t<ActionButton\n\t\t\t\tv-if=\"mailbox.specialRole !== 'flagged' && !account.isUnified\"\n\t\t\t\t:title=\"t('mail', 'Mark all as read')\"\n\t\t\t\t:disabled=\"loadingMarkAsRead\"\n\t\t\t\t@click=\"markAsRead\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconEmailCheck\n\t\t\t\t\t\t:title=\"t('mail', 'Mark all messages of this mailbox as read')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Mark all messages of this mailbox as read') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton\n\t\t\t\tv-if=\"!editing && !account.isUnified && hasDelimiter && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t@click=\"openCreateMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderAdd\n\t\t\t\t\t\t:title=\"t('mail', 'Add submailbox')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Add submailbox') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionInput v-if=\"editing\" @submit.prevent.stop=\"createMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderAdd\n\t\t\t\t\t\t:title=\"t('mail', 'Add submailbox')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</ActionInput>\n\t\t\t<ActionButton\n\t\t\t\tv-if=\"renameLabel && !hasSubMailboxes && !account.isUnified\"\n\t\t\t\t@click.prevent.stop=\"openRenameInput\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderRename\n\t\t\t\t\t\t:title=\"t('mail', 'Edit name')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Edit name') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionInput\n\t\t\t\tv-if=\"renameInput\"\n\t\t\t\t:value.sync=\"mailboxName\"\n\t\t\t\t@submit.prevent.stop=\"renameMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderRename\n\t\t\t\t\t\t:title=\"t('mail', 'Edit name')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</ActionInput>\n\t\t\t<ActionText v-if=\"showSaving\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Saving') }}\n\t\t\t</ActionText>\n\t\t\t<ActionButton v-if=\"!account.isUnified && hasDelimiter && !mailbox.specialRole && !hasSubMailboxes\"\n\t\t\t\t:id=\"genId(mailbox)\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click.prevent=\"onOpenMoveModal\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconExternal\n\t\t\t\t\t\t:title=\"t('mail', 'Move')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Move') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton\n\t\t\t\tv-if=\"debug && !account.isUnified && mailbox.specialRole !== 'flagged'\"\n\t\t\t\t:title=\"t('mail', 'Clear cache')\"\n\t\t\t\t:disabled=\"clearingCache\"\n\t\t\t\t@click=\"clearCache\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconFolderSync\n\t\t\t\t\t\t:title=\"t('mail', 'Clear locally cached data, in case there are issues with synchronization.')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Clear locally cached data, in case there are issues with synchronization.') }}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionCheckbox\n\t\t\t\tv-if=\"notVirtual\"\n\t\t\t\t:checked=\"isSubscribed\"\n\t\t\t\t:disabled=\"changeSubscription\"\n\t\t\t\t@update:checked=\"changeFolderSubscription\">\n\t\t\t\t{{ t('mail', 'Subscribed') }}\n\t\t\t</ActionCheckbox>\n\n\t\t\t<ActionCheckbox\n\t\t\t\tv-if=\"notVirtual && notInbox\"\n\t\t\t\t:checked=\"mailbox.syncInBackground\"\n\t\t\t\t:disabled=\"changingSyncInBackground\"\n\t\t\t\t@update:checked=\"changeSyncInBackground\">\n\t\t\t\t{{ t('mail', 'Sync in background') }}\n\t\t\t</ActionCheckbox>\n\n\t\t\t<ActionButton\n\t\t\t\tv-if=\"mailbox.specialRole !== 'flagged' && !account.isUnified\"\n\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t@click=\"clearMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<EraserVariant :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Clear mailbox') }}\n\t\t\t</ActionButton>\n\n\t\t\t<ActionButton v-if=\"!account.isUnified && !mailbox.specialRole && !hasSubMailboxes\" @click=\"deleteMailbox\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconDelete\n\t\t\t\t\t\t:title=\"t('mail', 'Delete mailbox')\"\n\t\t\t\t\t\t:size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Delete mailbox') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t\t<CounterBubble v-if=\"showUnreadCounter && subCounter\" slot=\"counter\">\n\t\t\t{{ mailbox.unread }}&nbsp;({{ subCounter }})\n\t\t</CounterBubble>\n\t\t<CounterBubble v-else-if=\"showUnreadCounter\" slot=\"counter\">\n\t\t\t{{ mailbox.unread }}\n\t\t</CounterBubble>\n\t\t<template slot=\"extra\">\n\t\t\t<MoveMailboxModal v-if=\"showMoveModal\"\n\t\t\t\t:account=\"account\"\n\t\t\t\t:mailbox=\"mailbox\"\n\t\t\t\t@close=\"onCloseMoveModal\" />\n\t\t</template>\n\t\t<!-- submailboxes -->\n\t\t<NavigationMailbox\n\t\t\tv-for=\"subMailbox in subMailboxes\"\n\t\t\t:key=\"genId(subMailbox)\"\n\t\t\t:account=\"account\"\n\t\t\t:mailbox=\"subMailbox\" />\n\t</AppNavigationItem>\n</template>\n\n<script>\n\nimport { NcAppNavigationItem as AppNavigationItem, NcCounterBubble as CounterBubble, NcActionButton as ActionButton, NcActionCheckbox as ActionCheckbox, NcActionInput as ActionInput, NcActionText as ActionText, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\nimport IconEmailCheck from 'vue-material-design-icons/EmailCheck'\nimport IconExternal from 'vue-material-design-icons/OpenInNew'\nimport IconFolder from 'vue-material-design-icons/Folder'\nimport IconFolderAdd from 'vue-material-design-icons/FolderMultiple'\nimport IconFavorite from 'vue-material-design-icons/Star'\nimport IconFolderRename from 'vue-material-design-icons/FolderEdit'\nimport IconFolderSync from 'vue-material-design-icons/FolderSync'\nimport IconDelete from 'vue-material-design-icons/Delete'\nimport IconInfo from 'vue-material-design-icons/Information'\nimport IconDraft from 'vue-material-design-icons/Pencil'\nimport IconArchive from 'vue-material-design-icons/PackageDown'\nimport IconInbox from 'vue-material-design-icons/Home'\nimport IconAllInboxes from 'vue-material-design-icons/InboxMultiple'\nimport EraserVariant from 'vue-material-design-icons/EraserVariant'\nimport ImportantIcon from './icons/ImportantIcon'\nimport IconSend from 'vue-material-design-icons/Send'\nimport MoveMailboxModal from './MoveMailboxModal'\nimport { UNIFIED_INBOX_ID } from '../store/constants'\n\nimport { clearCache } from '../service/MessageService'\nimport { getMailboxStatus } from '../service/MailboxService'\nimport logger from '../logger'\nimport { translatePlural as n } from '@nextcloud/l10n'\nimport { translate as translateMailboxName } from '../i18n/MailboxTranslator'\nimport { showInfo } from '@nextcloud/dialogs'\nimport { DroppableMailboxDirective as droppableMailbox } from '../directives/drag-and-drop/droppable-mailbox'\nimport dragEventBus from '../directives/drag-and-drop/util/dragEventBus'\n\nexport default {\n\tname: 'NavigationMailbox',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tCounterBubble,\n\t\tActionText,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tIconSend,\n\t\tIconDelete,\n\t\tIconEmailCheck,\n\t\tIconExternal,\n\t\tIconFolderAdd,\n\t\tIconFolderRename,\n\t\tIconFolderSync,\n\t\tIconInfo,\n\t\tIconAllInboxes,\n\t\tIconFavorite,\n\t\tIconFolder,\n\t\tIconDraft,\n\t\tIconArchive,\n\t\tIconInbox,\n\t\tEraserVariant,\n\t\tImportantIcon,\n\t\tIconLoading,\n\t\tMoveMailboxModal,\n\t},\n\tdirectives: {\n\t\tdroppableMailbox,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tmailbox: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdebug: window?.OC?.debug || false,\n\t\t\tmailboxStats: undefined,\n\t\t\tloadingMarkAsRead: false,\n\t\t\tclearingCache: false,\n\t\t\tshowSaving: false,\n\t\t\tchangeSubscription: false,\n\t\t\tchangingSyncInBackground: false,\n\t\t\tediting: false,\n\t\t\tshowSubMailboxes: false,\n\t\t\tmenuOpen: false,\n\t\t\trenameLabel: true,\n\t\t\trenameInput: false,\n\t\t\tmailboxName: this.mailbox.displayName,\n\t\t\tshowMoveModal: false,\n\t\t\thasDelimiter: !!this.mailbox.delimiter,\n\t\t\tUNIFIED_INBOX_ID,\n\t\t}\n\t},\n\tcomputed: {\n\t\tvisible() {\n\t\t\treturn (\n\t\t\t\t(this.account.showSubscribedOnly === false\n\t\t\t\t|| (this.mailbox.attributes && this.mailbox.attributes.includes('\\\\subscribed'))) && this.isUnifiedButOnlyInbox\n\t\t\t)\n\t\t},\n\t\tnotInbox() {\n\t\t\treturn this.mailbox.name.toLowerCase() !== 'inbox'\n\t\t},\n\t\tnotVirtual() {\n\t\t\treturn !this.account.isUnified && this.mailbox.specialRole !== 'flagged' && !this.filter\n\t\t},\n\t\ttitle() {\n\t\t\tif (this.filter === 'starred') {\n\t\t\t\t// Little hack to trick the translation logic into a different path\n\t\t\t\treturn translateMailboxName({\n\t\t\t\t\t...this.mailbox,\n\t\t\t\t\tspecialUse: ['flagged'],\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn translateMailboxName(this.mailbox)\n\t\t},\n\t\tto() {\n\t\t\treturn {\n\t\t\t\tname: 'mailbox',\n\t\t\t\tparams: {\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t\tfilter: this.filter ? this.filter : undefined,\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\thasSubMailboxes() {\n\t\t\treturn this.subMailboxes.length > 0\n\t\t},\n\t\tsubMailboxes() {\n\t\t\treturn this.$store.getters.getSubMailboxes(this.mailbox.databaseId)\n\t\t},\n\t\tstatsText() {\n\t\t\tif (this.mailboxStats && 'total' in this.mailboxStats && 'unread' in this.mailboxStats) {\n\t\t\t\tif (this.mailboxStats.unread === 0) {\n\t\t\t\t\treturn n('mail', '{total} message', '{total} messages', this.mailboxStats.total, {\n\t\t\t\t\t\ttotal: this.mailboxStats.total,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn n(\n\t\t\t\t\t\t'mail',\n\t\t\t\t\t\t'{unread} unread of {total}',\n\t\t\t\t\t\t'{unread} unread of {total}',\n\t\t\t\t\t\tthis.mailboxStats.unread,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttotal: this.mailboxStats.total,\n\t\t\t\t\t\t\tunread: this.mailboxStats.unread,\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t('mail', 'Loading …')\n\t\t},\n\t\tisSubscribed() {\n\t\t\treturn this.mailbox.attributes && this.mailbox.attributes.includes('\\\\subscribed')\n\t\t},\n\t\tisDroppableSpecialMailbox() {\n\t\t\tif (this.filter === 'starred') {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn ![\n\t\t\t\tthis.account.draftsMailboxId,\n\t\t\t\tthis.account.sentMailboxId,\n\t\t\t].includes(this.mailbox.databaseId)\n\t\t},\n\t\tisActive() {\n\t\t\treturn this.$route.params.mailboxId === this.mailbox.databaseId\n\t\t},\n\t\tisValidDropTarget() {\n\t\t\tif (this.isActive) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.isDroppableSpecialMailbox || (!this.mailbox.specialRole && !this.account.isUnified)\n\t\t},\n\t\tisUnifiedButOnlyInbox() {\n\t\t\tif (!this.mailbox.isUnified) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn this.mailbox.specialUse.includes('inbox') && this.$store.getters.accounts.length > 2\n\t\t},\n\t\tshowUnreadCounter() {\n\t\t\tif (this.filter === 'starred' || this.mailbox.specialRole === 'trash') {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.mailbox.unread > 0 || this.subCounter > 0\n\t\t},\n\t\tsubCounter() {\n\t\t\treturn this.subMailboxes.reduce((carry, mb) => carry + mb.unread, 0)\n\t\t},\n\t},\n\tmounted() {\n\t\tdragEventBus.$on('drag-start', this.onDragStart)\n\t\tdragEventBus.$on('drag-end', this.onDragEnd)\n\t\tdragEventBus.$on('envelopes-moved', this.onEnvelopesMoved)\n\t},\n\tbeforeDestroy() {\n\t\tdragEventBus.$off('drag-start', this.onDragStart)\n\t\tdragEventBus.$off('drag-end', this.onDragEnd)\n\t\tdragEventBus.$off('envelopes-moved', this.onEnvelopesMoved)\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Generate unique key id for a specific mailbox\n\t\t *\n\t\t * @param {object} mailbox the mailbox to gen id for\n\t\t * @return {string}\n\t\t */\n\t\tgenId(mailbox) {\n\t\t\treturn 'mailbox-' + mailbox.databaseId\n\t\t},\n\n\t\t/**\n\t\t * On menu toggle, fetch stats\n\t\t *\n\t\t * @param {boolean} open menu opened state\n\t\t */\n\t\tonMenuToggle(open) {\n\t\t\tif (open) {\n\t\t\t\tthis.fetchMailboxStats()\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Fetch mailbox unread/read stats\n\t\t */\n\t\tasync fetchMailboxStats() {\n\t\t\tthis.mailboxStats = null\n\t\t\tif (this.account.isUnified || this.mailbox.specialRole === 'flagged') {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst stats = await getMailboxStatus(this.mailbox.databaseId)\n\t\t\t\tlogger.debug(`loaded mailbox stats for ${this.mailbox.databaseId}`, { stats })\n\t\t\t\tthis.mailboxStats = stats\n\t\t\t} catch (error) {\n\t\t\t\tthis.mailboxStats = { error: true }\n\t\t\t\tlogger.error(`could not load mailbox stats for ${this.mailbox.databaseId}`, error)\n\t\t\t}\n\t\t},\n\n\t\tasync createMailbox(e) {\n\t\t\tthis.editing = true\n\t\t\tconst name = e.target.elements[1].value\n\t\t\tconst withPrefix = this.mailbox.name + this.mailbox.delimiter + name\n\t\t\tlogger.info(`creating mailbox ${withPrefix} as submailbox of ${this.mailbox.databaseId}`)\n\t\t\tthis.menuOpen = false\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('createMailbox', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tname: withPrefix,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not create mailbox ${withPrefix}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.editing = false\n\t\t\t\tthis.showSaving = false\n\t\t\t}\n\t\t\tlogger.info(`mailbox ${withPrefix} created`)\n\t\t\tthis.showSubMailboxes = true\n\t\t},\n\t\topenCreateMailbox() {\n\t\t\tthis.editing = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tmarkAsRead() {\n\t\t\tthis.loadingMarkAsRead = true\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch('markMailboxRead', {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t})\n\t\t\t\t.then(() => logger.info(`mailbox ${this.mailbox.databaseId} marked as read`))\n\t\t\t\t.catch((error) => logger.error(`could not mark mailbox ${this.mailbox.databaseId} as read`, { error }))\n\t\t\t\t.then(() => (this.loadingMarkAsRead = false))\n\t\t},\n\t\tasync changeFolderSubscription(subscribed) {\n\t\t\ttry {\n\t\t\t\tthis.changeSubscription = true\n\n\t\t\t\tawait this.$store.dispatch('changeMailboxSubscription', {\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tsubscribed,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not update subscription of mailbox ${this.mailbox.databaseId}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.changeSubscription = false\n\t\t\t}\n\t\t},\n\t\tasync changeSyncInBackground(syncInBackground) {\n\t\t\ttry {\n\t\t\t\tthis.changingSyncInBackground = true\n\n\t\t\t\tawait this.$store.dispatch('patchMailbox', {\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tsyncInBackground,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not update background sync flag of mailbox ${this.mailbox.databaseId}`, { error })\n\t\t\t\tthrow error\n\t\t\t} finally {\n\t\t\t\tthis.changingSyncInBackground = false\n\t\t\t}\n\t\t},\n\t\tasync clearCache() {\n\t\t\ttry {\n\t\t\t\tthis.clearingCache = true\n\t\t\t\tlogger.debug('clearing message cache', {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tmailboxId: this.mailbox.databaseId,\n\t\t\t\t})\n\n\t\t\t\tawait clearCache(this.account.id, this.mailbox.databaseId)\n\n\t\t\t\t// TODO: there might be a nicer way to handle this\n\t\t\t\twindow.location.reload(false)\n\t\t\t} finally {\n\t\t\t\tthis.clearCache = false\n\t\t\t}\n\t\t},\n\t\tclearMailbox() {\n\t\t\tconst id = this.mailbox.databaseId\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('mail', 'All messages in mailbox will be deleted.'),\n\t\t\t\tt('mail', 'Clear mailbox {name}', { name: this.mailbox.displayName }),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('mail', 'Clear mailbox'),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('mail', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\treturn this.$store\n\t\t\t\t\t\t\t.dispatch('clearMailbox', { mailbox: this.mailbox })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tlogger.info(`mailbox ${id} cleared`)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => logger.error('could not clear mailbox', { error }))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t\tdeleteMailbox() {\n\t\t\tconst id = this.mailbox.databaseId\n\t\t\tlogger.info('delete mailbox', { mailbox: this.mailbox })\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('mail', 'The mailbox and all messages in it will be deleted.'),\n\t\t\t\tt('mail', 'Delete mailbox'),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('mail', 'Delete mailbox {name}', { name: this.mailbox.displayName }),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('mail', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\treturn this.$store\n\t\t\t\t\t\t\t.dispatch('deleteMailbox', { mailbox: this.mailbox })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tlogger.info(`mailbox ${id} deleted`)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => logger.error('could not delete mailbox', { error }))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t\tasync renameMailbox() {\n\t\t\tthis.renameInput = false\n\t\t\tthis.showSaving = false\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('renameMailbox', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tmailbox: this.mailbox,\n\t\t\t\t\tnewName: this.mailboxName,\n\t\t\t\t})\n\t\t\t\tthis.renameLabel = true\n\t\t\t\tthis.renameInput = false\n\t\t\t\tthis.showSaving = false\n\t\t\t} catch (error) {\n\t\t\t\tshowInfo(t('mail', 'An error occurred, unable to rename the mailbox.'))\n\t\t\t\tconsole.error(error)\n\t\t\t\tthis.renameLabel = false\n\t\t\t\tthis.renameInput = false\n\t\t\t\tthis.showSaving = true\n\t\t\t}\n\t\t},\n\t\topenRenameInput() {\n\t\t\t// Hide label and show input\n\t\t\tthis.renameLabel = false\n\t\t\tthis.renameInput = true\n\t\t\tthis.showSaving = false\n\t\t},\n\t\tonOpenMoveModal() {\n\t\t\tthis.showMoveModal = true\n\t\t},\n\t\tonCloseMoveModal() {\n\t\t\tthis.showMoveModal = false\n\t\t},\n\t\tonDragStart({ accountId }) {\n\t\t\tif (accountId !== this.mailbox.accountId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$store.commit('expandAccount', accountId)\n\t\t\tthis.showSubMailboxes = true\n\t\t},\n\t\tonDragEnd({ accountId }) {\n\t\t\tif (accountId !== this.mailbox.accountId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.showSubMailboxes = false\n\t\t},\n\t\tonEnvelopesMoved({ mailboxId, movedEnvelopes }) {\n\t\t\tif (this.mailbox.databaseId !== mailboxId) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst openedMessageHasBeenMoved = movedEnvelopes.find((movedEnvelope) => {\n\t\t\t\treturn movedEnvelope.envelopeId === this.$route.params.threadId\n\t\t\t})\n\t\t\t// navigate to the mailbox root\n\t\t\t// if the currently displayed message has been moved\n\t\t\tif (this.$route.name === 'message' && openedMessageHasBeenMoved) {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'mailbox',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tmailboxId: this.$route.params.mailboxId,\n\t\t\t\t\t\tfilter: this.$route.params?.filter,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.sidebar-opacity-icon {\n\topacity: .7;\n\t&:hover {\n\topacity: 1;\n\t}\n}\n.counter-bubble__counter {\n\tmax-width: initial;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=style&index=0&id=28214da8&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationMailbox.vue?vue&type=style&index=0&id=28214da8&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationMailbox.vue?vue&type=template&id=28214da8&scoped=true&\"\nimport script from \"./NavigationMailbox.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationMailbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationMailbox.vue?vue&type=style&index=0&id=28214da8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28214da8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c('AppNavigationItem',{directives:[{name:\"droppable-mailbox\",rawName:\"v-droppable-mailbox\",value:({\n\t\tmailboxId: _vm.mailbox.databaseId,\n\t\taccountId: _vm.mailbox.accountId,\n\t\tisValidDropTarget: _vm.isValidDropTarget,\n\t}),expression:\"{\\n\\t\\tmailboxId: mailbox.databaseId,\\n\\t\\taccountId: mailbox.accountId,\\n\\t\\tisValidDropTarget,\\n\\t}\"}],key:_vm.genId(_vm.mailbox),attrs:{\"id\":_vm.genId(_vm.mailbox),\"allow-collapse\":true,\"menu-open\":_vm.menuOpen,\"force-menu\":true,\"title\":_vm.title,\"to\":_vm.to,\"open\":_vm.showSubMailboxes},on:{\"update:menuOpen\":[function($event){_vm.menuOpen=$event},_vm.onMenuToggle],\"update:menu-open\":function($event){_vm.menuOpen=$event},\"update:open\":function($event){_vm.showSubMailboxes=$event}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('div',{staticClass:\"sidebar-opacity-icon\"},[(_vm.mailbox.isPriorityInbox)?_c('ImportantIcon',{attrs:{\"size\":20}}):(_vm.mailbox.id === _vm.UNIFIED_INBOX_ID)?_c('IconAllInboxes',{attrs:{\"size\":20}}):(_vm.mailbox.specialRole === 'inbox' && !_vm.mailbox.isPriorityInbox && _vm.filter !=='starred')?_c('IconInbox',{attrs:{\"size\":20}}):(_vm.filter === 'starred')?_c('IconFavorite',{attrs:{\"size\":20}}):(_vm.mailbox.specialRole === 'drafts')?_c('IconDraft',{attrs:{\"size\":20}}):(_vm.mailbox.specialRole === 'sent')?_c('IconSend',{attrs:{\"size\":20}}):(_vm.mailbox.specialRole === 'archive')?_c('IconArchive',{attrs:{\"size\":20}}):(_vm.mailbox.specialRole === 'trash')?_c('IconDelete',{attrs:{\"size\":20}}):_c('IconFolder',{attrs:{\"size\":20}})],1)]},proxy:true}],null,false,3545748813)},[_vm._v(\" \"),_c('template',{slot:\"actions\"},[(!_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionText',{attrs:{\"title\":_vm.mailbox.name},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"title\":_vm.statsText,\"size\":20}})]},proxy:true}],null,false,3059915399)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.statsText)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.mailbox.specialRole !== 'flagged' && !_vm.account.isUnified)?_c('ActionButton',{attrs:{\"title\":_vm.t('mail', 'Mark all as read'),\"disabled\":_vm.loadingMarkAsRead},on:{\"click\":_vm.markAsRead},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEmailCheck',{attrs:{\"title\":_vm.t('mail', 'Mark all messages of this mailbox as read'),\"size\":20}})]},proxy:true}],null,false,1600378416)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mark all messages of this mailbox as read'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.editing && !_vm.account.isUnified && _vm.hasDelimiter && _vm.mailbox.specialRole !== 'flagged')?_c('ActionButton',{on:{\"click\":_vm.openCreateMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"title\":_vm.t('mail', 'Add submailbox'),\"size\":20}})]},proxy:true}],null,false,3855968907)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add submailbox'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.editing)?_c('ActionInput',{on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderAdd',{attrs:{\"title\":_vm.t('mail', 'Add submailbox'),\"size\":20}})]},proxy:true}],null,false,3855968907)}):_vm._e(),_vm._v(\" \"),(_vm.renameLabel && !_vm.hasSubMailboxes && !_vm.account.isUnified)?_c('ActionButton',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.openRenameInput.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderRename',{attrs:{\"title\":_vm.t('mail', 'Edit name'),\"size\":20}})]},proxy:true}],null,false,2185581176)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit name'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.renameInput)?_c('ActionInput',{attrs:{\"value\":_vm.mailboxName},on:{\"update:value\":function($event){_vm.mailboxName=$event},\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.renameMailbox.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderRename',{attrs:{\"title\":_vm.t('mail', 'Edit name'),\"size\":20}})]},proxy:true}],null,false,2185581176)}):_vm._e(),_vm._v(\" \"),(_vm.showSaving)?_c('ActionText',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconLoading',{attrs:{\"size\":20}})]},proxy:true}],null,false,3081367109)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Saving'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && _vm.hasDelimiter && !_vm.mailbox.specialRole && !_vm.hasSubMailboxes)?_c('ActionButton',{attrs:{\"id\":_vm.genId(_vm.mailbox),\"close-after-click\":true},on:{\"click\":function($event){$event.preventDefault();return _vm.onOpenMoveModal.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconExternal',{attrs:{\"title\":_vm.t('mail', 'Move'),\"size\":20}})]},proxy:true}],null,false,2980341929)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.debug && !_vm.account.isUnified && _vm.mailbox.specialRole !== 'flagged')?_c('ActionButton',{attrs:{\"title\":_vm.t('mail', 'Clear cache'),\"disabled\":_vm.clearingCache},on:{\"click\":_vm.clearCache},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconFolderSync',{attrs:{\"title\":_vm.t('mail', 'Clear locally cached data, in case there are issues with synchronization.'),\"size\":20}})]},proxy:true}],null,false,2650797150)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Clear locally cached data, in case there are issues with synchronization.'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.notVirtual)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.isSubscribed,\"disabled\":_vm.changeSubscription},on:{\"update:checked\":_vm.changeFolderSubscription}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Subscribed'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.notVirtual && _vm.notInbox)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.mailbox.syncInBackground,\"disabled\":_vm.changingSyncInBackground},on:{\"update:checked\":_vm.changeSyncInBackground}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Sync in background'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.mailbox.specialRole !== 'flagged' && !_vm.account.isUnified)?_c('ActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.clearMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('EraserVariant',{attrs:{\"size\":20}})]},proxy:true}],null,false,3994454445)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Clear mailbox'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified && !_vm.mailbox.specialRole && !_vm.hasSubMailboxes)?_c('ActionButton',{on:{\"click\":_vm.deleteMailbox},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconDelete',{attrs:{\"title\":_vm.t('mail', 'Delete mailbox'),\"size\":20}})]},proxy:true}],null,false,3732234905)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete mailbox'))+\"\\n\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.showUnreadCounter && _vm.subCounter)?_c('CounterBubble',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.mailbox.unread)+\" (\"+_vm._s(_vm.subCounter)+\")\\n\\t\")]):(_vm.showUnreadCounter)?_c('CounterBubble',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.mailbox.unread)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('template',{slot:\"extra\"},[(_vm.showMoveModal)?_c('MoveMailboxModal',{attrs:{\"account\":_vm.account,\"mailbox\":_vm.mailbox},on:{\"close\":_vm.onCloseMoveModal}}):_vm._e()],1),_vm._v(\" \"),_vm._l((_vm.subMailboxes),function(subMailbox){return _c('NavigationMailbox',{key:_vm.genId(subMailbox),attrs:{\"account\":_vm.account,\"mailbox\":subMailbox}})})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright Copyright (c) 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @author Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<AppNavigationItem\n\t\tid=\"navigation-outbox\"\n\t\tkey=\"navigation-outbox\"\n\t\t:title=\"t('mail', 'Outbox')\"\n\t\t:to=\"to\">\n\t\t<template #icon>\n\t\t\t<IconOutbox\n\t\t\t\tclass=\"outbox-opacity-icon\"\n\t\t\t\t:size=\"20\" />\n\t\t</template>\n\t\t<template #counter>\n\t\t\t<CounterBubble\n\t\t\t\tv-if=\"count\"\n\t\t\t\tclass=\"navigation-outbox__unread-counter\">\n\t\t\t\t{{ count }}\n\t\t\t</CounterBubble>\n\t\t</template>\n\t</AppNavigationItem>\n</template>\n\n<script>\nimport { NcAppNavigationItem as AppNavigationItem, NcCounterBubble as CounterBubble } from '@nextcloud/vue'\nimport IconOutbox from 'vue-material-design-icons/InboxArrowUp'\n\nexport default {\n\tname: 'NavigationOutbox',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tCounterBubble,\n\t\tIconOutbox,\n\t},\n\tcomputed: {\n\t\tcount() {\n\t\t\treturn this.$store.getters['outbox/getAllMessages'].length\n\t\t},\n\t\tto() {\n\t\t\treturn {\n\t\t\t\tname: 'outbox',\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.navigation-outbox {\n\t&__unread-counter {\n\t\tmargin-right: calc(var(--default-grid-baseline)*2);\n\t}\n}\n\n.outbox-opacity-icon {\n\topacity: .7;\n\n\t&:hover {\n\t\topacity: 1;\n\t}\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=style&index=0&id=db273da8&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationOutbox.vue?vue&type=style&index=0&id=db273da8&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationOutbox.vue?vue&type=template&id=db273da8&scoped=true&\"\nimport script from \"./NavigationOutbox.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationOutbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationOutbox.vue?vue&type=style&index=0&id=db273da8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"db273da8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppNavigationItem',{key:\"navigation-outbox\",attrs:{\"id\":\"navigation-outbox\",\"title\":_vm.t('mail', 'Outbox'),\"to\":_vm.to},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconOutbox',{staticClass:\"outbox-opacity-icon\",attrs:{\"size\":20}})]},proxy:true},{key:\"counter\",fn:function(){return [(_vm.count)?_c('CounterBubble',{staticClass:\"navigation-outbox__unread-counter\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.count)+\"\\n\\t\\t\")]):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcuts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcuts.vue?vue&type=script&lang=js&\"","<template>\n\t<Modal\n\t\tsize=\"large\"\n\t\t:title=\"t('mail', 'Keyboard shortcut')\"\n\t\t@close=\"$emit('close')\">\n\t\t<h2>{{ t('mail', 'Keyboard shortcuts') }}</h2>\n\n\t\t<p>{{ t('mail', 'Speed up your Mail experience with these quick shortcuts.') }}</p>\n\n\t\t<dl>\n\t\t\t<div>\n\t\t\t\t<dt><kbd>C</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Compose new message') }}</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><kbd>←</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Newer message') }}</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><kbd>→</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Older message') }}</dd>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<dt><kbd>S</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Toggle star') }}</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><kbd>U</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Toggle unread') }}</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><kbd>Del</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Delete') }}</dd>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<dt><kbd>Ctrl</kbd> + <kbd>F</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Search') }}</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><kbd>Ctrl</kbd> + <kbd>Enter</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Send') }}</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><kbd>R</kbd></dt>\n\t\t\t\t<dd>{{ t('mail', 'Refresh') }}</dd>\n\t\t\t</div>\n\t\t</dl>\n\t</Modal>\n</template>\n\n<script>\nimport { NcModal as Modal } from '@nextcloud/vue'\n\nexport default {\n\tname: 'KeyboardShortcuts',\n\tcomponents: {\n\t\tModal,\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.modal-wrapper .modal-container) {\n\tdisplay: block;\n\toverflow: scroll;\n\ttransition: transform 300ms ease;\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 40px rgba(0,0,0,0.2);\n\tpadding: 30px 40px 20px;\n}\ndt {\n\twidth: auto;\n\ttext-align: left;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcuts.vue?vue&type=style&index=0&id=b7dde5e0&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcuts.vue?vue&type=style&index=0&id=b7dde5e0&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./KeyboardShortcuts.vue?vue&type=template&id=b7dde5e0&scoped=true&\"\nimport script from \"./KeyboardShortcuts.vue?vue&type=script&lang=js&\"\nexport * from \"./KeyboardShortcuts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./KeyboardShortcuts.vue?vue&type=style&index=0&id=b7dde5e0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7dde5e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{attrs:{\"size\":\"large\",\"title\":_vm.t('mail', 'Keyboard shortcut')},on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('h2',[_vm._v(_vm._s(_vm.t('mail', 'Keyboard shortcuts')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.t('mail', 'Speed up your Mail experience with these quick shortcuts.')))]),_vm._v(\" \"),_c('dl',[_c('div',[_c('dt',[_c('kbd',[_vm._v(\"C\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Compose new message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"←\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Newer message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"→\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Older message')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"S\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Toggle star')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"U\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Toggle unread')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"Del\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Delete')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"Ctrl\")]),_vm._v(\" + \"),_c('kbd',[_vm._v(\"F\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Search')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"Ctrl\")]),_vm._v(\" + \"),_c('kbd',[_vm._v(\"Enter\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Send')))])]),_vm._v(\" \"),_c('div',[_c('dt',[_c('kbd',[_vm._v(\"R\")])]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.t('mail', 'Refresh')))])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<router-link v-if=\"allowNewMailAccounts\" to=\"/setup\" class=\"app-settings-button button primary new-button\">\n\t\t\t<IconAdd :size=\"20\" />\n\t\t\t{{ t('mail', 'Add mail account') }}\n\t\t</router-link>\n\n\t\t<p v-if=\"loadingOptOutSettings\" class=\"app-settings\">\n\t\t\t<IconLoading :size=\"20\" />\n\t\t\t{{ optOutSettingsText }}\n\t\t</p>\n\t\t<p v-else class=\"app-settings\">\n\t\t\t<input\n\t\t\t\tid=\"data-collection-toggle\"\n\t\t\t\tclass=\"checkbox\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t:checked=\"useDataCollection\"\n\t\t\t\t@change=\"onToggleCollectData\">\n\t\t\t<label for=\"data-collection-toggle\">{{ optOutSettingsText }}</label>\n\t\t</p>\n\n\t\t<p v-if=\"toggleAutoTagging\" class=\"app-settings\">\n\t\t\t<IconLoading :size=\"20\" />\n\t\t\t{{ autoTaggingText }}\n\t\t</p>\n\t\t<p v-else class=\"app-settings\">\n\t\t\t<input\n\t\t\t\tid=\"auto-tagging-toggle\"\n\t\t\t\tclass=\"checkbox\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t:checked=\"useAutoTagging\"\n\t\t\t\t@change=\"onToggleAutoTagging\">\n\t\t\t<label for=\"auto-tagging-toggle\">{{ autoTaggingText }}</label>\n\t\t</p>\n\n\t\t<p v-if=\"loadingAvatarSettings\" class=\"app-settings avatar-settings\">\n\t\t\t<IconLoading :size=\"20\" />\n\t\t\t{{ t('mail', 'Use Gravatar and favicon avatars') }}\n\t\t</p>\n\t\t<p v-else class=\"app-settings\">\n\t\t\t<input\n\t\t\t\tid=\"gravatar-enabled\"\n\t\t\t\tclass=\"checkbox\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t:checked=\"useExternalAvatars\"\n\t\t\t\t@change=\"onToggleExternalAvatars\">\n\t\t\t<label for=\"gravatar-enabled\">{{ t('mail', 'Use Gravatar and favicon avatars') }}</label>\n\t\t</p>\n\n\t\t<p v-if=\"loadingReplySettings\" class=\"app-settings reply-settings\">\n\t\t\t<IconLoading :size=\"20\" />\n\t\t\t{{ replySettingsText }}\n\t\t</p>\n\t\t<p v-else class=\"app-settings\">\n\t\t\t<input\n\t\t\t\tid=\"bottom-reply-enabled\"\n\t\t\t\tclass=\"checkbox\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t:checked=\"useBottomReplies\"\n\t\t\t\t@change=\"onToggleButtonReplies\">\n\t\t\t<label for=\"bottom-reply-enabled\">{{ replySettingsText }}</label>\n\t\t</p>\n\n\t\t<p>\n\t\t\t<ButtonVue type=\"secondary\" class=\"app-settings-button\" @click=\"registerProtocolHandler\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconEmail :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t{{ t('mail', 'Register as application for mail links') }}\n\t\t\t</ButtonVue>\n\t\t</p>\n\n\t\t<ButtonVue\n\t\t\tclass=\"app-settings-button\"\n\t\t\ttype=\"secondary\"\n\t\t\t@click.prevent.stop=\"showKeyboardShortcuts\"\n\t\t\t@shortkey=\"toggleKeyboardShortcuts\">\n\t\t\t<template #icon>\n\t\t\t\t<IconInfo :size=\"20\" />\n\t\t\t</template>\n\t\t\t{{ t('mail', 'Show keyboard shortcuts') }}\n\t\t</ButtonVue>\n\t\t<KeyboardShortcuts v-if=\"displayKeyboardShortcuts\" @close=\"closeKeyboardShortcuts\" />\n\n\t\t<p class=\"mailvelope-section\">\n\t\t\t{{ t('mail', 'Looking for a way to encrypt your emails?') }}\n\t\t</p>\n\t\t<a\n\t\t\thref=\"https://www.mailvelope.com/\"\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noopener noreferrer\">\n\t\t\t{{ t('mail', 'Install Mailvelope browser extension here') }}\n\t\t</a>\n\t</div>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport { showError } from '@nextcloud/dialogs'\n\nimport { NcButton as ButtonVue, NcLoadingIcon as IconLoading } from '@nextcloud/vue'\n\nimport IconInfo from 'vue-material-design-icons/Information'\nimport IconAdd from 'vue-material-design-icons/Plus'\nimport IconEmail from 'vue-material-design-icons/Email'\nimport Logger from '../logger'\nimport KeyboardShortcuts from '../views/KeyboardShortcuts'\n\nexport default {\n\tname: 'AppSettingsMenu',\n\tcomponents: {\n\t\tButtonVue,\n\t\tKeyboardShortcuts,\n\t\tIconInfo,\n\t\tIconEmail,\n\t\tIconAdd,\n\t\tIconLoading,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadingAvatarSettings: false,\n\t\t\t// eslint-disable-next-line\n\t\t\toptOutSettingsText: t('mail', 'Allow the app to collect data about your interactions. Based on this data, the app will adapt to your preferences. The data will only be stored locally.'),\n\t\t\tloadingOptOutSettings: false,\n\t\t\t// eslint-disable-next-line\n\t\t\treplySettingsText: t('mail', 'Put my text to the bottom of a reply instead of on top of it.'),\n\t\t\tloadingReplySettings: false,\n\t\t\tdisplayKeyboardShortcuts: false,\n\t\t\t// eslint-disable-next-line\n\t\t\tautoTaggingText: t('mail', 'Automatically classify importance of new email'),\n\t\t\ttoggleAutoTagging: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tuseBottomReplies() {\n\t\t\treturn this.$store.getters.getPreference('reply-mode', 'top') === 'bottom'\n\t\t},\n\t\tuseExternalAvatars() {\n\t\t\treturn this.$store.getters.getPreference('external-avatars', 'true') === 'true'\n\t\t},\n\t\tuseDataCollection() {\n\t\t\treturn this.$store.getters.getPreference('collect-data', 'true') === 'true'\n\t\t},\n\t\tuseAutoTagging() {\n\t\t\treturn this.$store.getters.getPreference('tag-classified-messages', 'true') === 'true'\n\t\t},\n\t\tallowNewMailAccounts() {\n\t\t\treturn this.$store.getters.getPreference('allow-new-accounts', true)\n\t\t},\n\t},\n\tmethods: {\n\t\tonToggleButtonReplies(e) {\n\t\t\tthis.loadingReplySettings = true\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch('savePreference', {\n\t\t\t\t\tkey: 'reply-mode',\n\t\t\t\t\tvalue: e.target.checked ? 'bottom' : 'top',\n\t\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingReplySettings = false\n\t\t\t\t})\n\t\t},\n\t\tonToggleExternalAvatars(e) {\n\t\t\tthis.loadingAvatarSettings = true\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch('savePreference', {\n\t\t\t\t\tkey: 'external-avatars',\n\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingAvatarSettings = false\n\t\t\t\t})\n\t\t},\n\t\tonToggleCollectData(e) {\n\t\t\tthis.loadingOptOutSettings = true\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch('savePreference', {\n\t\t\t\t\tkey: 'collect-data',\n\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t\t.catch((error) => Logger.error('could not save preferences', { error }))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingOptOutSettings = false\n\t\t\t\t})\n\t\t},\n\t\tasync onToggleAutoTagging(e) {\n\t\t\tthis.toggleAutoTagging = true\n\n\t\t\ttry {\n\t\t\t\tawait this.$store\n\t\t\t\t\t.dispatch('savePreference', {\n\t\t\t\t\t\tkey: 'tag-classified-messages',\n\t\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tLogger.error('could not save preferences', { error })\n\n\t\t\t\tshowError(t('mail', 'Could not update preference'))\n\t\t\t} finally {\n\t\t\t\tthis.toggleAutoTagging = false\n\t\t\t}\n\t\t},\n\t\tregisterProtocolHandler() {\n\t\t\tif (window.navigator.registerProtocolHandler) {\n\t\t\t\tconst url\n\t\t\t\t\t= window.location.protocol + '//' + window.location.host + generateUrl('apps/mail/compose?uri=%s')\n\t\t\t\ttry {\n\t\t\t\t\twindow.navigator.registerProtocolHandler('mailto', url, OC.theme.name + ' Mail')\n\t\t\t\t} catch (err) {\n\t\t\t\t\tLogger.error('could not register protocol handler', { err })\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show the keyboard shortcuts overview\n\t\t */\n\t\tshowKeyboardShortcuts() {\n\t\t\tthis.displayKeyboardShortcuts = true\n\t\t},\n\t\t/**\n\t\t * Hide the keyboard shortcuts overview\n\t\t */\n\t\tcloseKeyboardShortcuts() {\n\t\t\tthis.displayKeyboardShortcuts = false\n\t\t},\n\t\t/**\n\t\t * Toggles the keyboard shortcuts overview\n\t\t */\n\t\ttoggleKeyboardShortcuts() {\n\t\t\tthis.displayKeyboardShortcuts = !this.displayKeyboardShortcuts\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\np.app-settings span.loading-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tpadding: 5px 0;\n}\np.app-settings {\n\tpadding: 10px 0;\n}\n.app-settings-button {\n\tdisplay: inline-flex;\n\tbackground-position: 10px center;\n\ttext-align: left;\n\tmargin-top: 6px;\n}\n.app-settings-button.button.primary.new-button {\n\tcolor: var(--color-main-background);\n\t//this style will be removed after we migrate also the  'add mail account' to material design\n\tpadding-left: 34px;\n\tgap: 4px;\n}\n.app-settings-link {\n\ttext-decoration: underline;\n}\n.mailvelope-section {\n\tpadding-top: 15px;\n\n\ta.button {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tline-height: normal;\n\t\tmin-height: 44px;\n\t\tfont-size: unset;\n\n\t\t&:focus-visible,\n\t\t&:hover {\n\t\t\tbox-shadow: 0 0 0 1px var(--color-primary-element);\n\t\t}\n\t}\n}\n.material-design-icon {\n\topacity: .7;\n\t&.lock-icon {\n\t\tmargin-right: 10px;\n\t}\n\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=02ea4924&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=02ea4924&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AppSettingsMenu.vue?vue&type=template&id=02ea4924&scoped=true&\"\nimport script from \"./AppSettingsMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSettingsMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppSettingsMenu.vue?vue&type=style&index=0&id=02ea4924&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02ea4924\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.allowNewMailAccounts)?_c('router-link',{staticClass:\"app-settings-button button primary new-button\",attrs:{\"to\":\"/setup\"}},[_c('IconAdd',{attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Add mail account'))+\"\\n\\t\")],1):_vm._e(),_vm._v(\" \"),(_vm.loadingOptOutSettings)?_c('p',{staticClass:\"app-settings\"},[_c('IconLoading',{attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.optOutSettingsText)+\"\\n\\t\")],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"data-collection-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useDataCollection},on:{\"change\":_vm.onToggleCollectData}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"data-collection-toggle\"}},[_vm._v(_vm._s(_vm.optOutSettingsText))])]),_vm._v(\" \"),(_vm.toggleAutoTagging)?_c('p',{staticClass:\"app-settings\"},[_c('IconLoading',{attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.autoTaggingText)+\"\\n\\t\")],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"auto-tagging-toggle\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useAutoTagging},on:{\"change\":_vm.onToggleAutoTagging}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"auto-tagging-toggle\"}},[_vm._v(_vm._s(_vm.autoTaggingText))])]),_vm._v(\" \"),(_vm.loadingAvatarSettings)?_c('p',{staticClass:\"app-settings avatar-settings\"},[_c('IconLoading',{attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Use Gravatar and favicon avatars'))+\"\\n\\t\")],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"gravatar-enabled\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useExternalAvatars},on:{\"change\":_vm.onToggleExternalAvatars}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"gravatar-enabled\"}},[_vm._v(_vm._s(_vm.t('mail', 'Use Gravatar and favicon avatars')))])]),_vm._v(\" \"),(_vm.loadingReplySettings)?_c('p',{staticClass:\"app-settings reply-settings\"},[_c('IconLoading',{attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.replySettingsText)+\"\\n\\t\")],1):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"bottom-reply-enabled\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useBottomReplies},on:{\"change\":_vm.onToggleButtonReplies}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"bottom-reply-enabled\"}},[_vm._v(_vm._s(_vm.replySettingsText))])]),_vm._v(\" \"),_c('p',[_c('ButtonVue',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\"},on:{\"click\":_vm.registerProtocolHandler},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconEmail',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Register as application for mail links'))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),_c('ButtonVue',{staticClass:\"app-settings-button\",attrs:{\"type\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showKeyboardShortcuts.apply(null, arguments)},\"shortkey\":_vm.toggleKeyboardShortcuts},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('IconInfo',{attrs:{\"size\":20}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Show keyboard shortcuts'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.displayKeyboardShortcuts)?_c('KeyboardShortcuts',{on:{\"close\":_vm.closeKeyboardShortcuts}}):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"mailvelope-section\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Looking for a way to encrypt your emails?'))+\"\\n\\t\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://www.mailvelope.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Install Mailvelope browser extension here'))+\"\\n\\t\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigation>\n\t\t<NewMessageButtonHeader />\n\t\t<template #list>\n\t\t\t<!-- Special mailboxes first -->\n\t\t\t<NavigationMailbox\n\t\t\t\tv-for=\"mailbox in unifiedMailboxes\"\n\t\t\t\t:key=\"'mailbox-' + mailbox.databaseId\"\n\t\t\t\t:account=\"unifiedAccount\"\n\t\t\t\t:mailbox=\"mailbox\" />\n\t\t\t<NavigationOutbox />\n\t\t\t<AppNavigationSpacer />\n\n\t\t\t<!-- All other mailboxes grouped by their account -->\n\t\t\t<template v-for=\"group in menu\">\n\t\t\t\t<NavigationAccount\n\t\t\t\t\tv-if=\"group.account\"\n\t\t\t\t\t:key=\"group.account.id\"\n\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t:first-mailbox=\"group.mailboxes[0]\"\n\t\t\t\t\t:is-first=\"isFirst(group.account)\"\n\t\t\t\t\t:is-last=\"isLast(group.account)\"\n\t\t\t\t\t:is-disabled=\"isDisabled(group.account)\" />\n\t\t\t\t<template v-if=\"!isDisabled(group.account)\">\n\t\t\t\t\t<template v-for=\"item in group.mailboxes\">\n\t\t\t\t\t\t<NavigationMailbox\n\t\t\t\t\t\t\tv-show=\"\n\t\t\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t\t\t!isCollapsed(group.account, item)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t:key=\"'mailbox-' + item.databaseId\"\n\t\t\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t\t\t:mailbox=\"item\" />\n\t\t\t\t\t\t<NavigationMailbox\n\t\t\t\t\t\t\tv-if=\"!group.account.isUnified && item.specialRole === 'inbox'\"\n\t\t\t\t\t\t\t:key=\"item.databaseId + '-starred'\"\n\t\t\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t\t\t:mailbox=\"item\"\n\t\t\t\t\t\t\tfilter=\"starred\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<NavigationAccountExpandCollapse\n\t\t\t\t\t\tv-if=\"!group.account.isUnified && group.isCollapsible\"\n\t\t\t\t\t\t:key=\"'collapse-' + group.account.id\"\n\t\t\t\t\t\t:account=\"group.account\" />\n\t\t\t\t\t<AppNavigationSpacer :key=\"'spacer-' + group.account.id\" />\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</template>\n\t\t<template #footer>\n\t\t\t<AppNavigationSettings :title=\"t('mail', 'Mail settings')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconSetting :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t\t<AppSettingsMenu />\n\t\t\t</AppNavigationSettings>\n\t\t</template>\n\t</AppNavigation>\n</template>\n\n<script>\nimport { NcAppNavigation as AppNavigation, NcAppNavigationSettings as AppNavigationSettings, NcAppNavigationSpacer as AppNavigationSpacer } from '@nextcloud/vue'\nimport NewMessageButtonHeader from './NewMessageButtonHeader'\n\nimport NavigationAccount from './NavigationAccount'\nimport NavigationAccountExpandCollapse from './NavigationAccountExpandCollapse'\nimport NavigationMailbox from './NavigationMailbox'\nimport NavigationOutbox from './NavigationOutbox'\nimport IconSetting from 'vue-material-design-icons/Cog'\nimport AppSettingsMenu from '../components/AppSettingsMenu'\nimport { UNIFIED_ACCOUNT_ID } from '../store/constants'\n\nexport default {\n\tname: 'Navigation',\n\tcomponents: {\n\t\tAppNavigation,\n\t\tAppNavigationSettings,\n\t\tAppNavigationSpacer,\n\t\tAppSettingsMenu,\n\t\tNavigationAccount,\n\t\tNavigationAccountExpandCollapse,\n\t\tNavigationMailbox,\n\t\tNavigationOutbox,\n\t\tNewMessageButtonHeader,\n\t\tIconSetting,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trefreshing: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmenu() {\n\t\t\treturn this.$store.getters.accounts\n\t\t\t\t.filter(account => account.id !== UNIFIED_ACCOUNT_ID)\n\t\t\t\t.map(account => {\n\t\t\t\t\tconst mailboxes = this.$store.getters.getMailboxes(account.id)\n\t\t\t\t\tconst nonSpecialRoleMailboxes = mailboxes.filter(\n\t\t\t\t\t\t(mailbox) => this.isCollapsed(account, mailbox)\n\t\t\t\t\t)\n\t\t\t\t\tconst isCollapsible = nonSpecialRoleMailboxes.length > 1\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: account.id,\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tmailboxes,\n\t\t\t\t\t\tisCollapsible,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t},\n\t\tunifiedAccount() {\n\t\t\treturn this.$store.getters.getAccount(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\tunifiedMailboxes() {\n\t\t\treturn this.$store.getters.getMailboxes(UNIFIED_ACCOUNT_ID)\n\t\t},\n\t\t/**\n\t\t * Whether the current session is using passwordless authentication.\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tpasswordIsUnavailable() {\n\t\t\treturn this.$store.getters.getPreference('password-is-unavailable', false)\n\t\t},\n\t},\n\tmethods: {\n\t\tisCollapsed(account, mailbox) {\n\t\t\tif (mailbox.specialRole === 'inbox') {\n\t\t\t\t// INBOX is always visible\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tif (mailbox.databaseId === account.draftsMailboxId\n\t\t\t\t|| mailbox.databaseId === account.sentMailboxId\n\t\t\t\t|| mailbox.databaseId === account.trashMailboxId) {\n\t\t\t\t// Special folders are always visible\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn true\n\t\t},\n\t\tisFirst(account) {\n\t\t\tconst accounts = this.$store.getters.accounts\n\t\t\treturn account === accounts[1]\n\t\t},\n\t\tisLast(account) {\n\t\t\tconst accounts = this.$store.getters.accounts\n\t\t\treturn account === accounts[accounts.length - 1]\n\t\t},\n\t\t/**\n\t\t * Disable provisioned accounts when no password is available.\n\t\t * Loading messages of those accounts will fail and an endless spinner will be shown.\n\t\t *\n\t\t * @param {object} account Account object\n\t\t * @return {boolean} True if the account should be disabled\n\t\t */\n\t\tisDisabled(account) {\n\t\t\treturn this.passwordIsUnavailable && !!account.provisioningId\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.button {\n\twidth: 44px;\n\theight: 44px;\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\tdisplay: inline-block;\n\tposition: absolute;\n\tmargin-left: 254px;\n\tmargin-top: 13px;\n\topacity: .7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t\tbackground-color:var(--color-background-hover);\n\t}\n\t&:disabled {\n\t\tcursor: not-allowed;\n\t\topacity: .5;\n\t\tanimation: rotation 2s linear;\n\t}\n}\n:deep(.app-navigation-new button) {\n\twidth: 240px !important;\n\theight: 44px;\n}\n@keyframes rotation {\nfrom {\n\ttransform: rotate(-0deg);\n}\nto {\n\t\ttransform: rotate(-360deg);\n\t}\n}\n.app-navigation-spacer {\n\torder: 0 !important;\n}\n:deep(.settings-button) {\n\topacity: .7 !important;\n\tfont-weight: bold !important;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=0&id=58bba1fa&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=0&id=58bba1fa&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=58bba1fa&scoped=true&\"\nimport script from \"./Navigation.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navigation.vue?vue&type=style&index=0&id=58bba1fa&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58bba1fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.ready)?_c('ckeditor',{attrs:{\"value\":_vm.value,\"config\":_vm.config,\"editor\":_vm.editor,\"disabled\":_vm.disabled},on:{\"input\":_vm.onEditorInput,\"ready\":_vm.onEditorReady}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport InsertSignatureCommand from './InsertSignatureCommand'\n\nexport default class Signature extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\n\t\tthis.editor.commands.add(\n\t\t\t'insertSignature',\n\t\t\tnew InsertSignatureCommand(this.editor)\n\t\t)\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('signature', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'signature',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'signature',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * @copyright 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>\n *\n * @author 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\n\nexport default class Quote extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('quote', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'quote',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'quote',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport { Paragraph } from '@ckeditor/ckeditor5-paragraph'\n\nexport default class Mail extends Plugin {\n\n\tstatic get requires() {\n\t\treturn [Paragraph]\n\t}\n\n\tinit() {\n\t\tthis._overwriteParagraphConversion()\n\t}\n\n\t/**\n\t * Overwrite the elementToElement conversion\n\t * from the default paragraph plugin to add\n\t * margin:0 to every <p>.\n\t *\n\t * @private\n\t */\n\t_overwriteParagraphConversion() {\n\t\tthis.editor.conversion.elementToElement({\n\t\t\tmodel: 'paragraph',\n\t\t\tview: {\n\t\t\t\tname: 'p',\n\t\t\t\tstyles: {\n\t\t\t\t\tmargin: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t\tconverterPriority: 'high',\n\t\t})\n\t}\n\n}\n","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<ckeditor\n\t\tv-if=\"ready\"\n\t\t:value=\"value\"\n\t\t:config=\"config\"\n\t\t:editor=\"editor\"\n\t\t:disabled=\"disabled\"\n\t\t@input=\"onEditorInput\"\n\t\t@ready=\"onEditorReady\" />\n</template>\n\n<script>\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment'\nimport Editor from '@ckeditor/ckeditor5-editor-balloon/src/ballooneditor'\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials'\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote'\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold'\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font'\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph'\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading'\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic'\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link'\nimport ListStyle from '@ckeditor/ckeditor5-list/src/liststyle'\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin'\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough'\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin'\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter'\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image'\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize'\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload'\nimport MailPlugin from '../ckeditor/mail/MailPlugin'\n\nimport { getLanguage } from '@nextcloud/l10n'\n\nimport logger from '../logger'\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tckeditor: CKEditor.component,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thtml: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tbus: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\tconst plugins = [EssentialsPlugin, ParagraphPlugin, SignaturePlugin, QuotePlugin]\n\t\tconst toolbar = ['undo', 'redo']\n\n\t\tif (this.html) {\n\t\t\tplugins.push(...[\n\t\t\t\tHeadingPlugin,\n\t\t\t\tAlignmentPlugin,\n\t\t\t\tBoldPlugin,\n\t\t\t\tItalicPlugin,\n\t\t\t\tBlockQuotePlugin,\n\t\t\t\tLinkPlugin,\n\t\t\t\tListStyle,\n\t\t\t\tFontPlugin,\n\t\t\t\tRemoveFormat,\n\t\t\t\tStrikethroughPlugin,\n\t\t\t\tImagePlugin,\n\t\t\t\tImageUploadPlugin,\n\t\t\t\tBase64UploadAdapter,\n\t\t\t\tImageResizePlugin,\n\t\t\t\tMailPlugin,\n\t\t\t])\n\t\t\ttoolbar.unshift(...[\n\t\t\t\t'heading',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontSize',\n\t\t\t\t'bold',\n\t\t\t\t'italic',\n\t\t\t\t'fontColor',\n\t\t\t\t'imageUpload',\n\t\t\t\t'alignment',\n\t\t\t\t'bulletedList',\n\t\t\t\t'numberedList',\n\t\t\t\t'blockquote',\n\t\t\t\t'fontBackgroundColor',\n\t\t\t\t'strikethrough',\n\t\t\t\t'link',\n\t\t\t\t'removeFormat',\n\t\t\t])\n\t\t}\n\n\t\treturn {\n\t\t\tready: false,\n\t\t\teditor: Editor,\n\t\t\tconfig: {\n\t\t\t\tplaceholder: this.placeholder,\n\t\t\t\tplugins,\n\t\t\t\ttoolbar: {\n\t\t\t\t\titems: toolbar,\n\t\t\t\t},\n\t\t\t\tlanguage: 'en',\n\t\t\t},\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.loadEditorTranslations(getLanguage())\n\t},\n\tmethods: {\n\t\tasync loadEditorTranslations(language) {\n\t\t\tif (language === 'en') {\n\t\t\t\t// The default, nothing to fetch\n\t\t\t\treturn this.showEditor('en')\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlogger.debug(`loading ${language} translations for CKEditor`)\n\t\t\t\tawait import(\n\t\t\t\t\t/* webpackMode: \"lazy-once\" */\n\t\t\t\t\t/* webpackPrefetch: true */\n\t\t\t\t\t/* webpackPreload: true */\n\t\t\t\t\t`@ckeditor/ckeditor5-build-balloon/build/translations/${language}`\n\t\t\t\t)\n\t\t\t\tthis.showEditor(language)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not find CKEditor translations for \"${language}\"`, { error })\n\t\t\t\tthis.showEditor('en')\n\t\t\t}\n\t\t},\n\t\tshowEditor(language) {\n\t\t\tlogger.debug(`using \"${language}\" as CKEditor language`)\n\t\t\tthis.config.language = language\n\n\t\t\tthis.ready = true\n\t\t},\n\t\t/**\n\t\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\n\t\t */\n\t\tonEditorReady(editor) {\n\t\t\tlogger.debug('TextEditor is ready', { editor })\n\t\t\tthis.editorInstance = editor\n\n\t\t\tif (this.focus) {\n\t\t\t\tlogger.debug('focusing TextEditor')\n\t\t\t\teditor.editing.view.focus()\n\t\t\t}\n\n\t\t\tthis.bus.$on('append-to-body-at-cursor', this.appendToBodyAtCursor)\n\t\t\tthis.$emit('ready', editor)\n\t\t},\n\t\tonEditorInput(text) {\n\t\t\tlogger.debug(`TextEditor input changed to <${text}>`)\n\t\t\tthis.$emit('input', text)\n\t\t},\n\t\tappendToBodyAtCursor(toAppend) {\n\t\t\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\n\t\t\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\n\t\t\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\n\t\t\tthis.editorInstance.model.insertContent(modelFragment)\n\t\t},\n\t\teditorExecute(commandName, ...args) {\n\t\t\tif (this.editorInstance) {\n\t\t\t\tthis.editorInstance.execute(commandName, ...args)\n\t\t\t} else {\n\t\t\t\tthrow new Error('Impossible to execute a command before editor is ready.')\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n:deep(a) {\n\tcolor: #07d;\n}\n:deep(p) {\n\tcursor: text;\n\tmargin: 0 !important;\n}\n</style>\n\n<style>\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n:root {\n\t--ck-z-default: 10000;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=017cdc08&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=017cdc08&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=017cdc08&prod&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=017cdc08&prod&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=017cdc08&scoped=true&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=017cdc08&prod&lang=scss&scoped=true&\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&id=017cdc08&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"017cdc08\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(_c,_vm){return _c('span',_vm._g(_vm._b({staticClass:\"material-design-icon important-icon\",class:[_vm.data.class, _vm.data.staticClass],attrs:{\"aria-hidden\":!_vm.props.title,\"aria-label\":_vm.props.title,\"role\":\"img\"}},'span',_vm.data.attrs,false),_vm.listeners),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.props.fillColor,\"width\":_vm.props.size,\"height\":_vm.props.size,\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M0 0h24v24H0V0z\",\"fill\":\"none\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M2 13h7.8a1.4 1.4 0 001.1-.6L14 8l-3.1-4.4A1.4 1.4 0 009.8 3H2l3.4 5z\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportantIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportantIcon.vue?vue&type=script&lang=js&\"","<template functional>\n\t<span :aria-hidden=\"!props.title\"\n\t\t:aria-label=\"props.title\"\n\t\t:class=\"[data.class, data.staticClass]\"\n\t\tclass=\"material-design-icon important-icon\"\n\t\trole=\"img\"\n\t\tv-bind=\"data.attrs\"\n\t\tv-on=\"listeners\">\n\t\t<svg :fill=\"props.fillColor\"\n\t\t\tclass=\"material-design-icon__svg\"\n\t\t\t:width=\"props.size\"\n\t\t\t:height=\"props.size\"\n\t\t\tviewBox=\"0 0 16 16\">\n\t\t\t<path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n\t\t\t<path d=\"M2 13h7.8a1.4 1.4 0 001.1-.6L14 8l-3.1-4.4A1.4 1.4 0 009.8 3H2l3.4 5z\" />\n\t\t</svg>\n\t</span>\n</template>\n\n<script>\nexport default {\n\tname: 'ImportantIcon',\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20,\n\t\t},\n\t\tfillColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'currentColor',\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./ImportantIcon.vue?vue&type=template&id=6f6ed4f0&functional=true&\"\nimport script from \"./ImportantIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportantIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["map","webpackAsyncContext","req","webpackAsyncContextResolve","then","id","__webpack_require__","t","e","o","Error","code","keys","Object","resolve","module","exports","TRIGGER_CHANGE_ALIAS","TRIGGER_EDITOR_READY","InsertSignatureCommand","editor","writer","model","createRangeIn","document","getRoot","getWalker","shallow","value","item","is","name","remove","signature","signatureAboveQuote","length","viewFragment","data","processor","toView","modelFragment","toModel","signatureElement","createElement","append","createText","signaturePosition","this","findPosition","insertContent","createPositionBefore","createPositionAt","trigger","change","removeSignatureElement","insertSignatureElement","hasSignatureElement","isEnabled","Command","dragEventBus","Vue","translate","mailbox","specialUse","includes","isPriorityInbox","isUnified","translateSpecial","console","error","displayName","i","trustSender","email","type","trustFlag","url","generateUrl","axios","fetchTrustedSenders","response","___CSS_LOADER_EXPORT___","push","queryIspdb","queryMx","testConnectivity","host","port","CONSENT_ABORTED","getUserConsent","redirectUrl","ssoWindow","window","open","focus","Promise","reject","addEventListener","event","logger","windowClosedTimer","setInterval","closed","clearInterval","components","Tab","Tabs","ButtonVue","IconLoading","IconCheck","props","default","account","required","loading","loadingMessage","mode","accountName","emailAddress","autoConfig","password","manualConfig","imapHost","imapPort","imapSslMode","imapUser","imapPassword","smtpHost","smtpPort","smtpSslMode","smtpUser","smtpPassword","feedback","computed","mapGetters","settingsPage","isDisabledAuto","isDisabledManual","isGoogleAccount","useGoogleSso","submitButtonText","methods","onModeChanged","onImapSslModeChange","onSmtpSslModeChange","clearFeedback","applyAutoConfig","detectConfig","config","mxHosts","imapAndSmtpHosts","canConnect","results","firstImapHost","firstSmtpHost","imapConfig","username","security","smtpConfig","onSubmit","authMethod","replace","oldAccountData","accountId","isValidEmail","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","component","_vm","_c","_self","attrs","on","$event","preventDefault","apply","arguments","useUrlFragment","defaultTabHash","key","_v","_s","directives","rawName","expression","domProps","target","composing","staticClass","modifiers","_e","$set","_q","class","primary","ref","googleOauthUrl","scopedSlots","_u","fn","proxy","Modal","IconInbox","IconDraft","IconSent","IconArchive","IconTrash","IconFolder","IconBreadcrumb","selected","labelSelect","labelSelectLoading","pickedMailbox","allowRoot","selectedMailboxId","mailboxCrumbs","mailboxes","filteredMailboxes","getMailboxIcon","getMailboxTitle","onClickHome","onClickCrumb","onClickMailbox","onSelect","onClose","_l","box","index","databaseId","specialRole","Button","IconAdd","IconRefresh","refreshing","currentMailbox","refreshMailbox","mailboxId","onNewMessage","$store","getters","showMessageComposer","watch","dispatch","editorMode","Logger","catch","Treeselect","disabled","getMailboxes","label","children","MailboxInlinePicker","callback","$$v","saving","draftsMailbox","get","set","draftsMailboxId","sentMailbox","sentMailboxId","trashMailbox","trashMailboxId","archiveMailbox","archiveMailboxId","TextEditor","Multiselect","bus","identity","identities","isLargeSignature","beforeMount","changeIdentity","toHtml","deleteSignature","saveSignature","dispatchType","payload","Array","isArray","_i","$$a","$$el","$$c","checked","$$i","concat","slice","IconRename","IconDelete","alias","changeAlias","changeName","showForm","updateAlias","aliasId","deleteAlias","provisioned","AliasForm","newAlias","newName","aliases","createAlias","resetCreate","provisioningId","list","sortedSenders","mounted","removeSender","sender","showError","senderType","sieveConfig","sieveEnabled","sieveHost","sievePort","sieveUser","sievePassword","sieveSslMode","useImapCredentials","errorMessage","_t","script","scriptData","immediate","handler","saveActiveScript","MARKER","DATA_MARKER","OOOParserError","parseOutOfOfficeState","sieveScript","out","state","nextState","split","line","startsWith","json","JSON","parse","start","Date","end","join","buildOutOfOfficeSieveScript","condition","enabled","subject","message","allowedRecipients","version","formatDateForSieve","undefined","stringify","vacation","escapeStringForSieve","formattedRecipients","recipient","date","year","getFullYear","toString","padStart","month","getMonth","day","getDate","string","replaceAll","DatetimePicker","CheckIcon","enableLastDay","firstDay","lastDay","valid","sieveScriptData","parsedState","submit","originalScript","enrichedScript","SieveAccountForm","SieveFilterForm","TrustedSenders","AccountForm","AliasSettings","EditorSettings","SignatureSettings","AppSettingsDialog","AppSettingsSection","AccountDefaultsSettings","OutOfOfficeForm","showSettings","menu","handleClick","behavior","onOpen","AppNavigationItem","ActionButton","ActionCheckbox","ActionInput","ActionText","AccountSettings","IconInfo","IconSettings","IconFolderAdd","MenuDown","MenuUp","IconError","IconBullet","firstMailbox","isFirst","isLast","isDisabled","menuOpen","delete","savingShowOnlySubscribed","quota","editing","showSaving","visible","firstMailboxRoute","params","bulletColor","hashed","md5","hsl","conv","fixedHsl","Math","round","quotaText","usage","limit","createMailbox","openCreateMailbox","removeAccount","OC","dialogueText","confirm","confirmClasses","cancel","location","changeAccountOrderUp","up","changeAccountOrderDown","changeShowSubscribedOnly","showSubscribedOnly","onMenuToggle","fetchQuota","toggleAccountSettings","showAccountSettings","stopPropagation","title","toggleCollapse","MailboxPicker","moving","destMailboxId","onMove","destMailbox","genId","instance","DroppableMailbox","el","componentInstance","registerListeners","bind","setInitialAttributes","draggableInfo","setStatus","onDragStart","onDragEnd","firstChild","onDragOver","onDragLeave","onDrop","removeEventListener","status","setAttribute","canBeDropped","isSameAccount","isValidDropTarget","dataTransfer","dropEffect","envelopesBeingDragged","getData","envelopes","processedEnvelopes","envelope","processDroppedItem","parseInt","envelopeId","processed","all","movedEnvelopes","querySelector","store","removeAttribute","DroppableMailboxDirective","binding","vnode","context","componentUpdated","update","CounterBubble","IconSend","IconEmailCheck","IconExternal","IconFolderRename","IconFolderSync","IconAllInboxes","IconFavorite","EraserVariant","ImportantIcon","MoveMailboxModal","droppableMailbox","filter","debug","mailboxStats","loadingMarkAsRead","clearingCache","changeSubscription","changingSyncInBackground","showSubMailboxes","renameLabel","renameInput","mailboxName","showMoveModal","hasDelimiter","UNIFIED_INBOX_ID","notInbox","notVirtual","to","hasSubMailboxes","subMailboxes","statsText","total","unread","isSubscribed","isDroppableSpecialMailbox","isActive","isUnifiedButOnlyInbox","showUnreadCounter","subCounter","beforeDestroy","fetchMailboxStats","getMailboxStatus","stats","withPrefix","markAsRead","changeFolderSubscription","subscribed","changeSyncInBackground","attributes","syncInBackground","clearCache","clearMailbox","deleteMailbox","renameMailbox","showInfo","openRenameInput","onOpenMoveModal","onCloseMoveModal","onEnvelopesMoved","slot","subMailbox","IconOutbox","count","$emit","KeyboardShortcuts","IconEmail","loadingAvatarSettings","optOutSettingsText","loadingOptOutSettings","replySettingsText","loadingReplySettings","displayKeyboardShortcuts","autoTaggingText","toggleAutoTagging","useBottomReplies","useExternalAvatars","useDataCollection","useAutoTagging","allowNewMailAccounts","onToggleButtonReplies","onToggleExternalAvatars","onToggleCollectData","onToggleAutoTagging","registerProtocolHandler","err","showKeyboardShortcuts","closeKeyboardShortcuts","toggleKeyboardShortcuts","AppNavigation","AppNavigationSettings","AppNavigationSpacer","AppSettingsMenu","NavigationAccount","NavigationAccountExpandCollapse","NavigationMailbox","NavigationOutbox","NewMessageButtonHeader","IconSetting","isCollapsible","unifiedAccount","unifiedMailboxes","passwordIsUnavailable","isCollapsed","group","collapsed","Signature","_defineSchema","_defineConverters","commands","add","schema","register","inheritAllFrom","conversion","elementToElement","view","classes","Plugin","Quote","Mail","Paragraph","_overwriteParagraphConversion","styles","margin","converterPriority","ckeditor","html","placeholder","plugins","HeadingPlugin","AlignmentPlugin","BoldPlugin","ItalicPlugin","BlockQuotePlugin","LinkPlugin","ListStyle","FontPlugin","RemoveFormat","StrikethroughPlugin","ImagePlugin","ImageUploadPlugin","Base64UploadAdapter","ImageResizePlugin","MailPlugin","toolbar","ready","items","language","loadEditorTranslations","showEditor","onEditorReady","onEditorInput","appendToBodyAtCursor","editorExecute","args","size","fillColor","_g","_b","listeners"],"sourceRoot":""}